{"meta":{"title":"å¾®é£çš„åšå®¢","subtitle":"","description":"","author":"SugarBreeze","url":"https://weifeng233.github.io","root":"/"},"pages":[],"posts":[{"title":"åŠå°æ—¶é€Ÿé€šRust","slug":"åŠå°æ—¶é€Ÿé€šRust","date":"2024-02-16T19:20:11.922Z","updated":"2024-02-16T19:21:26.931Z","comments":true,"path":"2024/02/17/åŠå°æ—¶é€Ÿé€šRust/","link":"","permalink":"https://weifeng233.github.io/2024/02/17/%E5%8D%8A%E5%B0%8F%E6%97%B6%E9%80%9F%E9%80%9ARust/","excerpt":"","text":"ç¼–ç¨‹è¯­è¨€ä¸å­¦Rustï¼Œå°±å¦‚åŒæ¸¸æˆä¸ç©åŸç¥ æœ¬æ–‡ç¿»è¯‘è‡ªA half-hour to learn Rust letletç”¨äºå£°æ˜å˜é‡ç»‘å®š(binding) 12let x; // å£°æ˜ xx = 42; // å°† 42 èµ‹å€¼ç»™ x ä¹Ÿå¯ä»¥å†™æˆä¸€è¡Œï¼š 1let x = 42; å¯ä»¥é€šè¿‡:æ¥æ˜¾å¼æŒ‡å®šå˜é‡ç±»å‹ï¼Œå³ç±»å‹æ³¨é‡Šï¼š 1234let x: i32; // `i32` ä¸º 32 ä½æœ‰ç¬¦å·æ•´å‹x = 42;// åœ¨Rustä¸­ï¼Œæ•´å‹æœ‰ i8, i16, i32, i64, 128// ä»¥åŠå¯¹åº”çš„æ— ç¬¦å·ç±»å‹ u8, u16, u32, u64, u128 ä¹Ÿå¯ä»¥å†™æˆä¸€è¡Œï¼š 1let x: i32 = 42; å¦‚æœä½ åœ¨å£°æ˜å˜é‡åï¼Œåˆå§‹åŒ–å‰ä½¿ç”¨å˜é‡ï¼Œåˆ™ä¼šè¢«ç¼–è¯‘å™¨é˜»æ­¢ï¼š 123let x;foobar(x); // error: borrow of possibly-uninitialized variable: `x`x = 42; è¿™æ ·åˆ™æ²¡é—®é¢˜ï¼š 123let x;x = 42;foobar(x); // `x` çš„ç±»å‹å°†ä¼šæ ¹æ®æ­¤å¤„æ¨æ–­ ä¸‹åˆ’çº¿_æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„å˜é‡åç§°ï¼Œå³ç¼ºçœåç§°ã€‚é€šå¸¸ä½¿ç”¨_è¯´æ˜ä¸¢å¼ƒä¸€äº›ä¸œè¥¿ï¼š 123let _ = 42; // å°†ä¸ä¼šåšä»»ä½•äº‹ï¼Œå› ä¸º 42 æ˜¯ä¸€ä¸ªå¸¸é‡let _ = get_thing(); // è°ƒç”¨ `get_thing` ä½†ä¸¢å¼ƒè¿”å›å€¼ å˜é‡å¯ä»¥ä»¥ä¸‹åˆ’çº¿å¼€å¤´ï¼Œé™¤äº†ç¼–è¯‘å™¨ä¸ä¼šè­¦å‘Šå®ƒä»¬æœªè¢«ä½¿ç”¨ä¹‹å¤–ä¸æ™®é€šå˜é‡åä¸€æ ·ï¼š 12// `_x` å¯èƒ½æœ€ç»ˆä¼šè¢«ç”¨åˆ°ï¼Œä½†æ˜¯ç›®å‰ä»£ç è¿˜æ²¡æœ‰å®Œæˆï¼Œå¹¶ä¸”å½“å‰ä¸æƒ³çœ‹åˆ°ç¼–è¯‘å™¨å¯¹å…¶çš„è­¦å‘Šlet _x = 42; å¯ä»¥å¼•å…¥ç›¸åŒåç§°çš„å˜é‡ç»‘å®šï¼Œè¿›è€Œéšè—åŸå…ˆçš„å˜é‡ç»‘å®šï¼š 123let x = 13;let x = x + 3;// ä¹‹åä½¿ç”¨ `x` ä»…æŒ‡ä»£ç¬¬äºŒä¸ª `x`ï¼Œ ç¬¬ä¸€ä¸ª `x` ä¸å†å­˜åœ¨ Tupleå…ƒç»„(Tuple)å¯ä»¥å°†å…¶è§†ä½œä¸åŒç±»å‹å€¼çš„å®šé•¿é›†åˆï¼š 123let pair = (&#x27;a&#x27;, 17);pair.0 // &#x27;a&#x27;pair.1 // 17 è‹¥è¦ç»™å…ƒç»„æ·»åŠ ç±»å‹æ³¨é‡Šï¼Œåˆ™å¯ä»¥ï¼š 1let pair: (char, i32) = (&#x27;a&#x27;, 17); åœ¨è¿›è¡Œèµ‹å€¼çš„æ—¶å€™å…ƒç»„å¯ä»¥è¢«è§£æ„ï¼Œå³å¯ä»¥åˆ†è§£ä¸ºç‹¬ç«‹çš„å­—æ®µï¼š 1let (some_char, some_int) = (&#x27;a&#x27;, 17); åœ¨å‡½æ•°è¿”å›å…ƒç»„æ—¶éå¸¸æœ‰ç”¨ï¼š 1let (left, right) = slice.split_at(middle); å½“ç„¶ï¼Œåœ¨ç»“æ„å…ƒç»„çš„æ—¶å€™ä¹Ÿå¯ä»¥ä½¿ç”¨_æ¥ä¸¢å¼ƒå…¶ä¸­ä¸€éƒ¨åˆ†ï¼š 1let (_, right) = slice.split_at(middle); è¯­å¥å’Œè¡¨è¾¾å¼åˆ†å·æ ‡å¿—ç€è¯­å¥çš„ç»“æŸï¼š 123let x = 3;let y = 5;let z = x + y; è¿™æ„å‘³ç€è¯­å¥å¯ä»¥è·¨è¶Šå¤šè¡Œï¼š 1234let x = vec![1, 2, 3, 4, 5, 6, 7, 8] .iter() .map(|x| x + 3) .fold(0, |x, y| x + y); ï¼ˆåæ–‡ä¼šå¯¹å…¶ä½œè®²è§£ï¼‰ fnfnç”¨äºå£°æ˜å‡½æ•°è¿™æ˜¯ä¸€ä¸ªæ— è¿”å›å€¼çš„å‡½æ•°ï¼š 123fn greet() &#123; println!(&quot;Hi there!&quot;);&#125; è¿™æ˜¯ä¸€ä¸ªè¿”å› 32 ä½æœ‰ç¬¦å·æ•´å‹çš„å‡½æ•°ã€‚ç”¨ç®­å¤´æ¥è¡¨ç¤ºå…¶è¿”å›å€¼ç±»å‹ï¼š 123fn fair_dice_roll() -&gt; i32 &#123; 4&#125; èŠ±æ‹¬å·å¯¹&#123;&#125;ç”¨äºå£°æ˜å—(Block)ï¼Œå®ƒæœ‰è‡ªå·±çš„ä½œç”¨åŸŸï¼š 12345678910// è¯¥ç¨‹åºä¼šå…ˆè¾“å‡º &quot;in&quot; ç„¶åæ˜¯ &quot;out&quot;fn main() &#123; let x = &quot;out&quot;; &#123; // æ­¤å¤„æ˜¯å¦ä¸€ä¸ª `x` let x = &quot;in&quot;; println!(&quot;&#123;&#125;&quot;, x); &#125; println!(&quot;&#123;&#125;&quot;, x);&#125; å—ä¹Ÿæ˜¯è¡¨è¾¾å¼ï¼Œè¿™æ„å‘³ç€å…¶è®¡ç®—ç»“æœä¹Ÿæ˜¯ä¸€ä¸ªå€¼ã€‚ 123// ä»¥ä¸‹ä¸¤è¡Œæ˜¯ç­‰ä»·çš„let x = 42;let x = &#123; 42 &#125;; åœ¨ä¸€ä¸ªå—å†…å¯ä»¥æœ‰å¤šæ¡è¯­å¥ï¼š 12345let x = &#123; let y = 1; // ç¬¬ä¸€æ¡è¯­å¥ let z = 2; // ç¬¬äºŒæ¡è¯­å¥ y + z // è¿™é‡Œæ˜¯*å°¾å·´* - æ•´ä¸ªå—ä¼šè¢«è®¤å®šçš„è¡¨è¾¾å¼&#125;; è¿™å°±æ˜¯ä¸ºä»€ä¹ˆâ€çœç•¥å‡½æ•°æœ«å°¾çš„åˆ†å·â€œä¸returnæ˜¯ç›¸åŒçš„ï¼Œå³ä»¥ä¸‹å†™æ³•æ˜¯ç­‰æ•ˆçš„ï¼š 1234567fn fair_dice_roll() -&gt; i32 &#123; return 4;&#125;fn fair_dice_roll() -&gt; i32 &#123; 4&#125; if æ¡ä»¶ä¹Ÿæ˜¯è¡¨è¾¾å¼ï¼š 1234567fn fair_dice_roll() -&gt; i32 &#123; if feeling_lucky &#123; 6 &#125; else &#123; 4 &#125;&#125; matchä¹Ÿæ˜¯è¡¨è¾¾å¼ï¼š 123456fn fair_dice_roll() -&gt; i32 &#123; match feeling_lucky &#123; true =&gt; 6, false =&gt; 4, &#125;&#125; è¡¨è¾¾å¼æ€»ä¼šè¿”å›å€¼ï¼Œèƒ½è¿”å›å€¼çš„å°±æ˜¯è¡¨è¾¾å¼ï¼Œè¡¨è¾¾å¼ä¸èƒ½ä»¥åˆ†å·ç»“å°¾ï¼Œå¦åˆ™å°±å˜æˆäº†è¯­å¥ï¼Œä¸å†è¿”å›å€¼ï¼Œè‹¥è¡¨è¾¾å¼ä¸è¿”å›å€¼ï¼Œåˆ™ä¼šéšå¼åœ°è¿”å›ä¸€ä¸ª()ã€‚ç‚¹.é€šå¸¸ç”¨äºè®¿é—®å€¼çš„å­—æ®µï¼š 12345let a = (10, 20);a.0; // 10let amos = get_some_struct();amos.nickname; // &quot;fasterthanlime&quot; æˆ–è€…å¯¹å€¼è°ƒç”¨æ–¹æ³•ï¼š 12let nick = &quot;fasterthanlime&quot;;nick.len(); // 14 åŒå†’å·::ä¸å…¶ç±»ä¼¼ï¼Œä½†æ˜¯å®ƒä½¿ç”¨åœ¨å‘½åç©ºé—´ä¸Šã€‚åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œstdæ˜¯ä¸€ä¸ªåŒ…(crate)ï¼ˆæˆ–è€…è¯´åº“ï¼‰ï¼Œcmpæ˜¯ä¸€ä¸ªæ¨¡å—(module)ï¼ˆæˆ–è€…è¯´æºæ–‡ä»¶ï¼‰ï¼Œä»¥åŠminæ˜¯ä¸€ä¸ªå‡½æ•°(function)ï¼š 1let least = std::cmp::min(3, 8); // 3 useå¯ç”¨äºä»å…¶ä»–å‘½åç©ºé—´å¼•å…¥åç§°åˆ°ä½œç”¨åŸŸï¼š 123use std::cmp::min;let least = min(7, 1); // 1 ä½¿ç”¨useæ—¶ï¼ŒèŠ±æ‹¬å·è¿˜æœ‰å¦ä¸€ç§å«ä¹‰ï¼Œå³ globã€‚å¦‚æœæˆ‘ä»¬æƒ³åŒæ—¶å¯¼å…¥minå’Œmaxï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä»¥ä¸‹ä»»æ„ä¸€ç§æ–¹å¼ï¼š 123456use std::cmp::min;use std::cmp::max;use std::cmp::&#123;min, max&#125;;use std::&#123;cmp::min, cmp::max&#125;; é€šé…ç¬¦*å…è®¸ä½ ä»å‘½åç©ºé—´å¯¼å…¥æ‰€æœ‰ç¬¦å·ï¼š 12// è¿™å°†ä¼šå°† `min` å’Œ `max` ä»¥åŠè®¸å¤šå…¶ä»–ä¸œè¥¿å¯¼å…¥åˆ°å½“å‰ä½œç”¨åŸŸuse std::cmp::*; ç±»å‹ä¹Ÿæ˜¯å‘½åç©ºé—´ï¼Œæ–¹æ³•å¯ä»¥ä½œä¸ºå¸¸è§„å‡½æ•°è°ƒç”¨ï¼š 12let x = &quot;amos&quot;.len(); // 4let x = str::len(&quot;amos&quot;); // 4 stræ˜¯åŸå§‹ç±»å‹ï¼Œä½†é»˜è®¤æƒ…å†µä¸‹è®¸å¤šéåŸå§‹ç±»å‹ä¹ŸåŒ…å«åœ¨ä½œç”¨åŸŸå†…ï¼š 12345// `Vec` æ˜¯ä¸€ä¸ªå¸¸è§„çš„ç»“æ„ä½“ï¼Œä¸æ˜¯åŸå§‹ç±»å‹let v = Vec::new();// ä¸ä¸Šé¢çš„ä»£ç ç›¸åŒï¼Œä½†æ˜¯ä½¿ç”¨äº† `Vec` çš„å®Œæ•´è·¯å¾„let v = std::vec::Vec::new(); è¿™ä¹‹æ‰€ä»¥æœ‰æ•ˆæ˜¯å› ä¸º Rust ä¼šåœ¨æ¯ä¸ªæ¨¡å—çš„å¼€å¤´æ’å…¥ä»¥ä¸‹ä»£ç ï¼š 1use std::prelude::v1::*; è¿™ä¼šé‡æ–°å¯¼å‡ºå¾ˆå¤šç¬¦å·ï¼Œä¾‹å¦‚Vecï¼ŒStringï¼ŒOptionå’ŒResultã€‚ structç»“æ„ä½“ä½¿ç”¨structå…³é”®å­—å£°æ˜ï¼š 1234struct Vec2 &#123; x: f64, // 64 ä½æµ®ç‚¹æ•°ï¼Œå³åŒç²¾åº¦ y: f64,&#125; å®ƒä»¬å¯ä»¥é€šè¿‡ç»“æ„ä½“å­—é¢é‡åˆå§‹åŒ–ï¼š 123let v1 = Vec2 &#123; x: 1.0, y: 3.0&#125;;let v2 = Vec2 &#123; y: 2.0, x: 4.0&#125;;// é¡ºåºä¸éœ€è¦å…³æ³¨ï¼Œåªéœ€è¦å…³æ³¨åç§° æœ‰ä¸€ç§ç®€ä¾¿å†™æ³•å¯ä»¥ä»å¦ä¸€ä¸ªç»“æ„ä½“åˆå§‹åŒ–å‰©ä½™çš„å­—æ®µï¼š 1234let v3 = Vec2 &#123; x: 14.0, ..v2&#125; è¿™è¢«ç§°ä¸ºâ€ç»“æ„ä½“æ›´æ–°è¯­æ³•â€œï¼Œåªèƒ½ç”¨åœ¨æœ€åä¸€ä¸ªä½ç½®ï¼Œä¸”åé¢ä¸èƒ½è·Ÿé€—å·ã€‚æ³¨æ„ï¼Œå…¶ä½™å­—æ®µå¯ä»¥è¡¨ç¤ºæ‰€æœ‰å­—æ®µï¼š 1let v4 = Vec2 &#123; ..v3 &#125;; æ¨¡å¼ç»“æ„ä½“ä¸å…ƒç»„ä¸€æ ·ï¼Œå¯ä»¥è¢«è§£æ„ã€‚å°±å’Œä»¥ä¸‹æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„letæ¨¡å¼ä¸€æ ·ï¼š 1let (left, right) slice.split_at(middle); ä»¥ä¸‹ä¹Ÿæ˜¯å¦‚æ­¤ï¼š 123let v = Vec2 &#123; x: 3.0, y: 6.0&#125;;let Vec2 &#123; x, y &#125; = v;// `x` ä¸º 3.0ï¼Œ `y` ä¸º 6.0 ä»¥åŠè¿™æ ·ï¼š 12let Vec2 &#123; x, ..&#125; = v;// å°†ä¼šå¿½ç•¥ `v.y` æ¨¡å¼æ˜¯ Rust ä¸­çš„ç‰¹æ®Šè¯­æ³•ï¼Œå®ƒç”¨æ¥åŒ¹é…ç±»å‹ä¸­çš„ç»“æ„å’Œæ•°æ®ï¼Œå®ƒå¾€å¾€å’Œ match è¡¨è¾¾å¼è”ç”¨ï¼Œä»¥å®ç°å¼ºå¤§çš„æ¨¡å¼åŒ¹é…èƒ½åŠ›ã€‚æ¨¡å¼ä¸€èˆ¬ç”±ä»¥ä¸‹å†…å®¹ç»„åˆè€Œæˆï¼š å­—é¢å€¼ è§£æ„çš„æ•°ç»„ã€æšä¸¾ã€ç»“æ„ä½“æˆ–è€…å…ƒç»„ å˜é‡ é€šé…ç¬¦ å ä½ç¬¦letæ¨¡å¼å¯ä»¥ç”¨ä½œifçš„æ¡ä»¶ï¼š1234567891011121314151617181920212223struct Number &#123; odd: bool, value: i32,&#125;fn main() &#123; let one = Number &#123; odd: true, value: 1 &#125;; let two = Number &#123; odd: false, value: 2 &#125;; print_number(one); print_number(two);&#125;fn print_number(n: Number) &#123; if let Number &#123; odd: true, value &#125; = n &#123; println!(&quot;Odd number: &#123;&#125;&quot;, value); &#125; else if let Number &#123; odd: false, value &#125; = n &#123; println!(&quot;Even number: &#123;&#125;&quot;, value); &#125;&#125;// å°†ä¼šè¾“å‡ºï¼š// Odd number: 1// Even number: 2 matchåˆ†æ”¯åŒæ ·åŒäºæ¨¡å¼ï¼Œå°±åƒif letï¼š12345678fn print_number(n: Number) &#123; match n &#123; Number &#123; odd: true, value &#125; =&gt; println!(&quot;Odd number: &#123;&#125;&quot;, value), Number &#123; odd: false, value &#125; =&gt; println!(&quot;Even number: &#123;&#125;&quot;, value), &#125;&#125;// è¾“å‡ºä¸ä¹‹å‰ç›¸åŒ matchæ˜¯ç©·å°½å¼çš„ï¼Œå³è‡³å°‘æœ‰ä¸€ä¸ªåˆ†æ”¯è¢«åŒ¹é…ã€‚12345678fn print_number(n: Number) &#123; match n &#123; Number &#123; value: 1, .. &#125; =&gt; println!(&quot;One&quot;), Number &#123; value: 2, .. &#125; =&gt; println!(&quot;Two&quot;), Number &#123; value, .. &#125; =&gt; println!(&quot;&#123;&#125;&quot;, value), // å¦‚æœæœ€åä¸€ä¸ªåˆ†æ”¯ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆç¼–è¯‘å™¨å°†ä¼šæŠ¥é”™ &#125;&#125; å¦‚æœå¾ˆéš¾åšåˆ°åŒ¹é…æ‰€æœ‰åˆ†æ”¯ï¼Œé‚£ä¹ˆåˆ™å¯ä»¥ä½¿ç”¨_æ¥åŒ¹é…æ‰€æœ‰å‰©ä½™çš„æƒ…å†µï¼š1234567fn print_number(n: Number) &#123; match n.value &#123; 1 =&gt; println!(&quot;One&quot;), 2 =&gt; println!(&quot;Two&quot;), _ =&gt; println!(&quot;&#123;&#125;&quot;, n.value), &#125;&#125; ä½ å¯ä»¥åœ¨è‡ªå·±çš„ç±»å‹ä¸Šå£°æ˜æ–¹æ³•ï¼š12345678910struct Number &#123; odd: bool, value: i32,&#125;impl Number &#123; fn is_strictly_positive(self) -&gt; bool &#123; self.value &gt; 0 &#125;&#125; å¹¶åƒé€šå¸¸ä¸€æ ·ä½¿ç”¨å®ƒä»¬ï¼š12345678fn main() &#123; let minus_two = Number &#123; odd: false, value: -2, &#125;; println!(&quot;positive? &#123;&#125;&quot;, minus_two.is_strictly_positive()); // è¾“å‡º &quot;positive? false&quot;&#125; muté»˜è®¤æƒ…å†µä¸‹ï¼Œå˜é‡ç»‘å®šæ˜¯ä¸å¯å˜çš„ï¼Œè¿™æ„å‘³ç€å®ƒä»¬çš„å†…éƒ¨çŠ¶æ€ä¸èƒ½è¢«æ”¹å˜ï¼š12345678fn main() &#123; let n = Number &#123; odd: true, value: 17, &#125;; n.odd = false; // error: cannot assign to `n.odd`, // as `n` is not declared to be mutable&#125; åŒæ—¶å®ƒä»¬ä¹Ÿä¸èƒ½è¢«é‡æ–°èµ‹å€¼ï¼š12345678910fn main() &#123; let n = Number &#123; odd: true, value: 17, &#125;; n = Number &#123; odd: false, value: 22, &#125;; // error: cannot assign twice to immutable variable `n`&#125; mutå¯ä½¿å˜é‡ç»‘å®šå¯å˜ï¼š1234567fn main() &#123; let mut n = Number &#123; odd: true, value: 17, &#125; n.value = 19; // ä¸€åˆ‡é¡ºåˆ©&#125; ç‰¹å¾ç‰¹å¾(trait)æ˜¯æŒ‡å¤šç§ç±»å‹å¯ä»¥å…±æœ‰çš„å…±åŒç‚¹ï¼š123trait Signed &#123; fn is_strictly_negative(self) -&gt; bool;&#125; ä½ å¯ä»¥å®ç°ï¼š å¯¹ä»»ä½•äººçš„ç±»å‹ä½¿ç”¨ä½ çš„ç‰¹å¾ å°†ä»»ä½•äººçš„ç‰¹å¾ç”¨äºä½ çš„ç±»å‹ ä¸èƒ½å°†å¤–æ¥ç‰¹å¾ç”¨äºå¤–æ¥ç±»å‹è¿™è¢«ç§°ä½œå­¤å„¿è§„åˆ™(orphan rules)ï¼Œæ›´ä¸ºè§„èŒƒçš„å®šä¹‰æ˜¯å¦‚æœä½ æƒ³è¦ä¸ºç±»å‹ A å®ç°ç‰¹å¾ Tï¼Œé‚£ä¹ˆ A æˆ–è€… T è‡³å°‘æœ‰ä¸€ä¸ªæ˜¯åœ¨å½“å‰ä½œç”¨åŸŸä¸­å®šä¹‰çš„ã€‚è¿™æ˜¯ä¸€ä¸ªå°†æˆ‘ä»¬çš„ç‰¹å¾ç”¨åœ¨æˆ‘ä»¬çš„ç±»å‹ä¸Šçš„å®ç°ï¼š12345678910impl Signed for Number &#123; fn is_strictly_negative(self) -&gt; bool &#123; self.value &lt; 0 &#125;&#125;fn main() &#123; let n = Number &#123; odd: false, value: -44 &#125;; println!(&quot;&#123;&#125;&quot;, n.is_strictly_negative()); // è¾“å‡º &quot;true&quot;&#125; å°†æˆ‘ä»¬çš„ç‰¹å¾ç”¨åœ¨å¤–æ¥ç±»å‹ï¼ˆç”šè‡³æ˜¯åŸå§‹ç±»å‹ï¼‰ä¸Šï¼š12345678910impl Signed for i32 &#123; fn is_strictly_negative(self) -&gt; bool &#123; self &lt; 0 &#125;&#125;fn main() &#123; let n: i32 = -44; println!(&quot;&#123;&#125;&quot;, n.is_strictly_negative()); // è¾“å‡º &quot;true&quot;&#125; å°†å¤–æ¥ç‰¹å¾ç”¨åœ¨æˆ‘ä»¬çš„ç±»å‹ä¸Šï¼š1234567891011121314151617// `Neg` ç‰¹å¾ç”¨äºé‡è½½ `-`ï¼Œå³ä¸€å…ƒå‡è¿ç®—ç¬¦impl std::ops::Neg for Number &#123; type Output = Number; fn neg(self) -&gt; Number &#123; Number &#123; value: -self.value, odd: self.odd, &#125; &#125;&#125;fn main() &#123; let n = Number &#123; odd: true, value: 987 &#125;; let m = -n; // å› ä¸ºæˆ‘ä»¬å®ç°äº† `Neg` æ‰€ä»¥å¯ä»¥è¿™æ ·åš println!(&quot;&#123;&#125;&quot;, m.value); // è¾“å‡º &quot;-987&quot;&#125; ä¸€ä¸ªimplå—ä½¿ç”¨ä»£è¡¨ä¸€ç§ç±»å‹ï¼Œæ‰€ä»¥åœ¨è¯¥å—é‡ŒSelfè¡¨ç¤ºè¯¥ç±»å‹ï¼š12345678910impl std::ops::Neg for Number &#123; type Output = Self; fn neg(self) -&gt; Self &#123; Self &#123; value: -self.value, odd: self.odd, &#125; &#125;&#125; æœ‰ä¸€äº›ç‰¹å¾æ˜¯æ ‡è®°(marker)ï¼Œå®ƒä»¬å¹¶ä¸æ˜¯æŒ‡è¯¥ç±»å‹å®ç°äº†æŸäº›æ–¹æ³•ï¼Œè€Œæ˜¯æŒ‡å¯ä»¥ç”¨è¯¥ç±»å‹å®ŒæˆæŸäº›äº‹æƒ…ã€‚ä¾‹å¦‚ï¼Œi32å®ç°äº†ç‰¹å¾Copyï¼ˆç®€å•è¯´i32æ˜¯Copyï¼‰ï¼Œæ‰€ä»¥ä»¥ä¸‹æ˜¯å¯è¡Œçš„ï¼š12345fn main() &#123; let a: i32 = 15; let b = a; // `a` è¢«å¤åˆ¶ let c = a; // `a` å†æ¬¡è¢«å¤åˆ¶&#125; åŒæ—¶ä»¥ä¸‹ä¹Ÿå¯è¡Œï¼š123456789fn print_i32(x: i32) &#123; println!(&quot;x = &#123;&#125;&quot;, x);&#125;fn main() &#123; let a: i32 = 15; print_i32(a); // `a` è¢«å¤åˆ¶ print_i32(a); // `a` å†æ¬¡è¢«å¤åˆ¶&#125; ä½†æ˜¯Numberç»“æ„ä½“ä¸æ˜¯Copyï¼Œæ‰€ä»¥ä»¥ä¸‹æ˜¯ä¸å¯è¡Œçš„ï¼š123456fn main() &#123; let n = Number &#123; odd: true, value: 51 &#125;; let m = n; // `n` è¢«ç§»åŠ¨è‡³ `m` let o = n; // error: use of moved value: `n` // å› ä¸ºè¯•å›¾ä½¿ç”¨ä¸€ä¸ªå·²ç»è¢«ç§»åŠ¨è¿‡çš„å€¼è€ŒæŠ¥é”™&#125; ä»¥ä¸‹ä¹Ÿæ˜¯å¦‚æ­¤ï¼š123456789fn print_number(n: Number) &#123; println!(&quot;&#123;&#125; number &#123;&#125;&quot;, if n.odd &#123; &quot;odd&quot; &#125; else &#123; &quot;even&quot; &#125;, n.value);&#125;fn main() &#123; let n = Number &#123; odd: true, value: 51 &#125;; print_number(n); // `n` è¢«ç§»åŠ¨ print_number(n); // error: use of moved value: `n`&#125; ä½†æ˜¯å¦‚æœprint_numberä½¿ç”¨ä¸å¯å˜å¼•ç”¨ï¼Œé‚£ä¹ˆå®ƒå°±å¯ä»¥å·¥ä½œï¼š123456789fn print_number(n: &amp;Number) &#123; println!(&quot;&#123;&#125; number &#123;&#125;&quot;, if n.odd &#123; &quot;odd&quot; &#125; else &#123; &quot;even&quot; &#125;, n.value);&#125;fn main() &#123; let n = Number &#123; odd: true, value: 51 &#125;; print_number(&amp;n); // `n` è¢«å¼•ç”¨ç»™è¿™æ¬¡è°ƒç”¨ print_number(&amp;n); // `n` å†æ¬¡è¢«å¼•ç”¨&#125; å¦‚æœå‡½æ•°é‡‡ç”¨å¯å˜å¼•ç”¨ï¼Œé‚£ä¹ˆä¹Ÿå¯ä»¥å·¥ä½œï¼Œå‰ææ˜¯æˆ‘ä»¬çš„å˜é‡ç»‘å®šä¹Ÿæ˜¯mutã€‚123456789101112131415fn invert(n: &amp;mut Number) &#123; n.value = -n.value;&#125;fn print_number(n: &amp;Number) &#123; println!(&quot;&#123;&#125; number &#123;&#125;&quot;, if n.odd &#123; &quot;odd&quot; &#125; else &#123; &quot;even&quot; &#125;, n.value);&#125;fn main() &#123; // è¿™ä¸€æ¬¡ `n` æ˜¯å¯å˜çš„ let mut n = Number &#123; odd: true, value: 51 &#125;; print_number(&amp;n); invert(&amp;mut n); // `n è¢«å¯å˜å¼•ç”¨ï¼Œä¸€åˆ‡éƒ½æ˜¯æ˜ç¡®çš„ print_number(&amp;n);&#125; ç‰¹å¾æ–¹æ³•è¿˜å¯ä»¥é€šè¿‡å¼•ç”¨æˆ–è€…å¯å˜å¼•ç”¨è·å–selfï¼š12345impl std::clone::Clone for Number &#123; fn clone(&amp;self) -&gt; Self &#123; Self &#123; ..*self &#125; &#125;&#125; å½“è°ƒç”¨ç‰¹å¾æ–¹æ³•æ—¶ï¼Œæ¥å—è€…è¢«éšå¼å¼•ç”¨ï¼š12345678fn main() &#123; let n = Number &#123; odd: true, value: 51 &#125;; let mut m = n.clone(); m.value += 100; print_number(&amp;n); print_number(&amp;m);&#125; ä¸ºäº†å¼ºè°ƒè¿™ä¸€ç‚¹ï¼Œä»¥ä¸‹å†™æ³•æ˜¯ç­‰æ•ˆçš„ï¼š123let m = n.clone();let m = std::clone::Clone::clone(&amp;n); åƒCopyè¿™æ ·çš„æ ‡è®°ç‰¹å¾æ²¡æœ‰æ–¹æ³•ï¼š123456// æ³¨æ„ï¼š`Copy` éœ€è¦ `Clone` ä¹Ÿè¢«å®ç°impl std::clone::Clone for Number &#123; fn clone(&amp;self) -&gt; Self &#123; Self &#123; ..*self &#125; &#125;&#125; ç°åœ¨Cloneä»ç„¶å¯ä»¥è¢«ä½¿ç”¨ï¼š12345fn main() &#123; let n = Number &#123; odd: true, value: 51 &#125;; let m = n.clone(); let o = n.clone();&#125; ä½†æ˜¯Numberçš„å€¼ä¸ä¼šå†è¢«ç§»åŠ¨ï¼š12345fn main() &#123; let n = Number &#123; odd: trie, value: 51 &#125;; let m = n; // `m` æ˜¯ `n` çš„ä¸€ä¸ªæ‹·è´ let o = n; // åŒæ ·ï¼Œ`n` ä¸å†ä¼šè¢«ç§»åŠ¨æˆ–å¼•ç”¨&#125; æœ‰äº›ç‰¹å¾éå¸¸å¸¸è§ï¼Œå¯ä»¥ä½¿ç”¨deriveå±æ€§è‡ªåŠ¨å®ç°ï¼š1234567#[derive(Clone, Copy)]struct Number &#123; odd: bool, value: i32,&#125;// è¿™å°†ä¼šå±•å¼€æˆ `impl Clone for Number` å’Œ `impl Copy for Number` å— æ³›å‹(Generics)å‡½æ•°å¯ä»¥æ˜¯æ³›å‹åŒ–çš„ï¼š123fn foobar&lt;T&gt;(arg: T) &#123; // ä¸ `arg` ç›¸å…³çš„æ“ä½œ&#125; å®ƒä»¬å¯ä»¥æœ‰å¤šä¸ªç±»å‹å‚æ•°ï¼Œç„¶åå¯ä»¥åœ¨å‡½æ•°çš„å£°æ˜åŠå…¶ä¸»ä½“ä¸­ä½¿ç”¨è¿™äº›å‚æ•°ï¼Œè€Œä¸æ˜¯å…·ä½“ç±»å‹ï¼š123fn foobar&lt;L, R&gt;(left: L, right: R) &#123; // ä¸ `left` å’Œ `right` ç›¸å…³çš„æ“ä½œ&#125; ç±»å‹å‚æ•°é€šå¸¸ç”±çº¦æŸ(constraint)ï¼Œæ‰€ä»¥å®é™…ä¸Šä½ å¯ä»¥ç”¨å®ƒä»¬æ¥åšä¸€äº›äº‹æƒ…ã€‚æœ€ç®€å•çš„çº¦æŸæ˜¯ç‰¹å¾åç§°ï¼š1234567fn print&lt;T: Display&gt;(value: T) &#123; println!(&quot;value = &#123;&#125;&quot;, value);&#125;fn print&lt;T: Debug&gt;(value: T) &#123; println!(&quot;value = &#123;:?&#125;&quot;, value);&#125; ç±»å‹å‚æ•°çº¦æŸç”±ä¸€ç§æ›´é•¿çš„è¯­æ³•ï¼š123456fn print&lt;T&gt;(value: T)where T: Display,&#123; println!(&quot;value = &#123;&#125;&quot;, value);&#125; çº¦æŸå¯ä»¥æ›´å¤æ‚ï¼šå®ƒä»¬å¯èƒ½éœ€è¦ç±»å‹å‚æ•°å®ç°å¤šä¸ªç‰¹å¾ï¼š12345678910111213use std::fmt::Debug;fn compare&lt;T&gt;(left: T, right: T)where T:Debug + PartialEq,&#123; println!(&quot;&#123;:?&#125; &#123;&#125; &#123;:?&#125;&quot;, left, if left == right &#123; &quot;==&quot; &#125; else &#123; &quot;!=&quot; &#125;, right);&#125;fn main() &#123; compare(&quot;tea&quot;, &quot;coffee&quot;); // è¾“å‡º &quot;tea != coffee&quot;&#125; æ³›å‹å‡½æ•°å¯ä»¥è¢«è®¤ä¸ºæ˜¯å‘½åç©ºé—´ï¼ŒåŒ…å«æ— ç©·ä¸ªå…·æœ‰ä¸åŒå…·ä½“ç±»å‹çš„å‡½æ•°ã€‚ä¸åŒ…ï¼Œæ¨¡å—å’Œç±»å‹ç›¸åŒï¼Œå¯ä»¥å¯¹æ³›å‹å‡½æ•°ä½¿ç”¨::12345fn main() &#123; use std::any::type_name; println!(&quot;&#123;&#125;&quot;, type_name::&lt;i32&gt;()); // è¾“å‡º &quot;i32&quot; println!(&quot;&#123;&#125;&quot;, type_name::&lt;(f64, char)&gt;()); // è¾“å‡º &quot;(f64, char)&quot;&#125; è¿™è¢«äº²åˆ‡åœ°ç§°ä¸º turbofish è¯­æ³•ï¼Œå› ä¸º::&lt;&gt;çœ‹èµ·æ¥åƒä¸€æ¡é±¼ã€‚ç»“æ„ä¹Ÿå¯ä»¥æ³›å‹åŒ–ï¼š123456789101112131415struct Pair&lt;T&gt; &#123; a: T, b: T,&#125;fn print_type_name&lt;T&gt;(_val: &amp;T) &#123; println!(&quot;&#123;&#125;&quot;, std::any::type_name::&lt;T&gt;());&#125;fn main() &#123; let p1 = Pair &#123; a: 3, b: 9&#125;; let p2 = Pair &#123; a: true, b: false&#125;; print_type_name(&amp;p1); print_type_name(&amp;p2);&#125; æ ‡å‡†åº“ç±»å‹Vecï¼ˆæˆ–è€…è¯´å †åˆ†é…çš„æ•°ç»„ï¼‰æ˜¯æ³›å‹åŒ–çš„ï¼š12345678fn main() &#123; let mut v1 = Vec::new(); v1.push(1); let mut v2 = Vec::new(); v2.push(false); print_type_name(&amp;v1); // prints &quot;Vec&lt;i32&gt;&quot; print_type_name(&amp;v2); // prints &quot;Vec&lt;bool&gt;&quot;&#125; å®è¯´åˆ°Vecï¼Œå®ƒå¸¦æœ‰ä¸€ä¸ªå®ï¼Œå¯ä»¥æä¾›æˆ–å¤šæˆ–å°‘çš„â€vec å­—é¢é‡â€œï¼š123456fn main() &#123; let v1 = vec![1, 2, 3]; let v2 = vec![true, false, true]; print_type_name(&amp;v1); print_type_name(&amp;v2);&#125; æ‰€æœ‰çš„name!()ï¼Œname![]å’Œname!&#123;&#125;éƒ½ä¼šè°ƒç”¨å®ã€‚å®åªæ˜¯å±•å¼€æˆå¸¸è§„ä»£ç ã€‚å®é™…ä¸Šprintlnæ˜¯ä¸€ä¸ªå®ï¼š123fn main() &#123; println!(&quot;&#123;&#125;&quot;, &quot;Hello there!&quot;);&#125; è¿™ä¼šå±•å¼€æˆå…·æœ‰ç›¸åŒæ•ˆæœçš„ä¸œè¥¿ï¼š1234fn main() &#123; use std::io::&#123;self, Write&#125;; io::stdout().lock().write_all(b&quot;Hello there!\\n&quot;).unwrap();&#125; panicä¹Ÿæ˜¯ä¸€ä¸ªå®ï¼Œå®ƒä¼šçŒ›çƒˆåœ°åœæ­¢æ‰§è¡Œå¹¶æ˜¾ç¤ºé”™è¯¯æ¶ˆæ¯å’Œæ–‡ä»¶å / è¡Œå·ï¼š123fn main() &#123; panic!(&quot;This panics&quot;);&#125; æœ‰äº›æ–¹æ³•ä¹Ÿä¼šå‡ºç°panicã€‚ä¾‹å¦‚ï¼ŒOptionç±»å‹å¯ä»¥åŒ…å«æŸäº›å†…å®¹ï¼Œä¹Ÿå¯ä»¥ä¸åŒ…å«ä»»ä½•å†…å®¹ã€‚å¦‚æœ.unwrap()è¢«è°ƒç”¨ï¼Œå¹¶ä¸”å®ƒä¸åŒ…æ‹¬ä»»ä½•å†…å®¹ï¼Œé‚£ä¹ˆå°±ä¼šå‘ç”Ÿpanicï¼š123456789fn main() &#123; let o1: Option&lt;i32&gt; = Some(128); o1.unwrap(); // this is fine let o2: Option&lt;i32&gt; = None; o2.unwrap(); // this panics!&#125;// output: thread &#x27;main&#x27; panicked at &#x27;called `Option::unwrap()` on a `None` value&#x27;, src/libcore/option.rs:378:21 Optionä¸æ˜¯ä¸€ä¸ªç»“æ„ä½“ï¼Œå®ƒæ˜¯ä¸€ä¸ªæšä¸¾(enum)ï¼Œæœ‰ä¸¤ä¸ªæˆå‘˜ï¼š1234567891011121314151617181920212223242526num Option&lt;T&gt; &#123; None, Some(T),&#125;impl&lt;T&gt; Option&lt;T&gt; &#123; fn unwrap(self) -&gt; T &#123; // æšä¸¾æˆå‘˜å¯ä»¥è¢«ç”¨åœ¨æ¨¡å¼ä¸­ï¼š match self &#123; Self::Some(t) =&gt; t, Self::None =&gt; panic!(&quot;.unwrap() called on a None option&quot;), &#125; &#125;&#125;use self::Option::&#123;None, Some&#125;;fn main() &#123; let o1: Option&lt;i32&gt; = Some(128); o1.unwrap(); // this is fine let o2: Option&lt;i32&gt; = None; o2.unwrap(); // this panics!&#125;// output: thread &#x27;main&#x27; panicked at &#x27;.unwrap() called on a None option&#x27;, src/main.rs:11:27 Resultä¹Ÿæ˜¯ä¸€ä¸ªæšä¸¾ï¼Œå®ƒå¯ä»¥åŒ…å«æŸäº›å†…å®¹ï¼Œä¹Ÿå¯ä»¥åŒ…å«é”™è¯¯ï¼š1234enum Result&lt;T, E&gt; &#123; Ok(T), Err(E),&#125; è‹¥è°ƒç”¨unwrapæ—¶åŒ…å«é”™è¯¯ï¼Œé‚£ä¹ˆå®ƒä¹Ÿä¼španicã€‚å˜é‡ç»‘å®šå˜é‡ç»‘å®šæ‹¥æœ‰ä¸€ä¸ªâ€ç”Ÿå‘½å‘¨æœŸâ€œï¼š123456789fn main() &#123; // `x` è¿˜ä¸å­˜åœ¨ &#123; let x = 42; // `x` å¼€å§‹å­˜åœ¨ println!(&quot;x = &#123;&#125;&quot;, x); // `x` åœæ­¢å­˜åœ¨ &#125; // `x` ä¸å†å­˜åœ¨&#125; åŒæ ·ï¼Œå¼•ç”¨ä¹Ÿæœ‰ç”Ÿå‘½å‘¨æœŸï¼š1234567891011fn main() &#123; // `x` è¿˜ä¸å­˜åœ¨ &#123; let x = 42; // `x` å¼€å§‹å­˜åœ¨ let x_ref = &amp;x; // `x_ref` å¼€å§‹å­˜åœ¨ - å®ƒå¼•ç”¨ `x` println!(&quot;x_ref = &#123;&#125;&quot;, x_ref); // `x_ref` åœæ­¢å­˜åœ¨ // `x` åœæ­¢å­˜åœ¨ &#125; // `x` ä¸å†å­˜åœ¨&#125; å¼•ç”¨çš„ç”Ÿå‘½å‘¨æœŸä¸èƒ½è¶…è¿‡å®ƒå¼•ç”¨çš„å˜é‡ç»‘å®šçš„ç”Ÿå‘½å‘¨æœŸï¼š12345678fn main() &#123; let x_ref = &#123; let x = 42; &amp;x &#125;; println!(&quot;x_ref = &#123;&#125;&quot;, x_ref); // error: `x` does not live long enough&#125; å˜é‡ç»‘å®šå¯ä»¥ä¸å¯å˜åœ°è¢«å¤šæ¬¡å¼•ç”¨ï¼š1234567fn main() &#123; let x = 42; let x_ref1 = &amp;x; let x_ref2 = &amp;x; let x_ref3 = &amp;x; println!(&quot;&#123;&#125; &#123;&#125; &#123;&#125;&quot;, x_ref1, x_ref2, x_ref3);&#125; å½“è¢«å¼•ç”¨æ—¶ï¼Œå˜é‡ç»‘å®šä¸èƒ½æ”¹å˜ï¼š1234567fn main() &#123; let mut x = 42; let x_ref = &amp;x; x = 13; println!(&quot;x_ref = &#123;&#125;&quot;, x_ref); // error: cannot assign to `x` because it is borrowed&#125; å½“è¢«ä¸å¯å˜å¼•ç”¨æ—¶ï¼Œå˜é‡ä¸èƒ½è¢«å¯å˜å¼•ç”¨ï¼š1234567fn main() &#123; let mut x = 42; let x_ref1 = &amp;x; let x_ref2 = &amp;mut x; // error: cannot borrow `x` as mutable because it is also borrowed as immutable println!(&quot;x_ref1 = &#123;&#125;&quot;, x_ref1);&#125; å‡½æ•°å‚æ•°ä¸­çš„å¼•ç”¨ä¹Ÿæœ‰ç”Ÿå‘½å‘¨æœŸï¼š123fn print(x: &amp;i32) &#123; // `x` æ˜¯ä»å¤–éƒ¨è¢«å¼•ç”¨çš„ï¼Œå¯ç”¨åœ¨è¯¥æ¬¡å‡½æ•°è°ƒç”¨çš„å…¨è¿‡ç¨‹&#125; å…·æœ‰å¼•ç”¨å‚æ•°çš„å‡½æ•°å¯ä»¥é€šè¿‡å…·æœ‰ä¸åŒå£°æ˜å‘¨æœŸçš„å¼•ç”¨æ¥è°ƒç”¨ï¼Œå› æ­¤ï¼š æ‰€æœ‰æ¥å—å¼•ç”¨çš„å‡½æ•°éƒ½æ˜¯æ³›å‹åŒ–çš„ ç”Ÿå‘½å‘¨æœŸæ˜¯æ³›å‹å‚æ•°ç”Ÿå‘½å‘¨æœŸçš„å‚æ•°ä»¥å•å¼•å·&#39;å¼€å¤´ï¼š12345// éšå¼ï¼ˆåŒ¿åï¼‰ç”Ÿå‘½å‘¨æœŸfn print(x: &amp;i32) &#123;&#125;// å‘½åç”Ÿå‘½å‘¨æœŸfn print&lt;&#x27;a&gt;(x: &amp;&#x27;a i32) &#123;&#125; ä½¿è¿”å›çš„å¼•ç”¨çš„ç”Ÿå‘½å‘¨æœŸå–å†³äºå‚æ•°çš„ç”Ÿå‘½å‘¨æœŸï¼š1234567891011121314struct Number &#123; value: i32,&#125;fn number_value&lt;&#x27;a&gt;(num: &amp;&#x27;a Number) -&gt; &amp;&#x27;a i32 &#123; &amp;num.value&#125;fn main() &#123; let n = Number &#123; value: 47 &#125;; let v = number_value(&amp;n); // `v` æ˜¯ `n` çš„ä¸å¯å˜å¼•ç”¨ï¼Œå› æ­¤ `v` çš„ç”Ÿå‘½å‘¨æœŸä¸èƒ½è¶…è¿‡ `n`. // å½“ `v` å­˜åœ¨æ—¶ï¼Œ`n` ä¸èƒ½è¢«å¯å˜å¼•ç”¨ï¼Œæ”¹å˜ï¼Œç§»åŠ¨ç­‰&#125; å½“åªæœ‰ä¸€ä¸ªç”Ÿå‘½å‘¨æœŸè¾“å…¥æ—¶ï¼Œä¸éœ€è¦å‘½åï¼Œæ‰€æœ‰å˜é‡éƒ½å…·æœ‰ç›¸åŒçš„ç”Ÿå‘½å‘¨æœŸï¼Œå› æ­¤ä»¥ä¸‹ä¸¤ä¸ªå‡½æ•°æ˜¯ç­‰æ•ˆçš„ï¼š1234567fn number_value&lt;&#x27;a&gt;(num: &amp;&#x27;a Number) -&gt; &amp;&#x27;a i32 &#123; &amp;num.value&#125;fn number_value(num: &amp;Number) -&gt; &amp;i32 &#123; &amp;num.value&#125; ç»“æ„ä½“ä¹Ÿå¯ä»¥ä½¿ç”¨ç”Ÿå‘½å‘¨æœŸæ³›å‹ï¼Œä½¿å…¶å¯ä»¥ä¿å­˜å¼•ç”¨ï¼š 123456789struct NumRef&lt;&#x27;a&gt; &#123; x: &amp;&#x27;a i32,&#125;fn main() &#123; let x: i32 = 99; let x_ref = NumRef &#123; x: &amp;x &#125;; // `x_ref` çš„ç”Ÿå‘½å‘¨æœŸä¸èƒ½é•¿äº `x`&#125; å¢åŠ ä¸ªç›¸å…³å‡½æ•°ï¼š 12345678910111213struct NumRef&lt;&#x27;a&gt; &#123; x: &amp;&#x27;a i32,&#125;fn as_num_ref&lt;&#x27;a&gt;(x: &amp;&#x27;a i32) -&gt; NumRef&lt;&#x27;a&gt; &#123; NumRef &#123; x: &amp;x &#125;&#125;fn main() &#123; let x: i32 = 99; let x_ref = NumRef &#123; x: &amp;x &#125;; // `x_ref` çš„ç”Ÿå‘½å‘¨æœŸä¸èƒ½é•¿äº `x`&#125; åœ¨å‡½æ•°ä¸­çœå†™ç”Ÿå‘½å‘¨æœŸï¼š 12345678910111213struct NumRef&lt;&#x27;a&gt; &#123; x: &amp;&#x27;a i32,&#125;fn as_num_ref(x: &amp;i32) -&gt; NumRef&lt;&#x27;_&gt; &#123; NumRef &#123; x: &amp;x &#125;&#125;fn main() &#123; let x: i32 = 99; let x_ref = NumRef &#123; x: &amp;x &#125;; // `x_ref` çš„ç”Ÿå‘½å‘¨æœŸä¸èƒ½é•¿äº `x`&#125; implå—ä¹Ÿå¯ä»¥è¿™æ ·æ“ä½œï¼š 123456789101112impl&lt;&#x27;a&gt; NumRef&lt;&#x27;a&gt; &#123; fn as_i32_ref(&amp;&#x27;a self) -&gt; &amp;&#x27;a i32 &#123; self.x &#125;&#125;fn main() &#123; let x: i32 = 99; let x_num_ref = NumRef &#123; x: &amp;x &#125;; let x_i32_ref = x_num_ref.as_i32_ref(); // å¼•ç”¨çš„ç”Ÿå‘½å‘¨æœŸéƒ½ä¸èƒ½é•¿äº `x`&#125; ä½ ä¹Ÿå¯ä»¥è¿™æ ·çœå†™ï¼š 12345impl&lt;&#x27;a&gt; NumRef&lt;&#x27;a&gt; &#123; fn as_i32_ref(&amp;self) -&gt; &amp;i32 &#123; self.x &#125;&#125; å¦‚æœä½ ä¸éœ€è¦ç”¨åˆ°å˜é‡åï¼Œé‚£å¯ä»¥æ›´ç®€å•ï¼š 12345impl NumRef&lt;&#x27;_&gt; &#123; fn as_i32_ref(&amp;self) -&gt; &amp;i32 &#123; self.x &#125;&#125; æœ‰ä¸€ä¸ªç‰¹æ®Šçš„ç”Ÿå‘½å‘¨æœŸï¼Œå³é™æ€&#39;staticï¼Œä»£è¡¨åœ¨æ•´ä¸ªç¨‹åºçš„ç”Ÿå‘½å‘¨æœŸä¸­éƒ½ä¿æŒæœ‰æ•ˆã€‚å­—ç¬¦ä¸²å­—é¢é‡æ˜¯&#39;staticçš„ï¼š 123456789struct Person &#123; name: &amp;&#x27;static str,&#125;fn main() &#123; let p = Person &#123; name: &quot;fasterthanlime&quot; &#125;;&#125; ä½†æ˜¯æŒæœ‰å­—ç¬¦ä¸²(owned string)ä¸æ˜¯é™æ€çš„ï¼š 123456789struct Person &#123; name: &amp;&#x27;static str,&#125;fn main() &#123; let name = format!(&quot;fasterthan&#123;&#125;&quot;, &quot;lime&quot;); let p = Person &#123; name: &amp;name &#125;; // error: `name` does not live long enough&#125; åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œnameä¸æ˜¯&amp;&#39;static strè€Œæ˜¯Stringã€‚å®ƒæ˜¯è¢«åŠ¨æ€åˆ†é…å¹¶ä¸”ä¼šè¢«é‡Šæ”¾çš„ï¼Œå³å…¶ç”Ÿå‘½å‘¨æœŸå°äºæ•´ä¸ªç¨‹åºï¼ˆå³ä½¿å…¶æ°å¥½ä½äºmainä¸­ï¼‰å¦‚æœè¦å°†é&#39;staticå­—ç¬¦ä¸²å­˜å‚¨åœ¨Personä¸­ï¼Œæœ‰ä»¥ä¸‹ä¸¤ç§æ–¹æ³•ï¼šA. ä½¿ç”¨ç”Ÿå‘½å‘¨æœŸæ³›å‹ï¼š 123456789struct Person&lt;&#x27;a&gt; &#123; name: &amp;&#x27;a str,&#125;fn main() &#123; let name = format!(&quot;fasterthan&#123;&#125;&quot;, &quot;lime&quot;); let p = Person &#123; name: &amp;name &#125;; // `p` çš„ç”Ÿå‘½å‘¨æœŸä¸èƒ½é•¿äº `name`&#125; B. è·å–å­—ç¬¦ä¸²çš„æ‰€æœ‰æƒ 123456789struct Person &#123; name: String,&#125;fn main() &#123; let name = format!(&quot;faterthan&#123;&#125;&quot;, &quot;lime&quot;); let p = Person &#123; name: name &#125;; // `name` è¢«ç§»åŠ¨åˆ° `p`ï¼Œå®ƒä»¬çš„ç”Ÿå‘½å‘¨æœŸä¸å†è¢«é™åˆ¶&#125; å¦å¤–ï¼Œåœ¨ç»“æ„ä½“å­—é¢é‡ä¸­ï¼Œå¦‚æœå³å°†å­—æ®µè®¾ç½®ä¸ºåŒåçš„å˜é‡ç»‘å®šæ—¶ï¼Œå¯ä»¥ç®€å†™ï¼š 123let p = Person &#123; name: name &#125;;// å¯æ‚²ç®€å†™ä¸ºlet p = Person &#123; name &#125;; å¯¹äº Rust ä¸­çš„è®¸å¤šç±»å‹ï¼Œéƒ½æœ‰æ‰€æœ‰æƒ(owned)å’Œæ— æ‰€æœ‰æƒ(non-owned)ä¸¤ç§å˜ä½“ï¼š å­—ç¬¦ä¸²ï¼šString æ˜¯æœ‰æ‰€æœ‰æƒçš„ï¼Œ&amp;str æ˜¯å¼•ç”¨ è·¯å¾„ï¼šPathBuf æ˜¯æœ‰æ‰€æœ‰æƒçš„ï¼Œ&amp;Path æ˜¯å¼•ç”¨ é›†åˆï¼šVec&lt;T&gt; æ˜¯æœ‰æ‰€æœ‰æƒçš„ï¼Œ&amp;[T] æ˜¯å¼•ç”¨åœ¨ Rust ä¸­ï¼Œæ‰€æœ‰æƒæœ‰ä»¥ä¸‹è§„åˆ™ï¼š Rust ä¸­æ¯ä¸€ä¸ªå€¼éƒ½è¢«ä¸€ä¸ªå˜é‡æ‰€æ‹¥æœ‰ï¼Œè¯¥å˜é‡è¢«ç§°ä¸ºå€¼çš„æ‰€æœ‰è€… ä¸€ä¸ªå€¼åŒæ—¶åªèƒ½è¢«ä¸€ä¸ªå˜é‡æ‰€æ‹¥æœ‰ï¼Œæˆ–è€…è¯´ä¸€ä¸ªå€¼åªèƒ½æ‹¥æœ‰ä¸€ä¸ªæ‰€æœ‰è€… å½“æ‰€æœ‰è€…(å˜é‡)ç¦»å¼€ä½œç”¨åŸŸèŒƒå›´æ—¶ï¼Œè¿™ä¸ªå€¼å°†è¢«ä¸¢å¼ƒ(drop)åˆ‡ç‰‡åˆ‡ç‰‡(slice)æ˜¯å¯¹å¤šä¸ªè¿ç»­å…ƒç´ çš„å¼•ç”¨ã€‚ä½ å¯ä»¥å¼•ç”¨ä¸€ä¸ªå‘é‡çš„åˆ‡ç‰‡ï¼Œä¾‹å¦‚ï¼š12345678fn main() &#123; let v = vec![1, 2, 3, 4, 5]; let v2 = &amp;v[2..4]; println!(&quot;v2 = &#123;:?&#125;&quot;, v2);&#125;// è¾“å‡ºï¼š// v2 = [3, 4] ä¸Šé¢çš„æ“ä½œå¹¶ä¸ç¥å¥‡ã€‚ç´¢å¼•æ“ä½œç¬¦foo[index]é‡è½½äº†Indexå’ŒIndexMutç‰¹å¾ã€‚..è¯­æ³•åªæ˜¯èŒƒå›´(range)å­—é¢é‡ï¼ŒèŒƒå›´æ˜¯æ ‡å‡†åº“ä¸­å®šä¹‰çš„ç»“æ„ä½“ã€‚åˆ‡ç‰‡åŒºé—´å¯ä»¥æ˜¯å¼€æ”¾çš„ï¼Œå³è¾¹ç•Œå¯ä»¥æ˜¯é—­çš„ï¼Œå¦‚æœå‰é¢æœ‰=çš„è¯ã€‚12345678910fn main() &#123; // å¤§äºç­‰äº 0 println!(&quot;&#123;:?&#125;&quot;, (0..).contains(&amp;100)); // true // ä¸¥æ ¼å°äº 20 println!(&quot;&#123;:?&#125;&quot;, (..20).contains(&amp;20)); // false // å°äºç­‰äº 0 println!(&quot;&#123;:?&#125;&quot;, (..=20).contains(&amp;20)); // true // åªåŒ…å« 3, 4, 5 println!(&quot;&#123;:?&#125;&quot;, (3..6).contions(&amp;4)); // true&#125; å¼•ç”¨è§„åˆ™åŒæ ·é€‚ç”¨äºåˆ‡ç‰‡ï¼š123456789fn tail(s: &amp;[u8]) -&gt; &amp;[u8] &#123; &amp;s[1..]&#125;fn main() &#123; let x = &amp;[1, 2, 3, 4, 5]; let y = tail(x); println!(&quot;y = &#123;:?&#125;&quot;, y);&#125; ä¸€æ ·åœ°ï¼Œtailå‡½æ•°ä¹Ÿå¯ä»¥è¿™æ ·å†™ï¼š123fn tail&lt;&#x27;a&gt;(s: &amp;&#x27;a [u8]) -&gt; &amp;&#x27;a [u8] &#123; &amp;s[1..]&#125; ä»¥ä¸‹ä»£ç æ˜¯åˆè§„çš„ï¼š1234567fn main() &#123; let y = &#123; let x = &amp;[1, 2, 3, 4, 5]; tail(x) &#125;; println!(&quot;y = &#123;:?&#125;&quot;, y);&#125; ä½†è¿™åªæ˜¯å› ä¸º&amp;[1, 2, 3, 4, 5]æ˜¯ä¸€ä¸ª&#39;staticæ•°ç»„ã€‚æ‰€ä»¥ä»¥ä¸‹æ˜¯ä¸å¯è¡Œçš„ï¼š12345678fn main() &#123; let y = &#123; let v = vec![1, 2, 3, 4, 5]; tail(&amp;v); //error: `v` does not live long enough &#125;; println!(&quot;y = &#123;:?&#125;&quot;, y);&#125; è¿™æ˜¯å› ä¸ºå‘é‡æ˜¯å †åˆ†é…çš„(heap-allocated)ï¼Œå¹¶ä¸”å®ƒçš„ç”Ÿå‘½å‘¨æœŸä¸æ˜¯&#39;static&amp;strå€¼å®é™…ä¸Šæ˜¯åˆ‡ç‰‡ã€‚1234567891011121314fn file_ext(name: &amp;str) -&gt; Option&lt;&amp;str&gt; &#123; // è¿™ä¸ä¼šè¿”å›ä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸² // è€Œæ˜¯è¿”å›å‚æ•°çš„ä¸€ä¸ªåˆ‡ç‰‡ name.split(&quot;.&quot;).last()&#125;fn main() &#123; let name = &quot;Read me. Or don&#x27;t.txt&quot;; if let Some(ext) = file_ext(name) &#123; println!(&quot;file extension: &#123;&#125;&quot;, ext); &#125; else &#123; println!(&quot;no file extension&quot;); &#125;&#125; æ‰€ä»¥å¼•ç”¨è§„åˆ™ä¹ŸåŒæ ·é€‚ç”¨ï¼š12345678fn main() &#123; let ext = &#123; let name = String::from(&quot;Read me. Or don&#x27;t.txt&quot;); file_ext(&amp;name).unwarp_or(&quot;&quot;) // error: `name` does not live long enough &#125;; println!(&quot;extension: &#123;:?&#125;&quot;, ext);&#125; Resultå¯èƒ½ä¼šå‡ºé”™çš„å‡½æ•°é€šå¸¸ä¼šè¿”å›Resultï¼š123456789fn main() &#123; let s = std::str::from_utf8(&amp;[240, 159, 141, 137]); println!(&quot;&#123;:?&#125;&quot;, s); // è¾“å‡ºï¼šOk(&quot;ğŸ‰&quot;) let s = std::str::from_utf8(&amp;[195, 40]); println!(&quot;&#123;:?&#125;&quot;, s); // è¾“å‡ºï¼šErr(Utf8Error &#123; valid_up_to: 0, error_len: Some(1) &#125;)&#125; å¦‚æœä½ æƒ³åœ¨å‡ºé”™çš„æ—¶å€™panicï¼Œåˆ™å¯ä»¥ä½¿ç”¨.unwarp()ï¼š12345678910fn main() &#123; let s = std::str::from_utf8(&amp;[240, 159, 141, 137]).unwrap(); println!(&quot;&#123;:?&#125;&quot;, s); // è¾“å‡ºï¼š&quot;ğŸ‰&quot; let s = std::str::from_utf8(&amp;[195, 40]).unwrap(); // è¾“å‡ºï¼šthread &#x27;main&#x27; panicked at &#x27;called `Result::unwrap()` // on an `Err` value: Utf8Error &#123; valid_up_to: 0, error_len: Some(1) &#125;&#x27;, // src/libcore/result.rs:1165:5&#125; æˆ–è€…expect()ï¼Œç”¨æ¥è‡ªå®šä¹‰æŠ¥é”™æ¶ˆæ¯ï¼š12345fn main() &#123; let s = std::str::from_utf8(&amp;[195, 40]).expect(&quot;valid utf-8&quot;); // è¾“å‡ºï¼šthread &#x27;main&#x27; panicked at &#x27;valid utf-8: Utf8Error // &#123; valid_up_to: 0, error_len: Some(1) &#125;&#x27;, src/libcore/result.rs:1165:5&#125; æˆ–è€…ä½ å¯ä»¥ä½¿ç”¨matchï¼š1234567fn main() &#123; match std::str::from_utf8(&amp;[240, 159, 141, 137]) &#123; Ok(s) =&gt; println!(&quot;&#123;&#125;&quot;, s). Err(e) =&gt; println!(e), &#125; // è¾“å‡ºï¼šğŸ‰&#125; æˆ–è€…ä½¿ç”¨if letï¼š123456fn main() &#123; if let Ok(s) = std::std::from_utf8(&amp;[240, 159, 141, 137]) &#123; println!(&quot;&#123;&#125;&quot;, s); &#125; // è¾“å‡ºï¼šğŸ‰&#125; æˆ–è€…ä½ å¯ä»¥å°†é”™è¯¯æå‡å‡ºæ¥ï¼š1234567fn main() -&gt; Result&lt;(), std::str::Utf8Error&gt; &#123; match std::str::from_utf8(&amp;[240, 159, 141, 137]) &#123; Ok(s) =&gt; println!(&quot;&#123;&#125;&quot;, s), Err(e) =&gt; return Err(e), &#125; Ok(())&#125; ä½ å¯ä»¥ä½¿ç”¨?æ¥ä»¥æ›´ç®€æ´çš„æ–¹å¼å®Œæˆæ­¤æ“ä½œï¼š12345fn main() -&gt; Result&lt;(), std::str::Utf8Error&gt; &#123; let s = std::str::from_utf8(&amp;[240, 159, 141, 137])?; println!(&quot;&#123;&#125;&quot;, s); Ok(())&#125; *è¿ç®—ç¬¦å¯ç”¨äºå–æ¶ˆå¼•ç”¨(dereference)ï¼Œä½†æ˜¯ä½ åœ¨è®¿é—®å­—æ®µå’Œè°ƒç”¨æ–¹æ³•çš„æ—¶å€™å¹¶ä¸éœ€è¦ç”¨åˆ°ï¼š123456789101112struct Point &#123; x: f64, y: f64,&#125;fn main() &#123; let p = Point &#123; x: 1.0, y: 3.0 &#125;; let p_ref = &amp;p; println!(&quot;(&#123;&#125;, &#123;&#125;)&quot;, p_ref.x, p_ref.y);&#125;// è¾“å‡º `(1, 3)` åªæœ‰å½“ç±»å‹ä¸ºCopyçš„æ—¶å€™æ‰èƒ½è¿™æ ·æ“ä½œï¼š123456789101112131415161718struct Point &#123; x: f64, y: f64,&#125;fn negate(p: Point) -&gt; Point &#123; Point &#123; x: -p.x, y: -p.y, &#125;&#125;fn main() &#123; let p = Point &#123; x: 1.0, y: 3.0 &#125;; let p_ref = &amp;p; negate(*p_ref); // error: cannot move out of `*p_ref` which is behind a shared reference&#125; 12345678910111213141516171819// ç°åœ¨ `Point` æ˜¯ `Copy`#[derive(Clone, Copy)]struct Point &#123; x: f64, y: f64,&#125;fn negate(p: Point) -&gt; Point &#123; Point &#123; x: -p.x, y: -p.y, &#125;&#125;fn main() &#123; let p = Point &#123; x: 1.0, y: 3.0 &#125;; let p_ref = &amp;p; negate(*p_ref); // å¹¶ä¸”ç°åœ¨ä¸ä¼šæŠ¥é”™äº†&#125; é—­åŒ…é—­åŒ…(closure)åªæ˜¯Fnï¼ŒFnMutå’ŒFnOnceç±»å‹çš„å‡½æ•°åŠ ä¸Šæ•è·ä¼ é€’çš„ä¸Šä¸‹æ–‡ã€‚å®ƒä»¬çš„å‚æ•°æ˜¯è¢«ä¸€å¯¹ç®¡é“(|)åŒ…æ‹¬ï¼Œç”¨é€—å·åˆ†éš”çš„ã€‚å®ƒä»¬ä¸éœ€è¦èŠ±æ‹¬å·ï¼Œé™¤éä½ éœ€è¦å¤šæ¡è¯­å¥ã€‚ 12345678910111213141516fn for_each_planet&lt;F&gt;(f: F) where F: Fn(&amp;&#x27;static str)&#123; f(&quot;Earth&quot;); f(&quot;Mars&quot;); f(&quot;Jupiter&quot;);&#125; fn main() &#123; for_each_planet(|planet| println!(&quot;Hello, &#123;&#125;&quot;, planet));&#125;// è¾“å‡ºï¼š// Hello, Earth// Hello, Mars// Hello, Jupiter å¼•ç”¨è§„åˆ™åŒæ ·é€‚ç”¨ï¼š 12345678910111213fn for_each_planet&lt;F&gt;(f: F) where F: Fn(&amp;&#x27;static str)&#123; f(&quot;Earth&quot;); f(&quot;Mars&quot;); f(&quot;Jupiter&quot;);&#125; fn main() &#123; let greeting = String::from(&quot;Good to see you&quot;); for_each_planet(|planet| println!(&quot;&#123;&#125;, &#123;&#125;&quot;, greeting, planet)); // æˆ‘ä»¬çš„é—­åŒ…å¼•ç”¨äº† `greeting`ï¼Œæ‰€ä»¥å…¶ç”Ÿå‘½å‘¨æœŸä¸èƒ½é•¿äºå®ƒ&#125; ä¾‹å¦‚ä»¥ä¸‹æ˜¯æ— æ³•å·¥ä½œçš„ï¼š 1234567891011121314fn for_each_planet&lt;F&gt;(f: F) where F: Fn(&amp;&#x27;static str) + &#x27;static // `F` å¿…é¡»æ˜¯ &quot;&#x27;static&quot; ç”Ÿå‘½å‘¨æœŸ&#123; f(&quot;Earth&quot;); f(&quot;Mars&quot;); f(&quot;Jupiter&quot;);&#125;fn main() &#123; let greeting = String::from(&quot;Good to see you&quot;); for_each_planet(|planet| println!(&quot;&#123;&#125;, &#123;&#125;&quot;, greeting, planet)); // error: closure may outlive the current function, but it borrows // `greeting`, which is owned by the current function&#125; ä½†æ˜¯è¿™æ ·å¯ä»¥ï¼š 12345fn main() &#123; let greeting = String::from(&quot;You&#x27;re doing great&quot;); for_each_planet(move |planet| println!(&quot;&#123;&#125;, &#123;&#125;&quot;, greeting, planet)); // `greeting` ä¸å†è¢«å¼•ç”¨ï¼Œå®ƒè¢«ç§»åŠ¨åˆ°è¯¥é—­åŒ…&#125; FnMutéœ€è¦è¢«å¯å˜å¼•ç”¨æ‰èƒ½è¢«è°ƒç”¨ï¼Œå› æ­¤ä¸€æ¬¡ä¼ å‚åªèƒ½è°ƒç”¨ä¸€æ¬¡ã€‚ä»¥ä¸‹æ˜¯å¯è¡Œçš„ï¼š 1234567891011fn foobar&lt;F&gt;(f: F) where F: Fn(i32) -&gt; i32&#123; println!(&quot;&#123;&#125;&quot;, f(f(2))); &#125; fn main() &#123; foobar(|x| x * 2);&#125;// è¾“å‡ºï¼š8 ä½†ä»¥ä¸‹ä¸èƒ½ï¼š 12345678910fn foobar&lt;F&gt;(mut f: F) where F: FnMut(i32) -&gt; i32&#123; println!(&quot;&#123;&#125;&quot;, f(f(2))); // error: cannot borrow `f` as mutable more than once at a time&#125; fn main() &#123; foobar(|x| x * 2);&#125; è¿™æ ·åˆ™å¯è¡Œï¼š 123456789101112fn foobar&lt;F&gt;(mut f: F) where F: FnMut(i32) -&gt; i32&#123; let tmp = f(2); println!(&quot;&#123;&#125;&quot;, f(tmp)); &#125; fn main() &#123; foobar(|x| x * 2);&#125;// è¾“å‡ºï¼š8 FnMutçš„å­˜åœ¨æ˜¯å› ä¸ºæŸäº›é—­åŒ…ä¼šå¯å˜å¼•ç”¨æœ¬åœ°å˜é‡ï¼š 12345678910111213141516fn foobar&lt;F&gt;(mut f: F) where F: FnMut(i32) -&gt; i32&#123; let tmp = f(2); println!(&quot;&#123;&#125;&quot;, f(tmp)); &#125; fn main() &#123; let mut acc = 2; foobar(|x| &#123; acc += 1; x * acc &#125;);&#125;// è¾“å‡ºï¼š24 è¿™äº›é—­åŒ…ä¸èƒ½ä¼ é€’ç»™éœ€è¦Fnçš„å‡½æ•°ï¼š 1234567891011121314151617fn foobar&lt;F&gt;(f: F) where F: Fn(i32) -&gt; i32&#123; println!(&quot;&#123;&#125;&quot;, f(f(2))); &#125; fn main() &#123; let mut acc = 2; foobar(|x| &#123; acc += 1; // error: cannot assign to `acc`, as it is a // captured variable in a `Fn` closure. // the compiler suggests &quot;changing foobar // to accept closures that implement `FnMut`&quot; x * acc &#125;);&#125; FnOnceé—­åŒ…åªèƒ½è°ƒç”¨ä¸€æ¬¡ã€‚å®ƒä»¬çš„å­˜åœ¨æ˜¯å› ä¸ºæŸäº›é—­åŒ…ä¼šç§»å‡ºåœ¨æ•è·æ—¶å°±å·²è¢«ç§»åŠ¨çš„å˜é‡ï¼š 12345678910111213fn foobar&lt;F&gt;(f: F) where F: FnOnce() -&gt; String&#123; println!(&quot;&#123;&#125;&quot;, f()); &#125; fn main() &#123; let s = String::from(&quot;alright&quot;); foobar(move || s); // `s` è¢«ç§»åŠ¨åˆ°æˆ‘ä»¬çš„é—­åŒ…ä¸­ // å¹¶ä¸”æˆ‘ä»¬çš„é—­åŒ…é€šè¿‡è¿”å›å°†å…¶ç§»åŠ¨åˆ°è°ƒç”¨è¿™ä¸­ // è®°ä½ `String` ä¸æ˜¯ `Copy`&#125; è¿™æ˜¯é»˜è®¤å¼ºåˆ¶æ‰§è¡Œçš„ï¼Œå› ä¸ºFnOnceé—­åŒ…éœ€è¦ç§»åŠ¨æ‰èƒ½è¢«è°ƒç”¨ã€‚ä¾‹å¦‚ä»¥ä¸‹æ˜¯ä¸å¯è¡Œçš„ï¼š 1234567fn foobar&lt;F&gt;(f: F) where F: FnOnce() -&gt; String&#123; println!(&quot;&#123;&#125;&quot;, f()); println!(&quot;&#123;&#125;&quot;, f()); // error: use of moved value: `f`&#125; å¦‚æœä½ å¯¹æˆ‘ä»¬çš„é—­åŒ…æ˜¯å¦ç¡®å®ç§»åŠ¨äº†sæœ‰ç–‘é—®ï¼Œä»¥ä¸‹ä¹Ÿæ˜¯ä¸å¯è¡Œçš„ï¼š 123456fn main() &#123; let s = String::from(&quot;alright&quot;); foobar(move || s); foobar(move || s); // ä½¿ç”¨äº†è¢«ç§»åŠ¨çš„å€¼ï¼š`s`&#125; ä½†æ˜¯è¿™æ˜¯å¯è¡Œçš„ï¼š 12345fn main() &#123; let s = String::from(&quot;alright&quot;); foobar(|| s.clone()); foobar(|| s.clone());&#125; è¿™æ˜¯å¸¦æœ‰ä¸¤ä¸ªå‚æ•°çš„é—­åŒ…ï¼š 1234567891011121314fn foobar&lt;F&gt;(x: i32, y: i32, is_greater: F) where F: Fn(i32, i32) -&gt; bool&#123; let (greater, smaller) = if is_greater(x, y) &#123; (x, y) &#125; else &#123; (y, x) &#125;; println!(&quot;&#123;&#125; is greater than &#123;&#125;&quot;, greater, smaller);&#125; fn main() &#123; foobar(32, 64, |x, y| x &gt; y);&#125; è¿™æ˜¯ä¸€ä¸ªå¿½ç•¥å…¶ä¸¤ä¸ªå‚æ•°çš„é—­åŒ…ï¼š 123fn main() &#123; foobar(32, 64, |_, _| panic!(&quot;Comparing is futile!&quot;));&#125; è¿™æ˜¯ä¸€ä¸ªæœ‰ç‚¹å“äººçš„é—­åŒ…ï¼ˆæŒ‡è¾“å‡ºï¼‰ï¼š 12345678910111213141516fn countdown&lt;F&gt;(count: usize, tick: F) where F: Fn(usize)&#123; for i in (1..=count).rev() &#123; tick(i); &#125;&#125; fn main() &#123; countdown(3, |i| println!(&quot;tick &#123;&#125;...&quot;, i));&#125;// è¾“å‡ºï¼š// tick 3...// tick 2...// tick 1... è¿™æ˜¯é©¬æ¡¶é—­åŒ…ï¼š 123fn main() &#123; countdown(3, |_| ());&#125; ä¹‹æ‰€ä»¥è¿™ä¹ˆç§°å‘¼æ˜¯å› ä¸º|_| ()çœ‹èµ·æ¥åƒé©¬æ¡¶ã€‚ for inä»»ä½•å¯è¿­ä»£çš„ä¸œè¥¿éƒ½å¯ä»¥åœ¨for inå¾ªç¯ä¸­ä½¿ç”¨ã€‚æˆ‘ä»¬åˆšåˆšæ¼”ç¤ºäº†åœ¨èŒƒå›´ä¸Šä½¿ç”¨ï¼Œä½†å®é™…ä¸Šå®ƒä¹Ÿé€‚ç”¨äºå‘é‡ï¼š 12345fn main() &#123; for i in vec![52, 49, 21] &#123; println!(&quot;I like the number &#123;&#125;&quot;, i); &#125;&#125; æˆ–è€…æ˜¯åˆ‡ç‰‡ï¼š 12345678910fn main() &#123; for i in &amp;[52, 49, 21] &#123; println!(&quot;I like thw number &#123;&#125;&quot;, i); &#125;&#125;// è¾“å‡ºï¼š// I like the number 52// I like the number 49// I like the number 21 æˆ–è€…æ˜¯ä¸€ä¸ªå®é™…çš„è¿­ä»£å™¨(iterator)ï¼š 12345678910111213fn main() &#123; // æ³¨æ„ï¼š`&amp;str` è¿˜æœ‰ä¸ª `.bytes()` è¿­ä»£å™¨ // Rust çš„ `char` ç±»å‹æ˜¯ä¸€ä¸ª Unicode æ ‡é‡å€¼ for c in &quot;rust&quot;.chars() &#123; println!(&quot;Give me a &#123;&#125;&quot;, c); &#125;&#125;// è¾“å‡ºï¼š// Give me a r// Give me a u// Give me a s// Give me a t å³ä½¿è¿­ä»£å™¨çš„æˆå‘˜è¢«è¿‡æ»¤(filter)ï¼Œæ˜ å°„(map)å’Œå±•å¹³(flat)ï¼š 123456789101112fn main() &#123; for c in &quot;SuRPRISE INbOUND&quot; .chars() .filter(|c| c.is_lowercase()) .flat_map(|c| c.to_uppercase()) &#123; print!(&quot;&#123;&#125;&quot;, c); &#125; println!();&#125;// è¾“å‡ºï¼šUB ä½ å¯ä»¥ä»å‡½æ•°ä¸­è¿”å›ä¸€ä¸ªé—­åŒ…ï¼š 12345678910111213fn make_tester(answer: String) -&gt; impl Fn(&amp;str) -&gt; bool &#123; move |challenge| &#123; challenge == answer &#125;&#125;fn main() &#123; // ä½ å¯ä»¥ä½¿ç”¨ `.into()` åœ¨ç±»å‹å˜ç§é—´å®æ–½è½¬æ¢ // ä¾‹å¦‚ `&amp;&#x27;static str` å’Œ `String` let test = make_tester(&quot;hunter2&quot;.into()); println!(&quot;&#123;&#125;&quot;, test(&quot;******&quot;)); println!(&quot;&#123;&#125;&quot;, test(&quot;hunter2&quot;));&#125; ä½ ç”šè‡³å¯ä»¥å°†å‡½æ•°å‚æ•°çš„å¼•ç”¨ç§»åŠ¨åˆ°å®ƒæ‰€è¿”å›çš„é—­åŒ…ä¸­ï¼š 123456789101112131415fn make_tester&lt;&#x27;a&gt;(answer: &amp;&#x27;a str) -&gt; impl Fn(&amp;str) -&gt; bool + &#x27;a &#123; move |challenge| &#123; challenge == answer &#125;&#125;fn main() &#123; let test = make_tester(&quot;hunter2&quot;); println!(&quot;&#123;&#125;&quot;, test(&quot;*******&quot;)); println!(&quot;&#123;&#125;&quot;, test(&quot;hunter2&quot;));&#125;// è¾“å‡ºï¼š// false// true ä»¥åŠï¼Œçœå†™ç”Ÿå‘½å‘¨æœŸï¼š 12345fn make_tester(answer: &amp;str) -&gt; impl Fn(&amp;str) -&gt; bool + &#x27;_ &#123; move |challenge| &#123; challenge == answer &#125;&#125; åˆ°æ­¤ï¼Œæœ¬æ–‡å°±ç»“æŸäº†ï¼Œç°åœ¨ä½ åº”è¯¥èƒ½å¤Ÿé˜…è¯»ä»–äººçš„ Rust ä»£ç ã€‚å¦‚æœä½ æƒ³æ›´è¿›ä¸€æ­¥çš„å­¦ä¹ ï¼Œé‚£ä¹ˆä½ å¯ä»¥æŸ¥çœ‹ï¼š Rustè¯­è¨€åœ£ç» Rust By Example é”ˆä¹¦ä½†æ— è®ºå¦‚ä½•ï¼Œå¸Œæœ›ä½ èƒ½è®°ä½ï¼š If you didnâ€™t code, you didnâ€™t learn.","categories":[],"tags":[]},{"title":"InnerCore ç¬¬ä¸‰æ–¹æœåŠ¡ç«¯ Zote Core ä»‹ç»","slug":"zote-core-loader","date":"2024-01-18T07:41:04.712Z","updated":"2024-02-23T07:30:01.466Z","comments":true,"path":"2024/01/18/zote-core-loader/","link":"","permalink":"https://weifeng233.github.io/2024/01/18/zote-core-loader/","excerpt":"","text":"Zote Core Loaderä»‹ç»Zore Core æ˜¯ä¸€ä¸ªåŸºäº InnerCore 1.16.200 çš„æœåŠ¡å™¨æ ¸å¿ƒï¼Œè®¾è®¡ç”¨äºæä¾›ç‹¬ç‰¹çš„æ¨¡ç»„æ¸¸æˆä½“éªŒã€‚è¯¥æœåŠ¡å™¨æ ¸å¿ƒåŸºäºNukkit-MOT ï¼Œå®ƒå¯ä»¥éå¸¸å®¹æ˜“åœ°é€šè¿‡æ›¿æ¢å¯¹åº”çš„åº“æ¥æ›´æ–°ã€‚ å®‰è£…ä»»ä½•æ”¯æŒ Java 17 ä»¥åŠæ›´é«˜ç‰ˆæœ¬çš„å¹³å°å‡å¯ä½¿ç”¨ã€‚åªéœ€è¦ä¸‹è½½è¯¥æœåŠ¡å™¨çš„æœ€æ–°ç‰ˆæœ¬æˆ–è€…ä½¿ç”¨ Gradleåˆ›å»ºé¡¹ç›®å³å¯ã€‚è¦è¿è¡Œè¯¥å¯ä¿¡ï¼Œåªéœ€è¦åœ¨ç»ˆç«¯ä¸­æ‰“å¼€å…¶æ‰€åœ¨çš„æ–‡ä»¶å¤¹å¹¶æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š 1java -jar ZoteCore-SNAPSHOT.jar é…ç½®æœåŠ¡å™¨çš„è®¾ç½®ä¸»è¦é€šè¿‡ä»¥ä¸‹ä¸‰ä¸ªæ–‡ä»¶ï¼šserver.properties å’Œ zotecore.ymlã€‚å®ƒä»¬ä¼šåœ¨æ ¸å¿ƒå¯åŠ¨åè¢«è‡ªåŠ¨åˆ›å»ºï¼Œå‰ä¸¤ä¸ªæ–‡ä»¶çš„æ–‡æ¡£å¯ä»¥åœ¨ Nukkit çš„ä»“åº“ä¸­æ‰¾åˆ°ã€‚ ä¸€äº› Nukkit çš„è®¾ç½®æ˜¯è¢«å¼•å¯¼ç¨‹åºé”æ­»çš„ï¼ŒåŒ…æ‹¬ multiversion-min/max-protocol (422), xbox-auth (å¾®è½¯è´¦å·è®¤è¯ç›®å‰ä¸å¯ç”¨) å’Œ save-player-data-by-uuid (false). zotecore.ymlæ ‡å‡†çš„åŸºæœ¬å†…æ ¸è®¾ç½®ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142# å®¢æˆ·ç«¯è¦è¿›å…¥æœåŠ¡å™¨æ‰€éœ€è¦çš„åŒ…çš„ä¿¡æ¯# è¿‡æ—¶æˆ–æœªå®ç°çš„ç‰ˆæœ¬ä¸ä¼šè¢«æ·»åŠ pack: Inner Core Testpack-version: 2.3.0b115 testpack-version-code: 152# è®¾ç½®è¦åŠ è½½çš„æ¨¡ç»„é›†ï¼Œä½ å¯ä»¥æŒ‡å®šæ¨¡ç»„é›†åç§°æˆ–æ¨¡ç»„é›†ç›¸å¯¹äº /modpacks çš„æ–‡ä»¶å¤¹åç§°æˆ–è·¯å¾„modpack: innercore# ä½¿ç”¨åŸç‰ˆå·¥ä½œå°ç•Œé¢æ›¿æ¢è‡ªå®šä¹‰çš„ç‰ˆæœ¬# è­¦å‘Šï¼šç›®å‰å°šä¸æ”¯æŒï¼Œè‡ªå®šä¹‰çš„åˆæˆé…æ–¹å°†ä¸ä¼šè¢«å±•ç¤ºuse-legacy-workbench-override: on# ç¦ç”¨å¯¹å·²è¿æ¥çš„æœåŠ¡ç«¯çš„èƒŒåŒ…ä¿®æ­£# æ—§ç‰ˆä¸èƒ½ä¸å…¶æ­£å¸¸å·¥ä½œï¼Œä¼šä½¿ç‰©å“æ— æ³•åœ¨èƒŒåŒ…ä¸­ç§»åŠ¨use-legacy-inventory: on# åˆ‡æ¢è°ƒè¯•æ¨¡å¼ä»¥ç”¨äºä¸æ”¯æŒçš„æ–¹æ³•ï¼ˆä¾‹å¦‚å®¢æˆ·ç«¯æ–¹æ³•ï¼‰# å¯é€‰çš„å€¼æœ‰ï¼šnone, debug (é»˜è®¤), warning, raiseunsupported-method-handling: debug# æ¨¡ç»„æ˜¯å¦å¯ä»¥ä½¿ç”¨ä¸å®‰å…¨çš„å‡½æ•° (ä¾‹å¦‚eval)# è­¦å‘Šï¼šå¯èƒ½ä¼šåˆ¶é€ å®‰å…¨é£é™©# ä½†æ˜¯é€šå¸¸å®ƒä¼šå½±å“ requireGlobal ä»è€Œå¯¼è‡´æ¨¡ç»„å‡ºç°é—®é¢˜allow-unsafe-scripting: on# å¼€å‘è€…æ¨¡å¼å…è®¸ä½ è·å…³äºå†…æ ¸æ“ä½œçš„æ›´å¤šä¿¡æ¯developer-mode: off# è‡ªåŠ¨ä¿å­˜æ¨¡ç»„æ•°æ®çš„æ—¶é—´é—´éš”(ç§’)auto-save-period: 60# è‡ªåŠ¨å­˜æ¡£auto-save-world: on# æ— è®º socket æœåŠ¡å™¨æ˜¯å¦å¯ç”¨ï¼Œsocket éƒ½é¢å¤–éœ€è¦ä¸€ä¸ªç«¯å£# é€šè¿‡ socket è¿æ¥æœåŠ¡å™¨ç›¸å¯¹æ›´ç¨³å®šsocket-server-enable: on# socket ç«¯å£ï¼Œé€šå¸¸åº”åœ¨ 10000 è‡³ 24999# ä½†è¯·æ³¨æ„å®¢æˆ·ç«¯é»˜è®¤ä½¿ç”¨ 2304socket-port: 2304 æ§åˆ¶å°å‘½ä»¤ custom_items - æ˜¾ç¤ºè‡ªå®šä¹‰ç‰©å“åˆ—è¡¨ custom_blocks - æ˜¾ç¤ºè‡ªå®šä¹‰æ–¹å—åˆ—è¡¨ mods - æ˜¾ç¤ºæœåŠ¡å™¨ä¸Šçš„æ¨¡ç»„åˆ—è¡¨ inner_core_network - æ˜¾ç¤ºè¿æ¥åˆ°æœåŠ¡å™¨çš„ç©å®¶åˆ—è¡¨ state - é€šè¿‡è¿è¡Œæ ‡è¯†ç¬¦è·å–æ–¹å—çŠ¶æ€ æ‰€æœ‰å‘½ä»¤éƒ½éœ€è¦ç®¡ç†å‘˜æƒé™ æŠ€æœ¯ä¿¡æ¯ Key Value Protocol version 422 (1.16.200) Apparatus Commit 73194cfd Instant Referrer Commit a264591 Nukkit-MOT Commit 2b53fb5 å¼€æœæµç¨‹ å›¾æ–‡æµç¨‹å¾…è¡¥å……é¦–å…ˆåœ¨è®¾å¤‡ä¸Šå®‰è£…å¥½ Javaï¼Œç„¶åå» Releases ä¸­ä¸‹è½½æœ€æ–°ç‰ˆæœ¬çš„ ZoteCoreï¼Œä¹‹ååœ¨ä¸€ä¸ªç©ºæ–‡ä»¶å¤¹ä¸­ï¼ˆéç¡¬æ€§è¦æ±‚ï¼Œåªæ˜¯è¿™æ ·æ–¹ä¾¿äº›ï¼‰æŒ‰ç…§ä¸Šæ–‡ä»‹ç»ä¸­çš„å®‰è£…æ–¹å¼å®‰è£…å³å¯ã€‚å®¢æˆ·ç«¯åº”ä¸ºæœ€æ–°çš„ Inner Core Test åŒ…ï¼ŒHorizonç‰ˆæœ¬å»ºè®®ä½¿ç”¨1.2.0-betaã€‚æ­¤å¤–ï¼Œå®¢æˆ·ç«¯è¿˜éœ€å®‰è£… ServerFixed æ¨¡ç»„ï¼Œå¯¹äºå®¢æˆ·ç«¯æ¨¡ç»„ï¼ˆclient only)ï¼Œåªéœ€è¦åœ¨å®¢æˆ·ç«¯å®‰è£…å³å¯ï¼Œå¦åˆ™åˆ™éœ€è¦å®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯å‡å®‰è£…ï¼ŒæœåŠ¡ç«¯å®‰è£…æ¨¡ç»„çš„æ–¹å¼ä¸º æ¨¡ç»„é›† æ”¾åœ¨ä¸æœåŠ¡å™¨æ ¸å¿ƒåŒçº§çš„modpackæ–‡ä»¶å¤¹ä¸­å³å¯ã€‚å¯ä»¥å‚è€ƒç°æœ‰çš„ä¸¤ä¸ªæœåŠ¡å™¨ï¼Œå³ Zote Echoes å’ŒTech Serverã€‚","categories":[],"tags":[]},{"title":"é¦™è‰é£æ ¼æ¨¡ç»„æŒ‡å—","slug":"é¦™è‰é£æ ¼æ¨¡ç»„æŒ‡å—","date":"2023-06-09T02:44:55.497Z","updated":"2023-06-09T02:46:35.307Z","comments":true,"path":"2023/06/09/é¦™è‰é£æ ¼æ¨¡ç»„æŒ‡å—/","link":"","permalink":"https://weifeng233.github.io/2023/06/09/%E9%A6%99%E8%8D%89%E9%A3%8E%E6%A0%BC%E6%A8%A1%E7%BB%84%E6%8C%87%E5%8D%97/","excerpt":"","text":"å½“ä½ æƒ³åˆ¶ä½œä¸€ä¸ªèƒ½å¤Ÿä¸åŸç‰ˆ MC é£æ ¼ä¸€è‡´çš„æ¨¡ç»„æ—¶ï¼Œéœ€è¦æ³¨æ„ä¸¤ä¸ªè¦ç´ ï¼šç¾æœ¯å’Œç©æ³•ã€‚ ç¾æœ¯æ ¹æ® BlockBench Wiki ä¸­çš„æ–‡æ¡£ Minecraft Style Guideï¼ŒMC çš„ç¾æœ¯é£æ ¼çš„åŸºç¡€æ˜¯ç®€çº¦ã€‚ æ¯”å¦‚åœ¨æ¨¡å‹å½“ä¸­ï¼Œåº”å½“åœ¨ä¿è¯èƒ½å¤Ÿæç»˜å¯¹è±¡çš„åŸºç¡€ä¸Šå°½å¯èƒ½å‡å°‘å…ƒç´ çš„æ•°é‡ï¼Œä¸åº”ä¸ºäº†è¿‡åˆ†è¿½æ±‚çœŸå®æ„Ÿå’Œç²¾ç»†è€Œåˆ¶ä½œä¸€ä¸ªç›¸å½“å¤æ‚çš„æ¨¡å‹ï¼Œå¦åˆ™å½“å…¶ä¸åŸç‰ˆçš„å†…å®¹æ”¾ç½®åœ¨ä¸€èµ·æ—¶å¯ä»¥æ˜æ˜¾æ„Ÿå—åˆ°çªå…€æ„Ÿã€‚ åœ¨ Minecraft Style Guide ä¸­ï¼Œä½œè€…æ€»ç»“äº†ä»¥ä¸‹è§„åˆ™ï¼š å½“ç„¶ï¼Œä½ ä¸éœ€è¦åœ¨å°†å…¶æŒæ¡åˆ°å€’èƒŒå¦‚æµçš„å¢ƒç•Œå¹¶åœ¨å®é™…æ“ä½œä¸­æ­¥æ­¥éµå®ˆï¼Œæ¯•ç«Ÿå³ä½¿åœ¨åŸç‰ˆ MC ä¸­ä¹Ÿæœ‰ä¾‹å¤–å‡ºç°ï¼ˆä¸è¦å»è§‚å¯Ÿå¯å¯è±†çš„é¡¶éƒ¨ï¼‰ï¼Œä½ åªéœ€è¦å‡­ä½ è‡ªå·±çš„æ„Ÿè§‰å»å‡å°‘ä¸Šæ–‡æåˆ°çš„é‚£ç§â€œçªå…€æ„Ÿâ€å³å¯ï¼Œè¿™é‡Œæ‰€åˆ—ä¸¾çš„è§„åˆ™ä»…ç›¸å½“äºä¸€ç§å¦‚ä½•è®©ä½ çš„ç¾æœ¯èµ„æºâ€œé¦™è‰åŒ–â€çš„æ“ä½œå‚è€ƒã€‚ ä¼—æ‰€å‘¨çŸ¥ï¼ŒMC ç»å†è¿‡ä¸€æ¬¡å¤§å‹çš„çº¹ç†æ›´æ–°ï¼Œåœ¨æ­¤æ›´æ–°ä¹‹åï¼ŒMC çš„çº¹ç†åŸºæœ¬éƒ½ç”± Jappa ç»˜åˆ¶ï¼Œè¿™æ ·ä¿è¯äº†é£æ ¼çš„ä¸€è‡´æ€§ï¼Œä½†æ˜¯åœ¨çº¹ç†æ›´æ–°å‰çš„ç¨‹åºå‘˜é£æ ¼çº¹ç†å°±ä¸åŸç‰ˆäº†å—ï¼Ÿç­”æ¡ˆå½“ç„¶æ˜¯å¦å®šçš„ã€‚ä½ å¯ä»¥å»å­¦ä¹  Jappa çš„é£æ ¼ï¼Œä¹Ÿå¯ä»¥æ¢ç´¢è‡ªå·±çš„é£æ ¼ï¼Œæ˜¯å¦ä¸åŸç‰ˆå¥‘åˆæ˜¯å¾ˆå®¹æ˜“è¢«æ„ŸçŸ¥åˆ°çš„ï¼Œä½†å³ä½¿ä¸å¥‘åˆï¼Œç©å®¶ä¹Ÿä¸ä¼šä¸æ¥å—ã€‚ ç©æ³•è¯´åˆ°åº•ç¾æœ¯åªå äº†ä¸€éƒ¨åˆ†è§†è§‰æ•ˆæœï¼ŒçœŸæ­£èƒ½å¤Ÿä½“ç°ä¸€ä¸ªæ¨¡ç»„æ˜¯å¦ä¸åŸç‰ˆå¥‘åˆçš„è¿˜æ˜¯åœ¨äºå…¶ç©æ³•ï¼ˆé™¤éä½ ä»…ä»…æƒ³åšä¸€ä¸ªè£…é¥°æ€§çš„æ¨¡ç»„ï¼Œæˆ‘ä¹Ÿå–œæ¬¢é‚£ç§ï¼‰ã€‚ ç©æ³•ä¸åŸç‰ˆå¥‘åˆå¹¶ä¸ä»£è¡¨å¯¹åŸç‰ˆè¿›è¡Œå¤åˆ¶ç²˜è´´ï¼ŒåŠ å…¥å„ç§ä¸åŸç‰ˆåŠŸèƒ½åŒºåˆ«ä¸å¤§çš„çŸ¿çŸ³å·¥å…·ç­‰ï¼Œé‚£æ ·å¹¶æ²¡æœ‰å¤šå°‘æ–°æ„ï¼Œç©å®¶ä¹Ÿå¾ˆéš¾æèµ·å…´è¶£å»ç©ï¼Œå› ä¸ºé‚£äº›ç»å…¸çš„å¤§å‹æ¨¡ç»„éƒ½å·²ç»æä¾›äº†ç›¸å½“æ•°é‡çš„ä¼˜è´¨é€‰æ‹©ã€‚å› æ­¤ï¼Œæ¨¡ç»„åº”è¯¥æœ‰è‡ªå·±çš„åŸåˆ›ç©æ³•ï¼Œç»™ MC å¸¦æ¥æ–°çš„ä¹è¶£ã€‚ ä½†æ˜¯å¦‚ä½•åœ¨åŠ å…¥æ–°ç©æ³•çš„åŒæ—¶ä¿æŒåŸç‰ˆé£æ ¼å‘¢ï¼Ÿ åœ¨ 2020 å¹´ Minecon ä¸Šï¼ŒJeb å±•ç¤ºäº†ä»–æ‰€ç¼–å†™çš„â€œå°ç»¿ä¹¦â€ä¸­çš„éƒ¨åˆ†å†…å®¹ï¼Œè¯¥ä¹¦æ˜¯ Mojang å†…éƒ¨çš„ Minecraft è®¾è®¡æŒ‡å¯¼ï¼Œå¾ˆå¯æƒœ Mojang å¹¶ä¸å‘ç©å®¶ç¤¾åŒºå…¬å¼€å…¶å…·ä½“å†…å®¹ã€‚ä½†å¹¸è¿çš„æ˜¯ Jeb å¤§æ–¹åœ°å±•ç¤ºäº†ä¸¤é¡µå†…å®¹ï¼Œè¿™ä½¿å¾—æˆ‘ä»¬å¯ä»¥æ®æ­¤å¯¹ Mojang çš„è®¾è®¡ç†å¿µä½œä¸€ç•ªæ£æµ‹ã€‚ ONE BLOCK AT A TIME! ä¸€æ¬¡ä¸€ä¸ªæ–¹å—ï¼Œæˆ–è€…ä¸€å—ä¸€å—æŒ–ï¼Œå³ç©å®¶çš„ä¸€æ¬¡è¾“å…¥åº”å½“åªå¼•èµ·ä¸€ä¸ªæ–¹å—çš„äº¤äº’ï¼Œä½†ä¸ä¸€ä¸ªæ–¹å—äº¤äº’åè¯¥æ–¹å—å¯ä»¥å†å¼•èµ·å…¶ä»–æ–¹å—çš„å˜åŒ–ï¼Œæ¯”å¦‚ç§æ ‘ã€ç‚¹ç‡ƒ TNT æˆ–è€…å¯åŠ¨çº¢çŸ³è£…ç½®ï¼Œæ— è®ºæœ€ç»ˆå¼•èµ·çš„å˜åŒ–æœ‰å¤šå¤§ï¼Œå¯¹äºç©å®¶æ¥è¯´ï¼Œä¸€åˆ‡éƒ½åº”è¯¥èµ·å§‹äºä¸ä¸€ä¸ªæ–¹å—çš„äº¤äº’ã€‚ è¿™æ ·çš„è§„åˆ™å¯ä»¥ä½¿ç©å®¶èƒ½å¤Ÿæ›´å®¹æ˜“åœ°ç†è§£ä»–äººæ¸¸ç©æ—¶çš„æ“ä½œï¼ŒåŒæ—¶ä¸¾äº†ä¸€é”®ç”Ÿæˆå»ºç­‘çš„åé¢æ¡ˆä¾‹ï¼Œè¿™æ ·çš„æ“ä½œä¼šå¯èƒ½ä½¿å…¶ä»–ç©å®¶éš¾ä»¥ç†è§£å‘ç”Ÿäº†ä»€ä¹ˆã€‚ åœ¨æ­¤è§„åˆ™ä¸‹ï¼Œèƒ½å¤ŸåŒæ—¶ç ´åå¤šä¸ªæ–¹å—çš„å·¥å…·ã€è¿é”ç ´åéƒ½æ˜¯ä¸è¢«å…è®¸çš„ï¼Œå› æ­¤éœ€è¦å¦å¯»å…¶ä»–æ–¹å¼æ¥ä¸ºç©å®¶æä¾›ä¾¿åˆ©ã€‚ BAD TINGS HAPPENâ€¦ but itâ€™s technically the playersâ€™ fault åœ¨ MC ä¸­ç¾éš¾æ˜¯å¸¸è§çš„ï¼Œæ¯”å¦‚æ‰è¿›ç†”å²©æ¹–æˆ–è€…æˆ¿å±‹è¢«è‹¦åŠ›æ€•æ‘§æ¯ï¼Œä½†æ˜¯é‡è¦çš„æ˜¯è¿™äº›äº‹æ•…éƒ½æ˜¯ç”±ç©å®¶é€ æˆçš„ï¼Œæˆ–è€…è¯´æ˜¯ç©å®¶å¯ä»¥å›é¿çš„ï¼Œæ¸¸æˆä¸­ä¸åº”è¯¥æœ‰æ— æ³•èº²é¿çš„ç¾éš¾ï¼Œæ‰€æœ‰ç¾éš¾æ€§äº‹ä»¶çš„å‘ç”Ÿéƒ½åº”è¯¥æ˜¯æœ‰åŸå› çš„ã€‚ å› æ­¤ï¼Œåœ¨åŸç‰ˆä¸­ï¼Œé—ªç”µè™½ç„¶æ˜¯éšæœºçš„ä½†å¼ºåº¦å¹¶ä¸å¤§ï¼Œæ²¡æœ‰è‡ªç„¶ç”Ÿæˆçš„ç”Ÿç‰©ä¼šä¸»åŠ¨æ”»å‡»è‹¦åŠ›æ€•ï¼Œæœ«å½±äººè™½ç„¶èƒ½ç§»åŠ¨æ–¹å—ä½†åªèƒ½ç§»åŠ¨å¦‚æ³¥åœŸï¼Œæ²™å­è¿™ç±»è‡ªç„¶ç”Ÿæˆä¸”ç©å®¶å¯å¾’æ‰‹ç ´åçš„å¸¸è§æ–¹å—ï¼ˆTNT æ˜¯ä¸ªä¾‹å¤–ï¼Œä½†åœ¨æ— ç©å®¶å¹²æ¶‰æƒ…å†µä¸‹ï¼Œæœ«å½±äººéœ€è¦ä»æ—åœ°åºœé‚¸æ‰¾åˆ° TNTï¼Œå¯»æ‰¾ç†”å²©æˆ–è€…ç«ç„°ï¼Œæˆ–è€…å°†å…¶å¸¦åˆ°è¿œå¤åŸå¸‚æˆ–è€…é›ªå±‹å½“ä¸­çš„çº¢çŸ³å—æˆ–çº¢çŸ³ç«æŠŠæ—ï¼Œæˆ‘ååˆ†æœŸå¾…åè€…çš„å‘ç”Ÿï¼‰ã€‚ æ‰€ä»¥å¤§å‹çš„è‡ªç„¶ç¾å®³ï¼Œèƒ½å¤Ÿä¸»åŠ¨ç ´åæ–¹å—çš„ç”Ÿç‰©éƒ½æ˜¯ä¸åº”è¯¥è¢«åŠ å…¥åˆ° MC çš„ï¼Œä½†è¿™å¹¶ä¸ä»£è¡¨é™åˆ¶äº†æ¸¸æˆçš„æŒ‘æˆ˜æ€§ï¼Œç›‘å®ˆè€…å°±æ˜¯ä¸ªå¾ˆå¥½çš„ä¾‹å­ï¼Œå®ƒä¼šè¢«æ–¹å—é®æŒ¡ï¼Œä½†å¯ä»¥å‘åŠ¨å£°çˆ†æ”»å‡»ã€‚å†æ¯”å¦‚ç‚½è¶³å…½ï¼Œå°½ç®¡å®ƒæ˜¯å‹å¥½ç”Ÿç‰©ï¼Œä½†æ˜¯å®ƒå¯ä»¥åœ¨ç†”å²©ä¸Šè¡Œèµ°ï¼Œåœ¨è®¾è®¡æ–°çš„ç”Ÿç‰©æ—¶ä¹Ÿå¯ä»¥å¦‚æ­¤è€ƒè™‘ï¼Œè™½ç„¶ä¸èƒ½ç ´åæ–¹å—ï¼Œä½†æ˜¯åœ¨ç‰¹å®šç¯å¢ƒä¸‹å…¶è¡Œä¸ºæ–¹å¼å¯ä»¥ç»™ç©å®¶å¸¦æ¥è¶³å¤Ÿçš„æŒ‘æˆ˜ã€‚ é™¤æ­¤ä¹‹å¤–ï¼Œå¼€å‘è€…ä»¬ä¹Ÿåœ¨ç¤¾åŒºæåŠäº†ä¸€äº›å†…å®¹ï¼Œæ¯”å¦‚æ¯’é©¬é“ƒè–¯æ°¸è¿œä¸ä¼šæœ‰ç”¨è¿™ç§å®ç”¨å†…å®¹ã€‚ æœ‰æŠŠæ¡è®¤ä¸ºä¸Šæ–‡è¿™äº›è§„åˆ™è®¾ç«‹äºå¾®è½¯æ”¶è´­ Mojang ä¹‹åï¼Œè‡ª Java ç‰ˆæœ«åœ°æ›´æ–°å¼€å§‹å®æ–½ï¼Œå°¤å…¶æ˜¯è‡ªæ°´åŸŸæ›´æ–°ä¹‹ååŠ å…¥çš„å†…å®¹å¯ä»¥æ˜æ˜¾æ„ŸçŸ¥åˆ°ä¸ Notch æ—¶æœŸçš„æ›´æ–°å†…å®¹å¤§ç›¸å¾„åº­ï¼Œå¦‚é—ªç”µï¼Œè‹¦åŠ›æ€•è¿™äº›è¿åè§„åˆ™çš„å†…å®¹éƒ½æ˜¯åœ¨å…¶ä¹‹å‰åŠ å…¥çš„ï¼Œå¯¹äºé—ªç”µå·²ç»åŠ å…¥äº†é¿é›·é’ˆï¼Œè€Œè‹¦åŠ›æ€•åˆ™æ˜¯ä½œä¸º MC çš„å‰ç¥¥ç‰©åœ°ä½è¿‡é«˜ä¸å¯æ’¼åŠ¨ã€‚ å½“ä»Šæ–°åŠ å…¥çš„åŠ¨ç‰©åŸºæœ¬ä¸Šéƒ½æ˜¯è¢«åŠ¨æˆ–è€…ä¸­ç«‹çš„ï¼Œè€Œä¸”éƒ½å¸¦æœ‰ä¸€å®šçš„éç°å®å…ƒç´ ï¼ˆå¦‚æµ·è±šå¯ä»¥ä½¿ç©å®¶æ¸¸æ³³åŠ é€Ÿï¼Œæµ·é¾Ÿå£³å¯ä»¥ç”¨æ¥é…¿é€ ï¼‰ï¼ŒåŒæ—¶å› ä¸ºç¯ä¿çš„åŸå› ï¼ŒMC ä¸æ”¯æŒç©å®¶å»æ€æ­»ç°å®ä¸­å­˜åœ¨çš„åŠ¨ç‰©ï¼Œæ‰€ä»¥æ–°åŠ å…¥çš„åŠ¨ç‰©éƒ½ä¸ä¼šå†æ‰è½å¦‚é£Ÿç‰©ä¹‹ç±»çš„å¿…éœ€å“ï¼ˆå“è‡ä¸æ˜¯ç°å®åŠ¨ç‰©ï¼Œå› æ­¤æ£•è‰²å“è‡æ˜¯åˆæ³•çš„ï¼‰ï¼›æ¸¸æˆä¸­ä¸ä¼šè½»æ˜“åŠ å…¥ä¸å¯ç ´åæ–¹å—ï¼Œé™¤éå®ƒæœ‰æå…¶é‡è¦çš„ä½œç”¨ä¸”ç›¸å½“ç½•è§ã€‚ ä¸ç¾æœ¯ä¸€æ ·ï¼Œç©æ³•æ–¹é¢çš„è§„åˆ™ä¹Ÿä¸æ˜¯å¿…é¡»è¦éµå®ˆçš„ï¼Œä½ è¦åšçš„æ˜¯ä½ è‡ªå·±çš„æ¨¡ç»„ï¼Œä¸€åˆ‡å†…å®¹éƒ½éšä½ ã€‚å½“ä»Š MC çš„æ¯ä¸€æ¬¡æ›´æ–°éƒ½æœ‰ç©å®¶è¯´è¿™ä¸åŸç‰ˆï¼Œä½†ä¸€æ®µæ—¶é—´åç©å®¶ä»¬æ€»ä¼šé€‚åº”çš„ï¼Œæœ€é‡è¦çš„æ˜¯æ–°å†…å®¹åº”è¯¥ä¸ MC å…ˆå‰çš„å†…å®¹èƒ½å¤Ÿå¥‘åˆï¼Œè€Œä¸æ˜¯ä¸€å¥—ç‹¬ç«‹çš„ç©æ³•ä½¿ MC åŸå…ˆçš„ç©æ³•å˜å¾—æ— ç”¨ï¼ˆè¿™é‡Œéœ€è¦ç‚¹åä¸€äº›ç§‘æŠ€æ¨¡ç»„å’Œé­”æ³•æ¨¡ç»„ï¼Œä½†æˆ‘æ‡’å¾—å†™äº†ï¼‰ã€‚åŒæ—¶ MC çš„æ›´æ–°å†…å®¹å¯ä»¥åˆ†ä¸º Notch æ—¶æœŸå’Œå¾®è½¯æ—¶æœŸï¼Œå¦‚æœè‹¦åŠ›æ€•æ˜¯ç°åœ¨è¢«åŠ å…¥æ¸¸æˆçš„ï¼Œé‚£ä¹ˆè®¤ä¸ºå®ƒä¸åŸç‰ˆçš„ç©å®¶ä¼šä¸ä¼šæ›´å¤šå‘¢ï¼Ÿ MC çš„ä¸»è§’æ˜¯ç©å®¶ï¼Œç©å®¶å¯ä»¥è‡ªç”±æ¢ç´¢æ”¹é€ è¿™ä¸ªä¸–ç•Œï¼Œç©å®¶çš„æ‰€ä½œæ‰€ä¸ºéƒ½åº”è¯¥è¢«å°Šé‡ï¼Œç©å®¶çš„è‡ªç”±ä¹Ÿä¸åº”è¯¥è¢«è¿‡å¤šé™åˆ¶ï¼Œå³ä½¿æ˜¯æœ«å½±é¾™ï¼Œç©å®¶ä¹Ÿå¯ä»¥åœ¨ä¸€èˆ¬ç”Ÿå­˜æ¨¡å¼ä¸‹ç©ºæ‰‹æ‰“è´¥ï¼Œä¹Ÿå¯ä»¥è·³è¿‡è¯¥æµç¨‹ç›´æ¥åˆ°å¤–å²›æ¢ç´¢ã€‚1.8 åŠ å…¥çš„ç²˜æ¶²å—ï¼Œ1.20 åŠ å…¥çš„æ ¡é¢‘å¹½åŒ¿æ„Ÿæµ‹ä½“å•ç‹¬çœ‹å…¶åŠŸèƒ½ä¸ç®—å¤ªå¤æ‚ï¼Œä½†éƒ½åœ¨ç¤¾åŒºå¸¦æ¥äº†æŠ€æœ¯é©å‘½ï¼ŒMC å°±æ˜¯è¿™æ ·ç”±ä¸€ä¸ªä¸ªç®€å•çš„å†…å®¹çš„ç»„åˆè·å¾—æ— é™å¯èƒ½çš„ï¼Œå› æ­¤åŸç‰ˆé£æ ¼çš„æ¨¡ç»„ä¸åº”è¯¥è§„å®šç©å®¶çš„æµç¨‹ï¼Œé‚£æ ·ä¼šä½¿ MC æ›´åƒä¸€ä¸ª RPG æ¸¸æˆæˆ–è€…ç»è¥ç­–ç•¥æ¸¸æˆã€‚","categories":[],"tags":[]},{"title":"ä¸€äº›å…³äºInnerCoreçš„é—²è¯","slug":"æ— ç”¨é—²è¯","date":"2023-02-18T16:35:06.127Z","updated":"2023-02-18T16:37:15.148Z","comments":true,"path":"2023/02/19/æ— ç”¨é—²è¯/","link":"","permalink":"https://weifeng233.github.io/2023/02/19/%E6%97%A0%E7%94%A8%E9%97%B2%E8%AF%9D/","excerpt":"","text":"é˜…å‰æé†’ï¼šæœ¬æ–‡ä»…ä¸ºä¸ªäººè§‚ç‚¹ï¼Œæ˜¯å¦å…·æœ‰å‚è€ƒä»·å€¼ç”±è¯»è€…è‡ªè¡Œåˆ¤æ–­ã€‚ èƒ½çœ‹åˆ°è¿™ç¯‡æ–‡ç« çš„äººåº”è¯¥éƒ½çŸ¥é“InnerCoreå’ŒHorizonæ˜¯ä»€ä¹ˆäº†ï¼Œå°±ä¸å†èµ˜è¿°äº†ã€‚é‚£ä¹ˆå…ˆæŒ‰å¸¸ä¾‹ç®€å•æ¢³ç†ä¸€ä¸‹å‘å±•å²ï¼Œé¦–å…ˆInnerCoreæ˜¯ZhekaåŸºäºCoreEngineå¼€å‘çš„ä¸€æ¬¾é€‚ç”¨äºå®‰å“å¹³å°ä¸ŠPE/BEç‰ˆMCçš„æ¨¡ç»„å¯åŠ¨å™¨ï¼Œè€ŒCoreEngineåˆ™æ˜¯ç”±Factorzationçš„FactAPIå‘å±•è€Œæ¥ï¼Œè¿è¡Œåœ¨è‘—åçš„æ–¹å—å¯åŠ¨å™¨ä¸Šã€‚è€ŒHorizonæ˜¯Zhekaä¸ºäº†è§„é¿Playå•†åº—çš„é™åˆ¶å’Œæ–¹ä¾¿æ›´æ–°InnerCoreè€Œå¼€å‘çš„ä¸€ä¸ªå®ä¾‹åŒ–å¯åŠ¨å™¨ï¼Œæˆ–è€…è¯´æ˜¯ä¸€ä¸ªâ€œæ¸¸æˆå¯åŠ¨å™¨å¹³å°â€ï¼Œä½†æŒ‰å½“å‰çš„æƒ…å†µæ¥çœ‹ï¼Œä½†å®ç°åè€…æ˜¯ä¸€ä»¶é¥ä¸å¯åŠçš„äº‹æƒ…ï¼Œæ¯•ç«Ÿé™¤äº†äººåŠ›ç‰©åŠ›çš„æ”¯æŒå¤–ï¼Œè¿˜éš¾å…ä¼šæ¶‰åŠç‰ˆæƒçº çº·ã€‚ä½†æ˜¯é‰´äºå·²ç»æœ‰ç›¸å½“å¤šçš„äººå°†Horizonä¸æ–°ç‰ˆInnerCoreç”»ä¸Šç­‰å·ï¼Œé‚£ä¹ˆç›¸æ¯”å¤§éƒ¨åˆ†äººåº”è¯¥éƒ½ä¸æ€ä¹ˆæ‹…å¿ƒHorizonä¼šæ€ä¹ˆæ ·ï¼Œåªä¼šå…³æ³¨InnerCoreçš„æ¸¸ç©ä½“éªŒä¹‹ç±»çš„äº‹æƒ…ï¼Œé‚£ä¹ˆæ— è®ºå†æ€ä¹ˆç”»é¥¼ä¹Ÿä¸ä¼šæœ‰äººè¢«å¸å¼•çš„ã€‚ è¯´å›InnerCoreï¼Œç°åœ¨InnerCoreç»™äººçš„ç¬¬ä¸€å°è±¡ç›¸æ¯”åªæœ‰ä¸‰ä¸ªå­—â€œä¸ç¨³å®šâ€ï¼Œå†å…¶æ¬¡å°±æ˜¯â€œå¡é¡¿â€ï¼Œâ€œä¼˜åŒ–å·®â€ï¼Œâ€œç‰ˆæœ¬è½åâ€ï¼Œâ€œä¸å¦‚ç½‘æ˜“â€ç­‰æ‰¹è¯„ï¼Œè€Œä¸”ç¡®å®éš¾ä»¥åé©³ã€‚ä½†æ˜¯ä¸èƒ½å°†è¿™äº›é—®é¢˜ç®€å•åœ°éƒ½æ¨ç»™å¼•æ“ï¼Œè¿˜æœ‰ä¸¤ä¸ªé‡è¦å› ç´ å€¼å¾—æ³¨æ„ï¼Œä¸€æ˜¯InnerCoreçš„å¼€å‘ç¤¾åŒºå®åœ¨æ˜¯å¤ªå°äº†ï¼Œäººæ•°æœ€å¤šçš„å¼€å‘ç¤¾åŒºå½“å±ä¿„å›½ï¼ˆè¿™ä¹ˆè¯´å¹¶ä¸èƒ½å…¨éƒ¨åŒ…æ‹¬ï¼Œæˆ–è®¸åº”è¯¥å«å‰è‹è”åœ°åŒº233ï¼‰å’Œä¸­å›½ï¼Œä½†è§„æ¨¡éƒ½åœ¨å‡ åäººä¸”æ´»è·ƒè€…å‡ä¸ºä¸ªä½æ•°ï¼Œè€Œä¸”åœ¨è¿™ç§ç”šè‡³æƒ…å†µä¸‹è¿˜åˆ†ç”Ÿå‡ºäº†ä¸€äº›äº’ç›¸å­˜åœ¨äº›è®¸çŸ›ç›¾çš„å°å›¢ä½“ï¼ˆå˜›ï¼Œå…¶å®ä¹Ÿå®Œå…¨å¯ä»¥ç†è§£ï¼Œæ¯•ç«Ÿäººçš„æ–¹å‘å’Œè§‚å¿µéƒ½æ˜¯è‡ªç”±çš„ï¼‰ï¼Œè‡³äºå…¶ä»–çš„å›½å®¶æˆ–åœ°åŒºé‚£å°±æ›´æ˜¯å±ˆæŒ‡å¯æ•°äº†ï¼Œè¿™å°±å¯¼è‡´äº†è‡³ä»ŠICModçš„å¼€å‘è¿˜å¾ˆä¸æˆç†Ÿï¼Œæ²¡æœ‰å¤šå°‘ç¨³å®šå¯é çš„è½®å­å¯ç”¨ï¼Œè€Œä¸”æœ‰äº›æ¯”è¾ƒåŸºæœ¬çš„ä¸œè¥¿éƒ½è¿˜æ²¡æœ‰æ‰“æˆä¸€ä¸ªä¸€è‡´çš„æ ‡å‡†ï¼ˆæ¯”å¦‚è¯´ç»å…¸UIå’ŒçŸ¿è¾ï¼Œéƒ½æ˜¯æœ‰æœ›é€šè¿‡å¼€å‘ç¤¾åŒºäº¤æµåˆä½œæ¥å®ç°çš„ï¼‰ã€‚ äºŒæ˜¯å¾®è½¯å¯¹ç¬¬ä¸‰æ–¹å¯åŠ¨å™¨çš„æ‰“å‹ï¼Œè™½ç„¶æ²¡æœ‰è¡¨ç°åœ¨æ˜é¢ä¸Šï¼Œä½†å¾ˆå¤šæ“ä½œéƒ½å¯ä»¥è¯å®ï¼Œæ¯”å¦‚è¯´å°ç¦å¸å·å’Œåˆ é™¤ç¬¦å·ï¼Œå‰è€…æ˜¯åœ¨è­¦ç¤ºç©å®¶ä¸è¦ä½¿ç”¨ç¬¬ä¸‰æ–¹å¯åŠ¨å™¨ï¼ˆå½“ç„¶ï¼Œç¡®å®æœ‰åä½œå¼Šçš„ç›®çš„ï¼Œä½†å½“æ—¶çš„å°ç¦æ ‡å‡†æ˜¯é’ˆå¯¹å®‰å“ä¸Šçš„ç¬¬ä¸‰æ–¹å¯åŠ¨å™¨å¦‚æ–¹å—å¯åŠ¨å™¨ï¼ŒToolboxè®¾è®¡çš„ï¼Œå› ä¸ºæœåŠ¡å™¨ä½œå¼Šçš„å¤§å¤´åœ¨Win10å¹³å°ä¸Šï¼‰ï¼Œåè€…åˆ™æ˜¯é˜»ç¢ç¬¬ä¸‰æ–¹å¯åŠ¨å™¨çš„å¼€å‘è€…å¯¹æ–°ç‰ˆæœ¬çš„é€‚é…ã€‚æ‰€ä»¥æˆ‘ä¸ªäººæ˜¯å¯¹InnerCoreé€‚é…æ–°ç‰ˆæœ¬ä¸æŠ±ä»»ä½•å¸Œæœ›äº†ï¼Œä½†å¯¹äºæ¨¡ç»„ç©å®¶æ¥è¯´ï¼Œè¿™å¹¶éæ˜¯ä¸èƒ½æ¥å—çš„äº‹æƒ…ã€‚ ä½†æ˜¯æˆ‘å¹¶ä¸è®¤ä¸ºInnerCoreå°±åº”è¯¥å°±æ­¤è¢«é—å¼ƒï¼Œå› ä¸ºInnerCoreä»¥ä¸Šçš„åŠ£åŠ¿éƒ½æ˜¯ç”±å®ƒæœ€å¤§çš„ä¼˜åŠ¿å¯¼è‡´çš„â€”â€”InnerCoreæ˜¯ä¸€ä¸ªç¬¬ä¸‰æ–¹æ¨¡ç»„APIï¼Œè¿™æ„å‘³ç€å¼€å‘è€…æœ‰è¶³å¤Ÿçš„æ¥å£å’Œæƒé™å»åšå‡ ä¹ä»»ä½•ä»–ä»¬æƒ³åšçš„äº‹æƒ…ï¼ˆå‰ææ˜¯ä¸åªæ˜¯æ‹˜æŸåœ¨CoreEngineAPIå½“ä¸­ï¼‰ï¼Œæˆ‘å¯ä»¥æ–­è¨€ï¼ŒMojangå’Œç½‘æ˜“çš„æ¨¡ç»„APIæ°¸è¿œä¸å¯èƒ½å…è®¸å¼€å‘è€…æœ‰å®Œå…¨è‡ªç”±çš„æ–‡ä»¶è¯»å†™æƒé™å’Œç³»ç»Ÿæƒé™ï¼Œå½“ç„¶è¿™æ˜¯å› ä¸ºè¿™ä¼šç»™ç©å®¶å¸¦æ¥å¾ˆå¤§çš„å®‰å…¨éšæ‚£ï¼Œä½†è¿™å–å†³äºå¼€å‘è€…ï¼ŒJavaç‰ˆçš„æ¨¡ç»„å¼•æ“æ¯”å¦‚Forgeï¼ŒFabricä¹Ÿæœ‰åŒæ ·ç”šè‡³æ›´é«˜çš„è‡ªç”±åº¦ï¼Œä½†æ¶æ„æ¨¡ç»„çš„äº‹ä»¶ä¸ç®—å¤šã€‚å¦‚æœç¬¬ä¸‰æ–¹æ¨¡ç»„åœ¨åŸºå²©ç‰ˆå½»åº•ç­ç»ï¼Œå…¨é åç­‰å®˜æ–¹å¼€æ”¾çš„å®˜æ–¹æ¨¡ç»„APIï¼Œé‚£ä¹ˆåŸºå²©ç‰ˆæ¨¡ç»„æ˜¯ä¸ä¼šæœ‰ä¸Javaç‰ˆæ¨¡ç»„æŠ—è¡¡çš„æ—¶å€™çš„ï¼ˆè™½ç„¶æˆ‘ä¸ªäººè§‰å¾—å’ŒJavaç‰ˆæ¯”æ„ä¹‰ä¸å¤§å°±æ˜¯äº†ï¼‰ã€‚æ€»ä¹‹æ— è®ºå¦‚ä½•ï¼Œæˆ‘éƒ½ä¼šåšæŒæ”¯æŒç¬¬ä¸‰æ–¹æ¨¡ç»„APIã€‚ å†è¯´ç‚¹é¢˜å¤–è¯ï¼Œç›®å‰åŸºå²©ç‰ˆçš„å®˜æ–¹æ¨¡ç»„APIéƒ½æ˜¯æ•°æ®é©±åŠ¨+æœåŠ¡ç«¯è„šæœ¬çš„æ¨¡å¼ï¼Œè€ŒInnerCoreæ˜¯å®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯å‡½æ•°å’Œå›è°ƒæ··åˆçš„æ¨¡å¼ï¼Œç›´æ¥æ¯”è¾ƒä¸¤ç§ä¸åŒçš„æ¨¡å¼ï¼ˆæˆ–è€…å«â€œèŒƒå¼â€ï¼‰æ˜¯ä¸åˆé€‚çš„ï¼Œä½†å°±å’Œé¢å‘è¿‡ç¨‹å’Œé¢å‘å¯¹è±¡ä¸€æ ·ï¼Œéƒ½æœ‰å…¶æ˜¾ä¼˜åŠ¿çš„æƒ…å†µã€‚æˆ‘ä¸ªäººè®¤ä¸ºå®˜æ–¹æ¨¡ç»„APIçš„æ¨¡å¼æ¯”è¾ƒé€‚åˆå¼€å‘é‚£äº›å¤§ä½“é‡ä½†åŒè´¨åŒ–è¾ƒé«˜å’Œé‡è§†è§‰è¡¨ç°è½»åŠŸèƒ½çš„æ¨¡ç»„ï¼Œè€ŒInnerCoreé€‚åˆå¼€å‘å†…å®¹è€¦åˆæ€§è¾ƒé«˜å’Œæ‹¥æœ‰å¤æ‚é€»è¾‘çš„æ¨¡ç»„ï¼Œè™½ç„¶ç°åœ¨çš„ç¯å¢ƒæ˜¯åŸºæœ¬ä¸Šéƒ½ä»¥å‰è€…ä¸ºä¸»ï¼Œåè€…æ— è®ºåœ¨åŸºå²©ç‰ˆå’ŒJavaç‰ˆéƒ½ç›¸å½“å°‘è§ï¼ˆä½†è´¨é‡åŸºæœ¬ä¸Šéƒ½å¾ˆé«˜ï¼‰ã€‚ä¸è¿‡è¿™éƒ½æ˜¯ç›¸å½“ç†æƒ³çš„æƒ³æ³•äº†ï¼Œåœ¨ç°å®ä¸­è°è¯´è¦åœ¨InnerCoreå¼€å‘åƒæœºæ¢°åŠ¨åŠ›é‚£æ ·çš„æ¨¡ç»„ä¼°è®¡è¦ä¹ˆæ”¶è·ä¸€äº›è´¨ç–‘è¦ä¹ˆè¢«æ¨èå»ç½‘æ˜“ã€‚å¦å¤–æ¯”å¦‚Pojavï¼ŒHMCLPEè¿™äº›å®‰å“å¹³å°ä¸Šçš„Javaç‰ˆå¯åŠ¨å™¨æˆ‘ä¸ªäººè®¤ä¸ºä¸InnerCoreæ˜¯ä¸åœ¨åŒä¸€æ¡èµ›é“ä¸Šçš„ï¼Œä¸èƒ½äº’ç›¸æ¯”è¾ƒï¼Œè°ä¼˜è°åŠ£çš„äº‰è®ºæ˜¯æ— æ„ä¹‰çš„ã€‚ Vanilla Survival Player","categories":[],"tags":[]},{"title":"Core Utilityï¼ˆæ¸£ç¿»é¢„è­¦ï¼‰","slug":"CoreUtility","date":"2022-08-03T10:23:19.603Z","updated":"2022-08-26T17:41:33.404Z","comments":true,"path":"2022/08/03/CoreUtility/","link":"","permalink":"https://weifeng233.github.io/2022/08/03/CoreUtility/","excerpt":"","text":"Core Utilityåº”ç”¨é¢†åŸŸè¯¥æ ¸å¿ƒè®¾è®¡ç”¨äºåˆ›å»º Hooksï¼ˆé‡è½½åŸç”Ÿ(Native)æ–¹æ³•æˆ–è¦†å†™å…¶è¿”å›å€¼ï¼‰ä»¥åŠåœ¨ JavaScript / TypeScript ä¸­è°ƒç”¨åŸç‰ˆæ–¹æ³•ï¼Œä»¥æå¤§çš„ç®€åŒ–éƒ¨åˆ†æ–¹æ³•ä¸åŸç”Ÿæ¨¡å—çš„é›†æˆã€‚ å£°æ˜æ–‡ä»¶ core-utility.d.ts - ç”¨äºæ”¯æŒ TypeScript çš„ç¼–è¾‘å™¨ ToolTipToolTip(å·¥å…·æç¤º) ç”¨äºè‡ªå®šä¹‰æ˜¾ç¤ºåœ¨ç‰©å“åç§°ä¸‹æ–¹çš„é™„åŠ æ•°æ®ï¼Œå¯ç”¨äºå±•ç¤ºèƒ½é‡å€¼æˆ–åˆ›é€ ç‰©å“æ ç±»åˆ«ã€‚ å‘ç‰©å“æ·»åŠ å·¥å…·æç¤ºï¼ˆå½“ç„¶è¿™ä¹Ÿé€‚ç”¨äºæ–¹å—ï¼‰ 1ToolTip.addToolTip(id, data, name); åœ¨æ­£æ–‡ä¹‹å‰æ·»åŠ ä¸€æ¡åŠ¨æ€å·¥å…·æç¤º 123ToolTip.addDynamicPre(id, data, function(item) &#123; return Translation.translate(&quot;tool.unique_artifact.formatter&quot;);&#125;); åœ¨æ­£æ–‡ä¹‹åæ·»åŠ ä¸€æ¡åŠ¨æ€å·¥å…·æç¤º 123ToolTip.addDynamicPost(id, data, function(item) &#123; return Translation.translate(&quot;tool.unique_artifact.name&quot;);&#125;); æ·»åŠ å¤šæ¡å·¥å…·æç¤ºï¼ˆè¯‘æ³¨ï¼šæ­¤å¤„ names ä¸ºåŒ…å«æç¤ºå†…å®¹çš„æ•°ç»„ï¼‰ 1ToolTip.addToolTips(id, data, names); åˆ é™¤ç‰¹å®šçš„å·¥å…·æç¤º 1ToolTip.deletToolTip(id, data, names); æ¸…é™¤å…ˆå‰æ·»åŠ çš„å·¥å…·æç¤º 1ToolTip.clearToolTip(id, data); ä»¥æ•°ç»„çš„å½¢å¼è·å–æ‰€æœ‰çš„å·¥å…·æç¤º 1ToolTip.getToolTips(id, data); æ¸…é™¤æ‰€æœ‰ç‰©å“çš„å·¥å…·æç¤º 1ToolTip.clearToolTips(); NativeAPIç”¨äºè°ƒç”¨åœ¨è¿è¡Œç¯å¢ƒï¼ˆè¿è¡Œæ—¶å€¼ï¼‰å’Œæ¨¡ç»„è„šæœ¬ä¹‹é—´è½¬æ¢æ ‡è¯†ç¬¦çš„ä¸»è¦æ–¹æ³•çš„å·¥å…·ç±»ã€‚ æ ‡è¯†ç¬¦å¯ä»¥æœ‰å¤šç§ç±»å‹ï¼Œå¯¹äºä¸€ä¸ªç‰©å“æˆ–æ–¹å—å¿…é¡»ç›¸åº”åœ°å¦‚ä¸‹æŒ‡å®šï¼š 12ConversionType.ITEMConversionType.BLOCK å°†åŠ¨æ€æ ‡è¯†ç¬¦è½¬æ¢ä¸ºé™æ€æ ‡è¯†ç¬¦ 1NativeAPI.dynamicToStatic(id, type); å°†é™æ€æ ‡è¯†ç¬¦è½¬æ¢ä¸ºåŠ¨æ€æ ‡è¯†ç¬¦ 1NativeAPI.staticToDynamic(id, type); é€šè¿‡å®ä¾‹å¯¹è±¡è·å–å®ä½“çš„ UUID 1NativeAPI.getActorID(actor); é€šè¿‡UUIDè·å–å®ä½“çš„å®ä¾‹å¯¹è±¡ 1NativeAPI.getActorById(id); ActorDamageCauseåˆ›å»º ActorDamegeCause ç±»çš„å®ä¾‹å¯¹è±¡ï¼ŒID ä¸ºæœªæ¥ä¼¤å®³çš„ IDï¼ˆå¯ä»¥æ›¿æ¢åŸç‰ˆä¼¤å®³ç±»å‹ï¼‰ 1new ActorDamageCause(id); è®¾ç½®æ­»äº¡ä¿¡æ¯ 123&lt;ActorDamageCause&gt;.setDeadMessage(function(type, name_player, attacker)&#123; return &quot;Kill &quot;+name_player;&#125;); TickingAreasManagerå¸¸åŠ è½½åŒºåŸŸæ˜¯ç”±ç©å®¶åˆ›å»ºçš„ä¸€äº›åŒºå—ï¼Œå¯ä»¥åœ¨é™„è¿‘æ²¡æœ‰ç©å®¶çš„æƒ…å†µä¸‹ä¿æŒæ›´æ–°ã€‚è¯¥ç±»ç”¨äºç®¡ç†å·²åˆ›å»ºçš„å¸¸åŠ è½½åŒºåŸŸå’Œåˆ›å»ºæ–°çš„å¸¸åŠ è½½åŒºåŸŸã€‚ æ£€æŸ¥æ˜¯å¦å­˜åœ¨å¸¸åŠ è½½åŒºåŸŸ 1TickingAreasManager.hasActiveAreas(); åœ¨ç‰¹å®šåæ ‡å¤„æ·»åŠ ç‰¹å®šåŠå¾„çš„çƒå½¢å¸¸åŠ è½½åŒºåŸŸ 1TickingAreasManager.addArea(dimension, name, x, y, z, range); ä»¥ç‰¹å®šçš„ä¸¤ç‚¹æ·»åŠ é•¿æ–¹ä½“å¸¸åŠ è½½åŒºåŸŸ 1TickingAreasManager.addAreaPositions(dimension, name, x1, y1, z1, x2, y2, z2); ä¸ºç»´åº¦ä¸­çš„ç‰¹å®šå®ä½“æ·»åŠ å¸¸åŠ è½½åŒºåŸŸï¼Œå³ä½¿è¯¥å®ä½“æ‹¥æœ‰å’Œç©å®¶ä¸€æ ·çš„åŠ è½½åŒºå—çš„èƒ½åŠ› 1TickingAreasManager.addEntityArea(dimension, entity); è¿”å›ä¸–ç•Œä¸­çš„å¸¸åŠ è½½åŒºåŸŸçš„æ•°é‡ï¼Œå› ä¸ºæ˜¯é€šè¿‡æŒ‡ä»¤æ·»åŠ ï¼Œä¸Šé™ä¸º10 1TickingAreasManager.countStandaloneTickingAreas(); è¿”å›ç‰¹å®šç»´åº¦ä¸­çš„å¸¸åŠ è½½åŒºåŸŸçš„æ•°é‡ 1TickingAreasManager.countPendingAreas(dimension); FileUtilsç”¨äºå¤„ç†æ–‡ä»¶çš„åŸç”Ÿæ¨¡å—ï¼Œç®€åŒ–äº†å¤„ç†å¤§é‡æ–‡ä»¶çš„è¿‡ç¨‹ã€‚ 12345678910111213141516171819202122232425262728// åˆ é™¤æ–‡ä»¶å¤¹åŠå…¶åŒ…å«çš„æ–‡ä»¶FileUtils.deleteDirectory(path);// æ¸…ç©ºæ–‡ä»¶å¤¹FileUtils.deleteDirectoryContents(path);// å¦‚æœä¸ºç©ºæ–‡ä»¶å¤¹åˆ™å°†å…¶åˆ é™¤FileUtils.deleteEmptyDirectory(dir);// åˆ é™¤ç‰¹å®šæ–‡ä»¶FileUtils.deleteFile(file);// é‡å‘½åæ–‡ä»¶å¤¹FileUtils.renameDirectory(oldName, newName);// é‡å‘½åæ–‡ä»¶FileUtils.renameFile(oldName, newName);// å¤åˆ¶æ–‡ä»¶å¤¹åŠå…¶åŒ…å«çš„æ–‡ä»¶FileUtils.copyDirectory(from, to); // æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨FileUtils.fileExists(file);// æ£€æŸ¥æ–‡ä»¶å¤¹æ˜¯å¦å­˜åœ¨FileUtils.directoryExists(dir); // æ£€æŸ¥è·¯å¾„æ˜¯å¦å¯ç”¨FileUtils.isValidPath(path);// æ£€æŸ¥æ˜¯å¦ä¸ºæ¸¸æˆæ–‡ä»¶å¤¹çš„ç›¸å¯¹è·¯å¾„FileUtils.isRelativePath(path);// æ£€æŸ¥æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹æ˜¯å¦å­˜åœ¨FileUtils.isExists(pathOrFile);// åˆ›å»ºæ–‡ä»¶å¤¹FileUtils.createDirectory(path);// ä¸ºæ–‡ä»¶åˆ›å»ºå…¶è·¯å¾„ä¸­ç¼ºå°‘çš„æ–‡ä»¶å¤¹FileUtils.createDirectoryForFile(path); Worldç”¨äºç®¡ç†ä¸–ç•Œåˆ—è¡¨ï¼Œå¯ä»¥æ·»åŠ éæ¸¸æˆæœ¬èº«æä¾›çš„ä¸–ç•Œæ–‡ä»¶å¤¹è·¯å¾„ï¼Œä¾‹å¦‚æ¨¡ç»„ç‰¹å®šçš„ä¸–ç•Œã€‚ å‘ä¸–ç•Œåˆ—è¡¨æ·»åŠ è·¯å¾„ 1World.addWorldToCache(path); åˆ·æ–°ä¸–ç•Œåˆ—è¡¨ï¼Œè‹¥æ¸¸æˆå·²ç»åŠ è½½å®Œæ¯•åˆ™ä¼šäº§ç”Ÿè§†è§‰ä¸Šçš„å˜åŒ–ï¼ˆè¯‘æ³¨ï¼šåœ¨è¿›å…¥ä¸–ç•Œåä½¿ç”¨å¯ä½¿æ¸¸æˆå´©æºƒï¼‰ 1World.updateWorlds(); è·å–æœ‰æ•ˆçš„ä¸–ç•Œæ•°é‡ï¼ˆè‹¥ä¸–ç•Œå­˜æ¡£æŸåï¼Œåˆ™ä¸ä¼šè¢«è®¡å…¥ï¼‰ 1World.getWorldsCount(); Random ç»§æ‰¿è‡ª PointerClass ç”Ÿæˆæœ€å¤§å€¼ä¸ºmaxçš„éšæœºæ•° 1&lt;random&gt;.nextInt(max); Level ç»§æ‰¿è‡ª PointerClass è¿”å› Random å®ä¾‹ 1&lt;level&gt;.getRandom(); ç”Ÿæˆç‰¹å®šå‘½åç©ºé—´IDçš„å®ä½“åˆ°ä¸–ç•Œä¸­ 1addEntity(source, x, y, z, namespace); è¿”å›è‡ªä¸–ç•Œåˆ›å»ºä»¥æ¥çš„æ€» tick æ•° (1 tick = 1/20s) 1getCurrentTick(); è¿”å›æœåŠ¡ç«¯è‡ªä¸–ç•Œåˆ›å»ºä»¥æ¥çš„æ€» tick æ•° (1 tick = 1/20Ñ) 1getCurrentServerTick(); è·å–ç©å®¶åŠ è½½åŒºå—èŒƒå›´ 1getChunkTickRange(); Options ç»§æ‰¿è‡ª PointerClass è·å–ç”¨æˆ·ç•Œé¢ç±»å‹ - 0 ä¸º Pocket UI, 1 ä¸ºç»å…¸UI 1&lt;options&gt;.getUiProfile(); GuiData ç»§æ‰¿è‡ª PointerClass å±•ç¤ºæ ‡é¢˜æ¶ˆæ¯ï¼ˆç­‰åŒäº /title titleï¼‰ 1&lt;guiData&gt;.setTitle(name); å±•ç¤ºå‰¯æ ‡é¢˜æ¶ˆæ¯ï¼ˆç­‰åŒäº /title subtitleï¼‰ 1&lt;guiData&gt;.setSubtitle(name); å±•ç¤ºå¿«æ·æ æ ‡é¢˜æ¶ˆæ¯ï¼ˆç­‰åŒäº /title actionbarï¼‰ 1&lt;guiData&gt;.setActionMessage(name); ClientInstance ç»§æ‰¿è‡ª PointerClass è¿”å› Options å®ä¾‹ 1&lt;ClientInstance&gt;.getOptions(); è¿”å› GuiData å®ä¾‹ 1&lt;ClientInstance&gt;.getGuiData(); åœ¨ç‰¹å®šåæ ‡æ’­æ”¾æ–¹å—ç ´åç²’å­ 1&lt;ClientInstance&gt;.renderDestroyBlock(x, y, z, speed); å°†æœ¬åœ°ç©å®¶çš„ç›¸æœºè®¾ç½®ä¸ºå¦ä¸€ä¸ªå®ä½“ 1&lt;ClientInstance&gt;.setCameraEntity(entity); GlobalContextè¿”å› ClientInstance å®ä¾‹ 1GlobalContext.getClientInstance(); è¿”å›æœåŠ¡ç«¯çš„ Level å®ä¾‹ 1GlobalContext.getServerLevel(); è¿”å›å®¢æˆ·ç«¯çš„ Level å®ä¾‹ 1GlobalContext.getLevel(); BlockUtilsè¿”å› LegacyBlock çš„ PointerClass å®ä¾‹ 1BlockUtils.getBlockById(id); è¿”å› BlockState çš„ PointerClass å®ä¾‹ 1BlockUtils.getBlockStateForIdData(id, data); é«˜çº§åŠŸèƒ½Minecraft ä¸­çš„æ¯ä¸ªæ–¹æ³•éƒ½æœ‰å®ƒçš„å”¯ä¸€æ ‡è¯†ç¬¦ï¼ˆç¬¦å·ï¼Œsymbolï¼‰ï¼Œé€šè¿‡ç¬¦å·å¯ä»¥ä¸ºæ–¹æ³•åˆ›å»º Hook ï¼ˆç›‘å¬å™¨ï¼‰æˆ–è°ƒç”¨å®ƒã€‚ å¦‚ä½•æ‰¾åˆ°æ–¹æ³•çš„ç¬¦å·ï¼ŸIDA Pro â€“ Hex Rays - Windows, Linux, macOSGhidra Software Reverse Engineering Framework - Windows, Linux, macOSDisassembler - Viewer, Dumper - Android Injectorç”¨äºå’ŒåŸç‰ˆçš„ç±»ä¸€èµ·ä½¿ç”¨ï¼Œä»¥ä¾›è°ƒç”¨æ–¹æ³•å¹¶è·å–è¿”å›å€¼ã€‚å¦‚æœä¸æ‰“ç®—å†ä½¿ç”¨ï¼Œå»ºè®®é‡Šæ”¾å†…å­˜ã€‚å¯ä»¥é€šè¿‡æŒ‡é’ˆæˆ– PointerClass çš„å®ä¾‹å¯¹è±¡æ¥åˆ›å»ºã€‚ 12new Injector(pointer);new Injector(PointerClass); è¿”å›åº“ä¸­çš„ Offset ç±»ï¼Œç›¸å½“å®ç”¨ï¼Œéœ€è¦æŸ¥æ‰¾ç›¸åº”çš„åæ±‡ç¼–ä»£ç  12&lt;injector&gt;.getOffset();&lt;injector&gt;.getOffset(offset); è°ƒç”¨åŸç‰ˆæ–¹æ³• 1&lt;injector&gt;.call(symbol, parameters, table); è°ƒç”¨åŸç‰ˆæ–¹æ³•ï¼Œè¿”å›å€¼ä¸ºæ•´å‹ 1&lt;injector&gt;.getIntResult(symbol, parameters, table); è°ƒç”¨åŸç‰ˆæ–¹æ³•ï¼Œè¿”å›å€¼ä¸ºæµ®ç‚¹æ•° 1&lt;injector&gt;.getFloatResult(symbol, parameters, table); è°ƒç”¨åŸç‰ˆæ–¹æ³•ï¼Œè¿”å›å€¼ä¸ºå¸ƒå°”å€¼ 1&lt;injector&gt;.getBoolResult(symbol, parameters, table); è°ƒç”¨åŸç‰ˆæ–¹æ³•ï¼Œè¿”å›å€¼ä¸ºå­—ç¬¦ä¸² 1&lt;injector&gt;.getStringResult(symbol, parameters, table); è°ƒç”¨åŸç‰ˆæ–¹æ³•ï¼Œè¿”å›å€¼ä¸ºè¯¥ç±»çš„å®ä¾‹å¯¹è±¡çš„æŒ‡é’ˆ 1&lt;injector&gt;.getPointerResult(symbol, parameters, table); ç”¨å…¶ä»–ä»»æ„çš„æ–¹æ³•æ›¿æ¢ç‰¹å®šçš„æ–¹æ³• 1&lt;injector&gt;.replace(table, method, symbol); é‡Šæ”¾å†…å­˜ï¼Œå°†æ— æ³•å†ä¸æ­¤å¯¹è±¡è¿›è¡Œäº¤äº’ 1&lt;injector&gt;.free(); è®¾ç½®åŸç‰ˆåº“çš„åç§° 1&lt;injector&gt;.setLib(name); è°ƒç”¨é™æ€æ–¹æ³•å¦‚æœä¸€ä¸ªç±»æ²¡æœ‰å®ä¾‹ä¹Ÿä¸èƒ½åˆ›å»ºå®ä¾‹ï¼Œä½†å­˜åœ¨é™æ€æ–¹æ³•ï¼Œå¯é€šè¿‡æ„é€ ä¸€ä¸ªç©ºç™½çš„å®ä¾‹å¯¹è±¡æ¥è°ƒç”¨ã€‚ 1new Injector(); Offsetè¯¥ç±»å…è®¸é€šè¿‡åç§»è·å–ç±»çš„å­—æ®µã€‚ 1234567891011&lt;offset&gt;.setOffset(offset);// è·å–æ•´å‹&lt;offset&gt;.getInt(offset?);// è·å–æµ®ç‚¹å€¼&lt;offset&gt;.getFloat(offset?);// è·å–å€¼çš„æŒ‡é’ˆ&lt;offset&gt;.getPointer(offset?);// è·å–å­—ç¬¦ä¸²&lt;offset&gt;.getString(offset?);// é‡Šæ”¾å†…å­˜ï¼Œä¸å¯å†ä½¿ç”¨&lt;offset&gt;.free(); Hook åœ¨æ¨¡ç»„æ–‡ä»¶å¤¹ä¸­åˆ›å»ºä¸€ä¸ªhooks.jsonæ–‡ä»¶ã€‚ åœ¨å…¶ä¸­ç¼–å†™ Hook å¯¹è±¡çš„æè¿°ã€‚ åœ¨æ¨¡ç»„è„šæœ¬ä¸­æ·»åŠ å›è°ƒï¼ˆå›è°ƒå‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºæ§åˆ¶å™¨ï¼Œç¬¬äºŒä¸ªä¸ºæŒ‡å‘è¢« Hook çš„ç±»çš„æŒ‡é’ˆï¼Œä¹‹åä¸ºåœ¨æè¿°ä¸­å®šä¹‰çš„å‚æ•°ï¼‰ã€‚ 12345678&#123; &quot;symbol&quot;: &quot;&lt;symbol&gt;&quot;, &quot;callback&quot;: &quot;&lt;callbackName&gt;&quot;, &quot;args&quot;: [], // é»˜è®¤ä¸º [] &quot;priority&quot;: &quot;pre&quot; // åœ¨æ–¹æ³•è°ƒç”¨ä¹‹å‰æˆ–ä¹‹åè§¦å‘ï¼Œé»˜è®¤ä¸º pre ä¹‹å‰ï¼Œå¯é€‰ post ä¹‹å &quot;lib&quot;: &quot;mcpe&quot;, // é»˜è®¤ä¸º mcpe &quot;return&quot;: &quot;bool&quot; // é»˜è®¤ä¸º void&#125; è¿”å›å€¼çš„ç±»å‹ stl::string void - æ¥å—ç±»çš„å®ä¾‹å¯¹è±¡çš„æŒ‡é’ˆ int float bool å‚æ•°ç±»å‹ stl::string int float ptr BlockPos Vec2 Vec3 ChunkPos BlockSource CompoundTag å¯¹äºå…¶ä»–çš„æ•°æ®ç±»å‹ï¼Œå¯ä»¥ä½¿ç”¨æŒ‡é’ˆptrã€‚å¦å¤–ä¸è¦å¿˜è®°æ›¿æ¢&lt;symbol&gt;ä¸ºéœ€è¦è¦†ç›–çš„ç‰¹å®šç¬¦å·ï¼Œä»¥åŠ&lt;callbackName&gt;å°†ä½œä¸ºè¯¥æ–¹æ³•æ‰§è¡Œæ—¶è°ƒç”¨çš„å›è°ƒã€‚ ä½¿ç”¨ç¤ºä¾‹ æ¨¡ç»„ TimeWand NotBurningMobs Combination Lock Faster Ladder Climbing Injector ç¤ºä¾‹ï¼Œå½“æ–¹å—è¢«ç‚¹å‡»æ—¶è°ƒç”¨å…¶ randomTick æ–¹æ³•ã€‚ 123456789101112131415161718192021222324252627function getNativeBlock(region, x, y, z) &#123; let injector = new Injector(region.getPointer()).setArgsType([&quot;ptr&quot;]); let pos = new BlockPos(x, y, z); let block = injector.getPointerResult(&quot;_ZNK11BlockSource8getBlockERK8BlockPos&quot;, [ Parameter.getPointer(pos) ]); injector.free(); pos.free(); return block;&#125;function randomTick(block, x, y, z, region) &#123; let injector = new Injector(block).setArgsType([&quot;ptr&quot;, &quot;ptr&quot;, &quot;ptr&quot;]); let pos = new BlockPos(x, y, z); injector.call(&quot;_ZNK5Block10randomTickER11BlockSourceRK8BlockPosR6Random&quot;, [ Parameter.getPointer(region.getPointer()), Parameter.getPointer(pos), Parameter.getPointer(GlobalContext.getServerLevel().getRandom()) ]); pos.free(); injector.free();&#125;Callback.addCallback(&quot;ItemUse&quot;, function(pos, item, block, is, player) &#123; let region = BlockSource.getDefaultForActor(player); randomTick(getNativeBlock(region, pos.x, pos.y, pos.z), pos.x, pos.y, pos.z, region);&#125;); Offset ç¤ºä¾‹ï¼Œå½“ç‚¹å‡»æ–¹å—æ—¶åˆ›å»ºä¸€ä¸ª BlockPos å®ä¾‹ï¼Œå…¶åæ ‡å€¼ä¸ºåç§»å€¼ã€‚ 12345678Callback.addCallback(&quot;ItemUse&quot;, function(coords, item, block, is, player) &#123; let pos = new BlockPos(coords.x, coords.y, coords.z); let injector = new Injector(pos); let offset = injector.getOffset(); alert(offset.getInt(0) + &quot; &quot; + offset.getInt(4) + &quot; &quot; + offset.getInt(8)); pos.free(); injector.free();&#125;); Hook ç¤ºä¾‹ï¼Œæ›´æ”¹ç¡®å®šç™½å¤©çš„é€»è¾‘ï¼Œä½¿æ— è®ºåœ¨ä»€ä¹ˆæ—¶é—´äº¡çµç”Ÿç‰©éƒ½ä¼šç‡ƒçƒ§ 123456789[ &#123; &quot;symbol&quot;: &quot;_ZNK9Dimension5isDayEv&quot;, &quot;callback&quot;: &quot;Dimension.isDay&quot;, &quot;args&quot;: [], &quot;priority&quot;: &quot;pre&quot;, &quot;return&quot;: &quot;bool&quot; &#125;] 1234Callback.addCallback(&quot;Dimension.isDay&quot;, function(controller, self)&#123; controller.replace(); controller.setResult(false);&#125;); ä¸€ä¸ªè®¾ç½®çº¢çŸ³ä¿¡å·å¼ºåº¦çš„ä¾‹å­ï¼Œå½“ä½¿ç”¨æœ¨æ£ç‚¹å‡»æ–¹å—æ—¶ä¼šè®¾ç½®æ­¤å¤„çš„çº¢çŸ³ä¿¡å·å¼ºåº¦ä¸º5ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940function getDimension(region)&#123; let injector = new Injector(region.getPointer()); let dimension = injector.getPointerResult(&quot;_ZN11BlockSource12getDimensionEv&quot;); injector.free(); return dimension;&#125;function getCircuitSystem(region)&#123; let injector = new Injector(getDimension(region)); let system = injector.getPointerResult(&quot;_ZN9Dimension16getCircuitSystemEv&quot;); injector.free(); return system;&#125;let cache = &#123;&#125;;function redstoneUpdate(region, x, y, z, strength)&#123; let system = cache[region.getDimension()]; if(!system)&#123; cache[region.getDimension()] = getCircuitSystem(region); system = cache[region.getDimension()]; &#125; let injector = new Injector(system); let pos = new BlockPos(x, y, z); injector.setArgsType([&quot;ptr&quot;, &quot;int&quot;]).call(&quot;_ZN13CircuitSystem11setStrengthERK8BlockPosi&quot;, [ Parameter.getPointer(pos), Parameter.getInt(strength||10) ]); injector.free(); pos.free();&#125;Callback.addCallback(&quot;ItemUse&quot;, function(pos, item, block, is, player)&#123; if(item.id == 280) Updatable.addUpdatable(&#123; tick: 0, update()&#123; if(this.tick &gt;= 20) this.remove = true; redstoneUpdate(BlockSource.getDefaultForActor(player), pos.x, pos.y, pos.z, 5); &#125; &#125;)&#125;); åŸç”Ÿç±»ä¸ºäº†ä½¿ç”¨æ–¹ä¾¿ï¼ŒåŸç”Ÿç±»éƒ½ç»§æ‰¿è‡ª PointerClassã€‚ è¿”å›ç±»çš„å®ä¾‹å¯¹è±¡çš„æŒ‡é’ˆ 1&lt;pointerClass&gt;.getPointer(); ItemsUtilè·å–ç‰¹å®šIDç‰©å“çš„ PointerClass å®ä¾‹å¯¹è±¡ 1ItemsUtil.getItemById(id); ä¿®æ”¹ç‰©å“åç§° 1ItemsUtil.overrideName(id, data, name); ä¿®æ”¹ç›”ç”²çš„æŠ¤ç”²å€¼ 1ItemsUtil.overrideArmorValue(id, value); EntityRegisteré€šè¿‡å­—ç¬¦ä¸²ç±»å‹çš„æ ‡è¯†ç¬¦å‘å®ä½“æ·»åŠ  tick å›è°ƒï¼ˆä¾‹å¦‚ minecraft:zombie&lt;&gt;ï¼Œå…¶ä¸­&lt;&gt;ä¸ºå¹´é¾„ï¼ŒçŠ¶æ€ç­‰é™„åŠ æ•°æ®ï¼‰ã€‚ 1234EntityRegister.setHandlerTick(name, function(ent) &#123; // ä½¿ç¬¦åˆæ¡ä»¶çš„ç”Ÿç‰©å‡å¤© Entity.setVelocity(ent, 0, 0.0005, 0);&#125;); BlockPos ç»§æ‰¿è‡ª PointerClass 12new BlockPos(pointer);new BlockPos(x, y, z); 123&lt;blockPos&gt;.getX();&lt;blockPos&gt;.getY();&lt;blockPos&gt;.getZ(); 123&lt;blockPos&gt;.setX(x);&lt;blockPos&gt;.setY(y);&lt;blockPos&gt;.setZ(z); 1&lt;blockPos&gt;.free(); Vec3 ç»§æ‰¿è‡ª PointerClass 12new Vec3(pointer);new Vec3(x, y, z); 123&lt;vec3&gt;.getX();&lt;vec3&gt;.getY();&lt;vec3&gt;.getZ(); 123&lt;vec3&gt;.setX(x);&lt;vec3&gt;.setY(y);&lt;vec3&gt;.setZ(z); 1&lt;vec3&gt;.free(); Vec2 ç»§æ‰¿è‡ª PointerClass 12new Vec2(pointer);new Vec2(x, y); 12&lt;vec2&gt;.getX();&lt;vec2&gt;.getY(); 12&lt;vec2&gt;.setX(x);&lt;vec2&gt;.setY(y); 1&lt;vec2&gt;.free(); ChunkPos ç»§æ‰¿è‡ª PointerClass 12new ChunkPos(pointer);new ChunkPos(x, z); 12&lt;ChunkPos&gt;.getX();&lt;ChunkPos&gt;.getZ(); 12&lt;ChunkPos&gt;.setX(x);&lt;ChunkPos&gt;.setZ(z); 1&lt;ChunkPos&gt;.free(); Guiåœ¨ç‰¹å®šåæ ‡æ’­æ”¾æ–¹å—ç ´ååŠ¨ç”» 1Gui.animationDestroy(x, y, z); åœ¨å£°æ˜æ–‡ä»¶core-utility.d.tsä¸­æä¾›äº†ä¸€äº›æ–¹æ³•æ–‡æ¡£","categories":[],"tags":[]},{"title":"åœ¨Horizonä½¿ç”¨ZeroTierè¿›è¡Œå¤šäººæ¸¸æˆ","slug":"mutiplayer-in-horizon","date":"2022-07-20T17:46:48.363Z","updated":"2022-07-20T17:49:52.273Z","comments":true,"path":"2022/07/21/mutiplayer-in-horizon/","link":"","permalink":"https://weifeng233.github.io/2022/07/21/mutiplayer-in-horizon/","excerpt":"","text":"é¦–å…ˆä¸‹è½½ZeroTierï¼Œå¦‚æœæ‰“ä¸å¼€å¯ä»¥ç”¨é•œåƒã€‚ ç„¶ååˆ°ZeroTierå®˜ç½‘æ³¨å†Œè´¦å·ï¼Œæ¥ç€å»åˆ›å»ºä¸€ä¸ªç½‘ç»œï¼Œç‚¹å‡»Create A NetworkæŒ‰é’®ç„¶åå¤åˆ¶NETWORK IDå³å¯ ä¹‹åè¿›å…¥ç½‘ç»œè®¾ç½®å°†è®¿é—®æ§åˆ¶æ›´æ”¹ä¸ºå…¬å…±ï¼ˆä½ ä¹Ÿå¯ä»¥é€‰æ‹©ç§äººï¼Œä½†é‚£æ ·æ¯æœ‰æ–°äººåŠ å…¥æ—¶å°±éœ€è¦æ‰‹åŠ¨åœ¨è¯¥é¡µé¢åŒæ„ï¼‰ï¼Œä½ ä¹Ÿå¯ä»¥é¡ºä¾¿æ”¹ä¸ªåå­— ç„¶ååœ¨æ‰‹æœºä¸Šæ‰“å¼€ZeroTier Fixï¼Œè¿›è¡Œæå…¶ç®€å•çš„æ“ä½œï¼š ç„¶åè¿›å…¥æ¸¸æˆå³å¯ä¸æ™®é€šçš„å±€åŸŸç½‘è”æœºä¸€æ ·äº†","categories":[],"tags":[]},{"title":"å†…æ ¸è¯¾ç¨‹ - 0ï¼šæ¨¡ç»„ç»“æ„ã€ç¼–ç¨‹è¯­è¨€å’Œåº“","slug":"0","date":"2022-07-17T11:00:33.475Z","updated":"2022-07-17T13:19:56.560Z","comments":true,"path":"2022/07/17/0/","link":"","permalink":"https://weifeng233.github.io/2022/07/17/0/","excerpt":"","text":"æœ¬æ–‡æ˜¯ICModå¼€å‘æ•™ç¨‹çš„ç¬¬0ç« ï¼Œä¸»è¦å†…å®¹ä¸ºæ¨¡ç»„ç»“æ„ï¼Œç¼–ç¨‹è¯­è¨€å’Œåº“ï¼Œé€‚ç”¨ç‰ˆæœ¬ä¸ºInnerCore 2.xï¼ˆåœ¨ç©å®¶ç¤¾åŒºä¸­é€šå¸¸ä»¥HorizonæŒ‡ä»£ï¼‰ï¼Œæ³¨æ„å‘å¸ƒæ—¶é—´ã€‚ æ¨¡ç»„ç»“æ„ICModæ˜¯ä»¥æ–‡ä»¶å¤¹çš„å½¢å¼æ”¾åœ¨å¯¹åº”InnerCoreåŒ…ä¸‹çš„innercore/modsæ–‡ä»¶å¤¹ï¼Œåœ¨å‘å¸ƒæ—¶ä»¥ZIPæ ¼å¼çš„å‹ç¼©åŒ…å¹¶é€šå¸¸ä½¿ç”¨.icmodä½œä¸ºæ–‡ä»¶åç¼€ã€‚ åœ¨ICModä¸­ï¼Œè®¸å¤šæ–‡ä»¶çš„ç›¸å¯¹ä½ç½®å’Œåç§°éƒ½å¯ä»¥åœ¨build.configä¸­æŒ‡å®šï¼Œé™¤äº†ä»¥ä¸‹æ–‡ä»¶ï¼š æ¨¡ç»„æ–‡ä»¶å¤¹ â”‚ build.config - æ¨¡ç»„çš„ç»“æ„ä¿¡æ¯å’Œç¼–è¯‘ä¿¡æ¯ â”‚ config.json - æ¨¡ç»„çš„é…ç½®æ–‡ä»¶ â”‚ config.info.json - æ¨¡ç»„é…ç½®æ–‡ä»¶çš„æè¿°æ–‡ä»¶ï¼ŒåŒ…æ‹¬æœ¬åœ°åŒ–(ç¿»è¯‘)å’Œé…ç½®å±æ€§ â”‚ mod.info - æ¨¡ç»„ä¿¡æ¯ â”‚ mod_icon.png - æ¨¡ç»„å›¾æ ‡ | â””â”€.dex - å·²ç¼–è¯‘çš„æ¨¡ç»„æºç  å…ˆç®€å•è¯´ä¸€ä¸‹mod.infoçš„å†…å®¹ï¼ŒåŒ…å«ä»¥ä¸‹ä¿¡æ¯ï¼š 123456&#123; &quot;name&quot;: &quot;æ¨¡ç»„åç§°&quot;, &quot;author&quot;: &quot;æ¨¡ç»„ä½œè€…&quot;, &quot;version&quot;: &quot;æ¨¡ç»„ç‰ˆæœ¬&quot;, &quot;description&quot;: &quot;æ¨¡ç»„ç®€ä»‹&quot;&#125; è‡³äºé…ç½®æ–‡ä»¶ä»¥åä¼šå•ç‹¬è®²è§£ï¼Œè¿™é‡Œå…ˆæŒ‰ä¸‹ä¸è¡¨ã€‚ build.configä¸­çš„å†…å®¹å¯ç”±æ¨¡ç»„ä½œè€…è‡ªè¡Œä¿®æ”¹ï¼Œè¿™é‡Œä¸¾ä¸ªä¾‹å­ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344//EnergyTech(èƒ½æºç§‘æŠ€) - V4.0.2//è¯¥build.configç”±å®˜æ–¹çš„toolchainè‡ªåŠ¨ç”Ÿæˆï¼Œåœ¨è¾ƒæ–°çš„æ¨¡ç»„ä¸­æ˜¯ç›¸å½“å…¸å‹çš„ä¾‹å­&#123; &quot;defaultConfig&quot;:&#123; //ä¸»è¦å‚æ•° &quot;readme&quot;:&quot;this build config is generated automatically by mod development toolchain&quot;, &quot;api&quot;:&quot;CoreEngine&quot;, //æŒ‡å®šAPIï¼Œè¿˜å¯ä»¥é€‰æ‹© AdaptedScript ä½†ç¼ºå°‘äº†å¾ˆå¤šæ‹“å±•åŠŸèƒ½ï¼Œæ›´è´´è¿‘åº•å±‚(Javaå±‚) &quot;buildType&quot;:&quot;develop&quot; //ç¼–è¯‘ç±»å‹ï¼Œé€šå¸¸å»ºè®®åœ¨å‘å¸ƒæ—¶æ›´æ”¹ä¸º release &#125;, &quot;compile&quot;:[ //å¯æ‰§è¡Œæ–‡ä»¶ï¼Œåº” launcher å’Œ mod æºç ç±»å‹å„è‡³å°‘æœ‰ä¸€ä¸ª &#123; &quot;path&quot;:&quot;source/main.js&quot;, &quot;sourceType&quot;:&quot;mod&quot; &#125;, &#123; &quot;path&quot;:&quot;source/launcher.js&quot;, &quot;sourceType&quot;:&quot;launcher&quot; &#125;, &#123; &quot;path&quot;:&quot;library/BlockEngine.js&quot;, &quot;sourceType&quot;:&quot;library&quot; &#125;, &#123; &quot;path&quot;:&quot;library/ChargeItem.js&quot;, &quot;sourceType&quot;:&quot;library&quot; &#125;, &#123; &quot;path&quot;:&quot;library/SoundLib.js&quot;, &quot;sourceType&quot;:&quot;library&quot; &#125; ], &quot;resources&quot;:[ //èµ„æºæ–‡ä»¶ï¼Œå¦‚æ¨¡ç»„è´´å›¾å’ŒGUIè´´å›¾ &#123; &quot;path&quot;:&quot;resources/res&quot;, &quot;resourceType&quot;:&quot;resource&quot; &#125;, &#123; &quot;path&quot;:&quot;gui/gui&quot;, &quot;resourceType&quot;:&quot;gui&quot; &#125; ], &quot;nativeDirs&quot;:[], //åŸç”Ÿæ¨¡ç»„æ¨¡å—æ–‡ä»¶å¤¹ &quot;javaDirs&quot;:[], //Javaæ¨¡å—æ–‡ä»¶å¤¹ &quot;buildDirs&quot;:[] //å¯è¡Œæ€§æ„å»ºæ–‡ä»¶å¤¹&#125; å¯ä»¥çœ‹åˆ°åœ¨compileä¸­æŒ‡å®šäº†å¾ˆå¤šjsæ–‡ä»¶ï¼Œå…¶ä¸­modç±»å‹å³ä¸ºæ¨¡ç»„çš„ä¸»è¦ä»£ç ï¼›launcherç±»å‹çš„æ–‡ä»¶åªèƒ½æœ‰ä¸€ä¸ªï¼Œç”¨äºå†³å®šæ¨¡ç»„æ˜¯å¦å¯åŠ¨ï¼›libraryç±»å‹ä¸ºåº“ï¼Œé™¤äº†åƒè¿™æ ·ä¸€ä¸ªä¸€ä¸ªæ·»åŠ ä¹‹å¤–è¿˜å¯ä»¥åœ¨defaultConfigä¸­æŒ‡å®šlibraryDirï¼Œè¿™æ ·å°†ä¼šå°†è¯¥ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶å½“ä½œåº“å¹¶å°è¯•æ‰§è¡Œï¼›é™¤äº†ä»¥ä¸Šä¸‰ç§ä¹‹å¤–è¿˜æœ‰å¦å¤–ä¸¤ç§ç±»å‹ï¼Œåˆ†åˆ«æ˜¯åœ¨æ¨¡ç»„åŠ è½½ä¹‹å‰æ‰§è¡Œçš„preloaderå’Œä»…èƒ½åœ¨å…¶ä»–ç±»å‹ä¸­ä½¿ç”¨runCustomSourceæ–¹æ³•è°ƒç”¨çš„customç±»å‹ï¼Œå€¼å¾—æ³¨æ„çš„æ˜¯è¿™ä¸¤ç§ç±»å‹é™¤äº†éƒ¨åˆ†å¸¸é‡ä¹‹å¤–æ— æ³•ä½¿ç”¨ICæä¾›çš„APIï¼ˆè™½ç„¶å¯ä»¥é€šè¿‡rhinoè°ƒç”¨ï¼Œä½†ä¸å»ºè®®ä¹Ÿæ²¡å¿…è¦ï¼‰ã€‚ resourcesç”¨äºæŒ‡å®šèµ„æºæ–‡ä»¶ï¼Œæ²¡ä»€ä¹ˆå¥½è¯´çš„ï¼Œåªéœ€è¦æ³¨æ„GUIçº¹ç†èµ„æºéœ€è¦å•ç‹¬æŒ‡å®šã€‚ nativeDirså’ŒjavaDirsçš„ç”¨æ³•è§ä¸‹æ–‡ï¼Œæ­¤å¤„å•è®²buildDirsã€‚buildDirså…è®¸å¼€å‘è€…å°†å¯æ‰§è¡Œæ–‡ä»¶åˆ†æ•£æˆå¤šä¸ªæ–‡ä»¶ä»¥æ–¹ä¾¿å¼€å‘ï¼Œä¸¾ä¸ªç®€å•çš„ä¾‹å­ï¼š 123456&quot;buildDirs&quot;:[ &#123; &quot;dir&quot;:&quot;source/dev/&quot;, &quot;targetSource&quot;:&quot;source/main.js&quot; &#125; ] diræŒ‡å®šäº†å¯æ‰§è¡Œæ–‡ä»¶å­˜æ”¾çš„æ–‡ä»¶å¤¹ï¼Œæ­¤æ–‡ä»¶å¤¹å†…å¿…é¡»æœ‰ä¸€ä¸ªincludesæ–‡ä»¶é€è¡Œè®°å½•äº†å„ä¸ªæ–‡ä»¶çš„ç›¸å¯¹ä½ç½®ï¼ŒInnerCoreå°†ä¼šæŒ‰é¡ºåºåˆå¹¶ä¸ºä¸€ä¸ªæ–‡ä»¶å¹¶è¦†å†™åˆ°targetSourceæŒ‡å®šçš„æ–‡ä»¶ä¸­ã€‚æ­¤è¿‡ç¨‹å¹¶éç®€å•çš„æ–‡æœ¬æ‹¼æ¥ï¼Œä¸å¯å°†å®Œæ•´çš„ä»£ç æ–‡ä»¶éšæ„æ‹†åˆ†ä¸ºä¸¤ä¸ªæ–‡ä»¶ï¼Œå¦åˆ™å¯èƒ½ä¼šå¯¼è‡´é”™è¯¯ã€‚ ç¼–ç¨‹è¯­è¨€ICModä¸»è¦ä½¿ç”¨çš„ç¼–ç¨‹è¯­è¨€æ˜¯JavaScriptï¼Œä½¿ç”¨Rhinoä½œä¸ºå¼•æ“ï¼Œæ”¯æŒES5å’Œæå°‘ä¸€éƒ¨åˆ†ES6ç‰¹æ€§å’Œè°ƒç”¨Javaï¼Œä¸»è¦åŠ£åŠ¿ä¸ºè¿è¡Œé€Ÿåº¦ç›¸å½“æ…¢ï¼Œä¸ä¸»æµJSå¼•æ“ç›¸å·®ç™¾å€ï¼Œä½†å¯¹äºå¤§å¤šæ•°æƒ…å†µéƒ½æ˜¯å¤Ÿç”¨çš„ã€‚è¿™é‡Œæ¨èå‡ ä¸ªJSå­¦ä¹ èµ„æºï¼š JavaScriptç¼–ç¨‹ç²¾è§£ï¼Œç›¸å½“ä¸é”™çš„å…¥é—¨ä¹¦ç±ã€‚ JavaScript | MDNï¼Œæƒå¨ä¸”å…¨é¢ï¼Œé¡µé¢å†…è¿˜é™„æœ‰å…¶ä»–èµ„æºé“¾æ¥ã€‚ Rhino ES2015 Supportï¼Œå…³äºRhinoå¼•æ“å¯¹äºES6ç‰¹æ€§çš„å®é™…æ”¯æŒæƒ…å†µã€‚ ä½†JSæœ‰ä¸€ä¸ªç‰¹ç‚¹ï¼Œå°±æ˜¯å®ƒæ˜¯å¼±ç±»å‹è¯­è¨€ï¼Œå¯¹äºä¸€äº›æ›´ä¹ æƒ¯å¼ºç±»å‹è¯­è¨€çš„å¼€å‘è€…å¯ä»¥é€‰æ‹©TypeScriptï¼Œåœ¨å®˜æ–¹çš„toolchainä¸­å°±æ”¯æŒä½¿ç”¨TSç¼–å†™æ¨¡ç»„å¹¶åœ¨ä¹‹åè½¬è¯‘ä¸ºJSä¾›InnerCoreä½¿ç”¨ã€‚åŒæ ·çš„ï¼Œæ¨èä¸€äº›æ•™ç¨‹ï¼š å®˜æ–¹æ–‡æ¡£ï¼Œæƒå¨ï¼Œæœ€æ–°ã€‚ TypeScriptå…¥é—¨æ•™ç¨‹ï¼Œèœé¸Ÿæ•™ç¨‹ï¼Œä¸­æ–‡ï¼Œæ–¹ä¾¿é˜…è¯»ä½†ä¸æ˜¯æœ€æ–°ç‰ˆæœ¬ã€‚ é™¤äº†ä½¿ç”¨JS/TSï¼ŒICModè¿˜å…è®¸ä½¿ç”¨Javaæˆ–è€…Nativeæ¨¡å—æ¥æ‹“å±•APIï¼Œéœ€è¦æœ‰Javaå’ŒC/C++çŸ¥è¯†å¹¶äº†è§£ä¸€äº›Android SDK/NDKå¼€å‘ï¼Œæ­¤å¤„ä¸å†æä¾›ç›¸å…³èµ„æºé“¾æ¥ï¼Œä½†åº”æ³¨æ„å§‹ç»ˆä»¥å¯¹åº”ç‰ˆæœ¬çš„å®˜æ–¹æ–‡æ¡£ä¸ºå‡†ï¼Œå–„ç”¨æœç´¢å¼•æ“æŸ¥æ‰¾é—®é¢˜ä»¥åŠåœ¨æé—®å‰æ˜ç¡®é—®é¢˜ã€‚ åº“åº“ç”¨äºæ‹“å±•APIï¼Œå¯ä»¥æ˜¯å•ä¸ªçš„JSæ–‡ä»¶ä¹Ÿå¯ä»¥æ˜¯ä»¥æ¨¡å—å½¢å¼çš„DEXæ–‡ä»¶æˆ–è€…SOæ–‡ä»¶åˆæˆ–è€…æ˜¯å•ç‹¬çš„æ¨¡ç»„ï¼Œå…³äºJSæ ¼å¼çš„åº“åœ¨æ¨¡ç»„ä¸­çš„å­˜æ”¾ä½ç½®å·²åœ¨å‰æ–‡å™è¿°ï¼Œè¿™é‡Œä»…å°†å¦‚ä½•ç¼–å†™å†…å®¹å’Œä½¿ç”¨ã€‚ JSåº“åœ¨åº“çš„å¼€å¤´ï¼Œéœ€è¦ä½¿ç”¨LIBRARYæ–¹æ³•æ¥æè¿°åº“çš„åŸºæœ¬ä¿¡æ¯ï¼š 123456789LIBRARY(&#123; name: &quot;åç§°&quot;, // åº“çš„å”¯ä¸€è¯†åˆ«åç§°ï¼Œä¸åº”å†ä¿®æ”¹ version: ç‰ˆæœ¬, // åº“çš„ç‰ˆæœ¬ï¼Œå¿…é¡»ä¸ºå¤§äº0çš„æ•´æ•°ï¼Œæ›´é«˜ç‰ˆæœ¬çš„åº“ä¼šè¦†ç›–æ›´ä½ç‰ˆæœ¬çš„ shared: false, // å¦‚æœä¸º true åˆ™åº“å°†ä½œä¸ºå…¨å±€APIï¼Œå³æ‰€æœ‰ä½¿ç”¨è¯¥åº“çš„æ¨¡ç»„å…±ç”¨ç›¸åŒçš„APIå¯¹è±¡ï¼Œå¦åˆ™ä»…ä½œç”¨äºå•ä¸ªæ¨¡ç»„ api: &quot;CoreEngine&quot;, // åº“ä½¿ç”¨çš„API dependencies: [&quot;name1:version1&quot;, //... ] //åœ¨åº“ä¸­å¯¼å…¥çš„ä¾èµ–åº“åˆ—è¡¨&#125;); è¦å¯¼å‡ºåº“ä¸­çš„APIï¼Œä½¿ç”¨EXPORTæ–¹æ³•ï¼š 12345678910111213141516EXPORT(&quot;APIå¯¹è±¡åç§°&quot;, APIå¯¹è±¡);//EXPORTè¿˜æ”¯æŒæŒ‡å®šå¯¼å‡ºAPIå¯¹è±¡çš„æœ€ä½åº“ç‰ˆæœ¬//å¦‚åŠ å…¥åœ¨ä¸€ä¸ªåº“ä¸­å­˜åœ¨ä»¥ä¸‹ä¸‰æ¡EXPORTEXPORT(&quot;print&quot;, function () &#123; alert(&quot;new version print&quot;); &#125;);EXPORT(&quot;print:3&quot;, function () &#123; alert(&quot;older print&quot;); &#125;);EXPORT(&quot;print:1&quot;, function () &#123; alert(&quot;first version print&quot;); &#125;);//ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œé»˜è®¤ä½¿ç”¨ç¬¬ä¸€ä¸ªprintæ–¹æ³•//ä½†å½“ä½¿ç”¨è€…æŒ‡å®šçš„åº“ç‰ˆæœ¬ï¼1ä¸”â‰¤3æ—¶ï¼Œå°†ä½¿ç”¨ç¬¬äºŒä¸ªprintæ–¹æ³•//è‹¥æŒ‡å®šçš„åº“ç‰ˆæœ¬ä¸º1ï¼Œåˆ™ä½¿ç”¨ç¬¬ä¸‰ä¸ªprintæ–¹æ³• åœ¨æ¨¡ç»„ä¸­å¯¼å…¥åº“æ—¶ï¼Œä½¿ç”¨IMPORTæ–¹æ³•ï¼š 123IMPORT(&quot;åº“åç§°&quot;); //å¯¼å…¥æ•´ä¸ªåº“IMPORT(&quot;åº“åç§°&quot;, &quot;APIå¯¹è±¡åç§°&quot;); //å¯¼å…¥ç‰¹å®šçš„APIIMPORT(&quot;åº“åç§°:åº“ç‰ˆæœ¬&quot;); //æŒ‡å®šåº“ç‰ˆæœ¬ åŸç”Ÿæ¨¡å—å’ŒJavaæ¨¡å—åœ¨nativeDirså’ŒjavaDirsä¸­ä¸buildDirsç›¸ä¼¼ï¼Œåªéœ€è¦æŒ‡å®špathå³å¯ï¼Œå¦‚ä¸‹ï¼š 12345&quot;nativeDirs&quot;: [ &#123; &quot;path&quot;: &quot;source/native/&quot; &#125;] åœ¨æŒ‡å®šçš„ç›®å½•ä¸‹å¿…é¡»æœ‰ä¸€ä¸ªmanifestæ–‡ä»¶æ¥æŒ‡å®šç›¸å…³ä¿¡æ¯ï¼Œå¯¹äºåŸç”Ÿæ¨¡å—ï¼Œæ ¼å¼æ˜¯è¿™æ ·çš„ï¼š 123456789101112&#123; &quot;shared&quot;: &#123; &quot;name&quot;: &quot;name&quot;, //æ­¤åç§°ä¸ºç¼–è¯‘åç”Ÿæˆçš„soæ–‡ä»¶åç§°ï¼Œå¦‚ libname.so &quot;include&quot;: [ //ç¼–è¯‘æ—¶åŒ…å«çš„æºç æ–‡ä»¶å¤¹ï¼Œå¯é€‰ &quot;shared_headers&quot; ] &#125;, &quot;depends&quot;: [ //åœ¨ç¼–è¯‘çš„æ—¶å€™ä¾èµ–çš„å†…ç½®åº“ï¼Œå¯é€‰ &quot;innercore&quot;, &quot;nativejs&quot; ]&#125; åŒæ—¶éœ€è¦ä¸€ä¸ªmain.cppæ–‡ä»¶åŒ…å«åŸºæœ¬çš„ä»£ç ï¼Œä½ å¯ä»¥åœ¨å®˜æ–¹çš„toolchainä¸­ä½¿ç”¨NDKå¯¹å…¶è¿›è¡Œç¼–è¯‘ï¼Œä¹Ÿå¯ä»¥åœ¨Horzionä¸­ä½¿ç”¨gccç¼–è¯‘ã€‚ å¯¹äºJavaæ¨¡å—ï¼Œmanifestæ–‡ä»¶çš„æ ¼å¼æ˜¯è¿™æ ·çš„ï¼š 12345678//Toolchainç¤ºä¾‹æ¨¡ç»„&#123; &quot;source-dirs&quot;: [&quot;src&quot;], //æºç æ–‡ä»¶å¤¹ &quot;library-dirs&quot;: [&quot;lib&quot;], //JARåº“æ–‡ä»¶å¤¹ &quot;verbose&quot;: true, //æ˜¯å¦å¼€å¯verboseè¾“å‡º &quot;options&quot;: [], //verboseé€‰é¡¹ &quot;boot-classes&quot;: [&quot;com.sample_mod.sample_package.Boot&quot;] //è¦æ‰§è¡Œçš„ç±»&#125; Javaç¼–è¯‘å¯ä»¥åœ¨Toolchainä¸­ä½¿ç”¨JDKå®Œæˆï¼Œä¹Ÿå¯ä»¥åœ¨Horizonä¸­å®Œæˆã€‚ è¦ä½¿ç”¨åŸç”Ÿæ¨¡å—å’ŒJavaæ¨¡å—ï¼ŒInnerCoreæä¾›äº†ä»¥ä¸‹æ–¹æ³•ï¼š 123IMPORT_NATIVE(name, target); //è·å–åŸç”Ÿæ¨¡å—æ–¹æ³•å¹¶æ³¨å…¥åˆ°æŒ‡å®šå¯¹è±¡ä¸­WRAP_JAVA(name); //è·å–Javaå¯¹è±¡å¹¶è¿”å›WRAP_NATIVE(name); //è·å–åŸç”Ÿæ¨¡å—å¹¶è¿”å› åœ¨Javaæ¨¡å—ä¸­ï¼Œå¾—ç›ŠäºRhinoï¼Œæ‰€å®šä¹‰çš„Javaç±»éƒ½å¯ç›´æ¥ä½¿ç”¨ï¼Œè€Œåœ¨åŸç”Ÿæ¨¡å—ä¸­ï¼Œéœ€è¦nativejs.hå¤´æ–‡ä»¶æä¾›çš„æ–¹æ³•æ‰èƒ½åˆ›å»ºå¯ä¾›JSä½¿ç”¨çš„JSæ¨¡å—ï¼š 12345JS_MODULE_VERSION(æ¨¡å—åç§°, 1); //æŒ‡å®šæ¨¡å—åç§°å’Œç‰ˆæœ¬JS_EXPORT(æ¨¡å—åç§°, æ–¹æ³•åç§°, &quot;I()&quot;, (JNIEnv* env) &#123; //å¯¼å‡ºä¸€ä¸ªè¿”å›å€¼ä¸ºæ•´å‹æ— å‚æ•°çš„æ–¹æ³• //... NativeJS::wrapIntegerResult(0); //è¿”å› 0&#125;); éå¸¸æ„Ÿè°¢æ‚¨èƒ½è¯»å®Œæœ¬ç¯‡æ•™ç¨‹ï¼Œå› æœ¬äººèƒ½åŠ›ä¸è¶³ï¼Œå¯¹äºæ•™ç¨‹ä¸­çš„ç–æ¼ä¸é”™è¯¯æœ›å„ä½æŒ‡å‡ºæ–§æ­£ã€‚ æœ¬ç³»åˆ—æ•™ç¨‹å°†æŒ‰ç…§ä¿„å›½ç¤¾åŒºå…ˆå‰ç¼–å†™çš„ä¸€ä»½è¯¾ç¨‹è¡¨æ ¼(è°·æ­Œæ–‡æ¡£)è¿›è¡Œï¼Œä¸‹ä¸€ç¯‡å°†ä¼šç®€è¦è®²è§£ç‰©å“ã€‚","categories":[],"tags":[]},{"title":"å…³äºInnerCoreåŒ…","slug":"å…³äºInnerCoreåŒ…","date":"2022-04-07T12:42:10.438Z","updated":"2022-04-07T16:45:12.887Z","comments":true,"path":"2022/04/07/å…³äºInnerCoreåŒ…/","link":"","permalink":"https://weifeng233.github.io/2022/04/07/%E5%85%B3%E4%BA%8EInnerCore%E5%8C%85/","excerpt":"","text":"æ³¨ï¼šæœ¬æ–‡ç¿»è¯‘è‡ªå®˜æ–¹æ–‡æ¡£ï¼ŒUIæ–‡æœ¬ä¸InnerCore b113ä¸€è‡´ è¿™ä¸ªåŒ…æœ‰ä»€ä¹ˆï¼Ÿåœ¨InnerCoreåŒ…çš„ä¸»èœå•ä¸­æœ‰ä»¥ä¸‹äº”ä¸ªæŒ‰é’®ï¼š æ¸¸ç© - ç”¨äºå¼€å§‹æ¸¸æˆçš„æŒ‰é’® åŸç”Ÿæ¨¡ç»„ - ä½äºå±å¹•å³ä¾§ç”¨äºæ‰“å¼€åŸç”Ÿæ¨¡ç»„èœå•çš„æŒ‰é’® æ¨¡ç»„ç®¡ç†å™¨ - æ­¤æ¸¸æˆçš„æ¨¡ç»„ç®¡ç†å™¨ ä¸‹è½½æ¨¡ç»„ - å…è®¸ä½ ä»»æ„ä¸‹è½½æ¨¡ç»„ æˆ‘çš„æ¨¡ç»„ - ç”¨äºç®¡ç†ä½ å·²å®‰è£…çš„æ¨¡ç»„ æˆ‘çš„æ¨¡ç»„é›† - ç®¡ç†å·²å®‰è£…çš„ç”±å¼€å‘è€…åˆ›ä½œçš„ç°æˆæ•´åˆåŒ… æ¨¡ç»„æ›´æ–° - å¯æ›´æ–°çš„æ¨¡ç»„åˆ—è¡¨ è®¿é—®ç½‘ç«™ - æ‰“å¼€æ­¤æ¸¸æˆçš„ä¸€ä¸ªæˆç†Ÿçš„æ¨¡ç»„ç½‘ç«™ é¦–é€‰é¡¹å’Œé“¾æ¥ é¦–é€‰é¡¹ ç¦ç”¨åŠ è½½å±å¹• - æ˜¾ç¤ºæ­£åœ¨åŠ è½½æ¨¡ç»„çš„é¡µé¢ï¼Œåœ¨æŸäº›è®¾å¤‡ä¸Šç¦ç”¨åå¯èƒ½ä¼šæå‡åŠ è½½é€Ÿåº¦ å¼€å‘äººå‘˜æ¨¡å¼ - å¯¹æ¨¡ç»„å¼€å‘è€…ç›¸å½“å®ç”¨ï¼ŒåŒ…æ‹¬åœ¨æ”¯æŒçš„æ¨¡ç»„ä¸­å¯ç”¨è°ƒè¯•æ¨¡å¼ ä½¿ç”¨æ—§ç‰ˆå·¥ä½œå° UI - å¦‚æœåŸç‰ˆå·¥ä½œå°å¯¹äºä¸€äº›é…æ–¹æ— æ•ˆï¼Œåˆ™å¯ä»¥æ¢å¤è‡³ä¹‹å‰çš„å·¥ä½œå°UI åŸºäºæ—¶é—´é™åˆ¶æ›´æ–° - å¼€å¯åï¼Œæ¨¡ç»„åœ¨ä¸€æ¸¸æˆåˆ»ä¸­äº§ç”Ÿçš„æœ€å¤§æ›´æ–°æ•°é‡å°†è¢«é™åˆ¶ï¼Œå¦åˆ™å°†æ— é™åˆ¶ï¼Œç®€å•è¯´å°±æ˜¯æ¨¡ç»„æ¯åˆ»æœ€å¤šèƒ½è°ƒç”¨çš„æ¬¡æ•° æ¯åˆ»æœ€å¤§çš„æ›´æ–°æ¬¡æ•° - è°ƒæ•´_æ›´æ–°æ¬¡æ•°é™åˆ¶_ å»ºç«‹é«˜çº§çº¿ç¨‹ä¼˜å…ˆçº§ - æ›´é«˜çš„ä¼˜å…ˆçº§å¯ä½¿TPSæ›´ç¨³å®šï¼ˆè¿™æ„å‘³ç€æ›´ç¨³å®šçš„æ“ä½œå’Œå“åº”æ—¶é—´ï¼‰ï¼Œä½†å¯èƒ½ä¼šå†»ç»“çº¿ç¨‹å’Œé™ä½å¸§ç‡ æœåŠ¡ç«¯çº¿ç¨‹ä¼˜å…ˆçº§ - è°ƒæ•´_çº¿ç¨‹ä¼˜å…ˆçº§_ FPSé˜ˆå€¼ - å½“FPSä½äºè¯¥é˜ˆå€¼æ—¶ï¼Œå°†ä¼šé™ä½æœåŠ¡ç«¯çº¿ç¨‹ä¼˜å…ˆçº§ æ›´å¤šçš„çº¿ç¨‹æ•° - é¢å¤–çš„æ›´æ–°çº¿ç¨‹ï¼Œå¯¹äºæ€§èƒ½è¾ƒå¼ºçš„è®¾å¤‡ä¸Šå¯ä»¥æå‡è´Ÿè½½æ€§èƒ½ï¼Œæ³¨æ„ï¼Œè¯¥åŠŸèƒ½ä»å¤„äºå®éªŒæ€§é˜¶æ®µï¼Œå¯èƒ½ä¼šä¸ç¨³å®š æ›´å¤šçš„çº¿ç¨‹ä¼˜å…ˆçº§ - è°ƒæ•´_é¢å¤–çº¿ç¨‹çš„ä¼˜å…ˆçº§_ è‡ªåŠ¨ä¿å­˜ - å…è®¸ä½ åœ¨æ¸¸æˆæ„å¤–åœæ­¢è¿è¡Œæ—¶ä¿å­˜å­˜æ¡£å’Œæ¨¡ç»„æ•°æ® è‡ªåŠ¨ä¿å­˜ä¼˜å…ˆçº§ - ä¸¤æ¬¡ä¿å­˜ä¹‹é—´é—´éš”çš„ç§’æ•° å¯ç”¨å¥—æ¥å­—æœåŠ¡å™¨ - å…è®¸å±€åŸŸç½‘å†…çš„ç©å®¶é€šè¿‡Socketåè®®è¿›å…¥ä½ çš„ä¸–ç•Œ ä¼˜å…ˆåŒ–æœ¬åœ°ç½‘ç»œåè®® - ä½¿ç”¨åŸç”Ÿåè®®ï¼ˆé»˜è®¤æƒ…å†µä¸‹Socketåè®®æœ‰æ›´é«˜çš„ä¼˜å…ˆçº§ï¼‰ ï¼ˆå¼€å‘äººå‘˜ç”¨ï¼‰å¼ºåˆ¶æœ¬åœ°åŒ–æœ¬åœ°åè®® - ä½¿ç”¨åŸç”Ÿåè®®è¿›è¡Œæœ¬åœ°å®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯çš„é€šä¿¡ï¼Œè¯¥é€‰é¡¹ä»…ç”¨äºè°ƒè¯•æ¨¡ç»„ï¼Œåˆ‡å‹¿åœ¨æ­£å¸¸æ¸¸æˆä¸­ä½¿ç”¨ï¼ (For developers)Dump additional information - åœ¨ä¸–ç•ŒåŠ è½½æœŸé—´å¯¼å‡ºä¸å¼€å‘ç›¸å…³çš„ä¿¡æ¯ï¼Œdumpæ–‡ä»¶ä¼šä¸logæ”¾åœ¨ç›¸åŒæ–‡ä»¶å¤¹ æŒ‡å—å’Œé“¾æ¥ - åŒ…å«æŒ‡å—å’Œç¤¾äº¤ç½‘ç»œé“¾æ¥çš„æ ‡ç­¾é¡µ å¼€å‘å°ç»„ - å¼€å‘è€…ï¼Œæµ‹è¯•å‘˜å’Œæ¨¡ç»„å¼€å‘è€…çš„è´¡çŒ®åå• å…³äº","categories":[],"tags":[]},{"title":"CraftTweakerä½¿ç”¨æ•™ç¨‹","slug":"CraftTweaker","date":"2022-01-15T06:40:12.563Z","updated":"2022-01-22T15:50:15.431Z","comments":true,"path":"2022/01/15/CraftTweaker/","link":"","permalink":"https://weifeng233.github.io/2022/01/15/CraftTweaker/","excerpt":"","text":"CraftTweakerï¼ˆä»¥ä¸‹ç®€ç§°CrTï¼‰æ˜¯ç”±éº¦ç©—å¼€å‘ä¸åŒåçš„Javaç‰ˆæ¨¡ç»„æœ‰ç±»ä¼¼åŠŸèƒ½çš„é­”æ”¹ç±»æ¨¡ç»„ã€‚ æœ¬æ–‡å°†ç®€è¦ä»‹ç»å¦‚ä½•ç¼–å†™å’Œä½¿ç”¨CrTè„šæœ¬ã€‚ åŠ è½½è„šæœ¬CrTåœ¨è¿è¡Œæ—¶ä¼šè¯»å–å½“å‰åŠ è½½æ¨¡ç»„é›†å¯¹åº”æ–‡ä»¶å¤¹ä¸‹scriptæ–‡ä»¶å¤¹å†…çš„æ‰€æœ‰åç¼€ä¸ºjsçš„æ–‡ä»¶å¹¶ä¸ºæ¯ä¸€ä¸ªè„šæœ¬åˆ›å»ºç‹¬ç«‹çš„æ²™ç›’ä»¥ç‹¬ç«‹è¿è¡Œã€‚ ä½ å¯ä»¥åœ¨åŒ…å¯¹åº”æ–‡ä»¶å¤¹å†…çš„innercore/preferences.jsonæ–‡ä»¶ä¸­çš„pack_selectedé”®å¯¹åº”çš„å±æ€§å¾—çŸ¥å½“å‰æ‰€åŠ è½½çš„æ¨¡ç»„é›†å¯¹åº”çš„è·¯å¾„ï¼Œæ— è®ºå¦‚ä½•ï¼Œscriptæ–‡ä»¶å¤¹éƒ½åº”ä¸modsæ–‡ä»¶å¤¹åœ¨åŒä¸€çº§æ–‡ä»¶å¤¹å†…ã€‚ 123//å¯èƒ½æ”¾ç½®è„šæœ¬çš„æ–‡ä»¶å¤¹//pack_name/innercore/script///mod_pack_name/script/ ç¼–å†™è„šæœ¬ç¼–ç¨‹è¯­è¨€ä¸ICModä¸€æ ·ï¼ŒCrTè„šæœ¬ä½¿ç”¨Rhinoå¼•æ“è¿è¡Œï¼Œè¯­è¨€ä¸ºJavaScriptï¼Œæ”¯æŒES5ä¸éƒ¨åˆ†ES6ç‰¹æ€§ã€‚ é¢„ç½®å‡½æ•°CrTä¸ºCrTè„šæœ¬æä¾›äº†ä¸¤ä¸ªé¢„ç½®å‡½æ•°ï¼Œåˆ†åˆ«ä¸º$å’Œrequireï¼Œä¸‹æ–‡å°†åˆ†åˆ«ä»‹ç»è¿™ä¸¤ä¸ªå‡½æ•°çš„è¯¦ç»†ç”¨æ³•ï¼š $$ç”¨äºåˆ›å»ºItemStackå¯¹è±¡ï¼Œæ˜¯CrTå’ŒICModé€šç”¨çš„ç‰©å“æ ¼å¼ã€‚ æ ¼å¼ï¼š123456789101112131415161718192021// $ çš„æ ¼å¼å¦‚ä¸‹$(&quot;type:name:data*count&quot;);/* type - IDçš„ç±»å‹ï¼Œåˆ†ä¸ºæ–¹å— - block å’Œ ç‰©å“ - item * name - IDçš„åç§°ï¼Œå¦‚bedrock, stickç­‰ * data - ç‰©å“çš„ç‰¹æ®Šå€¼/æŸåå€¼ï¼ˆå¯é€‰ï¼‰ * count - ç‰©å“çš„æ•°é‡ï¼ˆå¯é€‰ï¼‰ *///ä¸¾ä¾‹ï¼š$(&quot;block:bedrock&quot;); //åŸºå²©$(&quot;block:wool:6*32&quot;); //åŠç»„ç²‰çº¢è‰²ç¾Šæ¯›$(&quot;item:stick*64&quot;); //ä¸€ç»„æœ¨æ£$(&quot;item:diamond_shovel:1560&quot;); //ä¸€æŠŠå¿«è¦åæ‰çš„é’»çŸ³é”¹// ItemStack å¯¹è±¡åŒ…å«çš„å€¼å¦‚ä¸‹&#123; index: string, //ç´¢å¼•ï¼Œå³IDçš„åç§° id: number, //ç‰©å“çš„æ•°å­—ID data: number, //ç‰©å“çš„ç‰¹æ®Šå€¼/æŸåå€¼ count: number, //ç‰©å“çš„æ•°é‡ _condition: function, //åˆæˆæ¡ä»¶ï¼Œç‰©å“åœ¨å·¥ä½œå°ä¸­å‚ä¸åˆæˆæ—¶æ‰§è¡Œï¼Œè¯¦è§ä¸‹æ–‡&#125; ç”¨æ³•ï¼š12345678910111213141516171819202122232425262728293031323334// ItemStack å¯¹è±¡æœ‰ä»¥ä¸‹æ–¹æ³•toItem(); //è¿”å› toItem å¯¹è±¡ï¼Œè¯¦è§ä¸‹æ–‡toBlock(); //è¿”å› toBlock å¯¹è±¡ï¼Œè¯¦è§ä¸‹æ–‡onUse(state); // state - function ç±»å‹ï¼Œä¸ºç‰©å“æ³¨å†Œä½¿ç”¨å›è°ƒï¼ˆç‚¹å‡»æ–¹å—æ—¶è§¦å‘ï¼‰ï¼Œè¿”å›è¯¥ ItemStack è‡ªèº«getMaxStack(); //è¿”å› number ç±»å‹ï¼Œè¯¥ç‰©å“çš„æœ€å¤§å †å æ•°é‡only(state); // state - function ç±»å‹ï¼Œåˆæˆæ¡ä»¶ï¼Œè¯¦è§ä¸‹æ–‡ï¼Œè¿”å›è¯¥ ItemStack è‡ªèº«transformDamage(damage); // damage - number ç±»å‹ï¼Œè®¾ç½®ç‰©å“åœ¨åˆæˆæ—¶å¢åŠ çš„æŸåå€¼ï¼ˆæˆ–æŒ‡æ¶ˆè€—çš„è€ä¹…å€¼ï¼‰ï¼Œä»…è°ƒç”¨è¯¥æ–¹æ³•è€Œä¸ä¼ å…¥å‚æ•°å°†è®¾ç½®ä¸º1ï¼Œè¿”å›è¯¥ ItemStack è‡ªèº«reuse(); //è®¾ç½®è¯¥ç‰©å“åœ¨åˆæˆä¸­ä¸ä¼šæ¶ˆè€—ï¼Œè¿”å›è¯¥ ItemStack è‡ªèº«// toItem å¯¹è±¡æœ‰ä»¥ä¸‹æ–¹æ³•getMaxDamage(); //è¿”å› number ç±»å‹ï¼Œè¯¥ç‰©å“çš„æœ€å¤§ç‰¹æ®Šå€¼/æŸåå€¼isTool(); //è¿”å› boolean ç±»å‹ï¼Œè¯¥ç‰©å“æ˜¯å¦ä¸ºå·¥å…·ï¼ˆåŒ…å«æ­¦å™¨ï¼Œè£…å¤‡ç­‰ï¼‰// toBlock å¯¹è±¡æœ‰ä»¥ä¸‹æ–¹æ³•onPlace(state); // state - function ç±»å‹ï¼Œä¸ºæ–¹å—æ³¨å†Œæ”¾ç½®å›è°ƒï¼Œè¿”å›è¯¥ toBlock è‡ªèº«getTileID(); //è¿”å› number ç±»å‹ï¼Œè¯¥æ–¹å—çš„æ•°å­—IDï¼ˆèŒƒå›´[0, 2048]ï¼‰//å›è°ƒç›¸å…³ç¤ºä¾‹ï¼Œåˆæˆç›¸å…³ç¤ºä¾‹è§ä¸‹æ–‡//æä¸ºç»å…¸çš„é“å‰‘ç‚¹åœ°çˆ†ç‚¸ï¼Œå› ä¸ºåœ¨CrTæ‰€åˆ›å»ºçš„æ²™ç›’ä¸­æ— æ³•ä½¿ç”¨CEAPIï¼Œå› æ­¤ä½¿ç”¨Rhinoæä¾›çš„è°ƒç”¨Javaçš„åŠŸèƒ½ç›´æ¥è°ƒç”¨Javaæ–¹æ³•$(&quot;item:iron_sword&quot;).onUse(function (coords, item, block, isExternal, player) &#123; com.zhekasmirnov.innercore.api.NativeAPI.explode(coords.x, coords.y, coords.z, 10, true);&#125;);//åœ¨åŸºå²©ä¸Šæ”¾ç½®åŸºå²©æ—¶çˆ†ç‚¸$(&quot;block:bedrock&quot;).toBlock().onPlace(function (coords, item, block, player, region) &#123; let pos = coords.relative; if (!region.getBlock(pos.x, pos.y, pos.z).id) &#123; region.setBlock(pos.x, pos.y, pos.z, $(&quot;block:bedrock&quot;).id, 0); if (block.id === $(&quot;block:bedrock&quot;).id) &#123; region.explode(pos.x, pos.y + 1, pos.z, 100, false); &#125; &#125;&#125;); requirerequireå¯ç”¨äºè·å–CrTçš„è‡ªå®šä¹‰APIï¼Œåœ¨æ²¡æœ‰å…¶ä»–æ¨¡ç»„æ·»åŠ APIçš„æƒ…å†µä¸‹ï¼Œé»˜è®¤å¯è·å–çš„APIæœ‰furnaceå’Œrecipes æ ¼å¼ï¼š1require(&quot;api_name&quot;); //è¿”å› api_name å¯¹è±¡ ç”¨æ³•ï¼š123//å› ä¸ºä¸€èˆ¬æƒ…å†µä¸‹åªéœ€è¦è·å–ä¸€æ¬¡APIå¯¹è±¡ï¼Œè€Œä¸”æ²¡æœ‰ä¿®æ”¹åç§°çš„å¿…è¦ï¼Œæ•…èµ‹å€¼ä¸ºå¸¸é‡const Furnace = require(&quot;furnace&quot;); //CrTé¢„ç½®çš„ç†”ç‚‰ç±»const Recipes = require(&quot;recipes&quot;); //CrTé¢„ç½®çš„åˆæˆç±» ä¸‹é¢å°†è¯¦ç»†ä»‹ç»furnaceå’Œrecipesçš„è¯¦ç»†ç”¨æ³• furnace12345678910111213//æˆ‘ä»¬å·²ç»è·å–åˆ°äº† furnace å¯¹è±¡å¹¶èµ‹å€¼ç»™ Furnaceï¼Œä¸ºæ–¹ä¾¿ï¼Œä¸‹æ–‡å‡ä½¿ç”¨ Furnace// Furnace æœ‰ä¸‰æ¡å‡½æ•°å¯ç”¨Furnace.remove(input); // input - ItemStack ç±»å‹ï¼Œè¾“å…¥ç‰©å“ï¼Œç§»é™¤æŸç‰©å“çš„ç†”ç‚‰é…æ–¹Furnace.addRecipe(input, output); // input - ItemStack ç±»å‹ï¼Œè¾“å…¥ç‰©å“ï¼Œoutput - ItemStack ç±»å‹ï¼Œè¾“å‡ºç‰©å“ï¼Œæ·»åŠ ä¸€æ¡ç†”ç‚‰é…æ–¹Furnace.setFuel(input, time); // input - ItemStack ç±»å‹ï¼Œç‡ƒæ–™ç‰©å“ï¼Œtime - number ç±»å‹ï¼Œç‡ƒçƒ§æ—¶é—´ï¼Œè®¾ç½®æŸç‰©å“ä½œä¸ºç‡ƒæ–™çš„ç‡ƒçƒ§æ—¶é—´//ä¸¾ä¾‹ï¼šFurnace.remove($(&quot;block:iron_ore&quot;)); //ç§»é™¤é“çŸ¿çŸ³çš„ç†”ç‚‰é…æ–¹Furnace.addRecipe($(&quot;item:rotten_flesh&quot;), $(&quot;item:leather&quot;)); //ç»å…¸çš„è…è‚‰çƒ§çš®é©Furnace.setFuel($(&quot;block:hay_block&quot;), 900); //å°†å¹²è‰å—è®¾ç½®ä¸ºç‡ƒæ–™ï¼Œç‡ƒçƒ§æ—¶é—´ä¸º4.5ä¸ªç‰©å“//æ³¨ï¼š200ç‡ƒçƒ§æ—¶é—´ä¸ºä¸€ä¸ªç‰©å“ recipes12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273//åŒä¸Šï¼Œä¸‹æ–‡å‡ä½¿ç”¨Recipes//è‡³æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥è¯´æ˜ä¸Šæ–‡çš„ä¸€äº›â€œè¯¦è§ä¸‹æ–‡â€äº†// Recipes æœ‰ä¸‰æ¡å‡½æ•°å¯ç”¨Recipes.remove(output); // output - ItemStick ç±»å‹ï¼Œè¾“å‡ºç‰©å“ï¼Œç§»é™¤æŸç‰©å“çš„åˆæˆé…æ–¹Recipes.addShaped(output, input); // output - ItemStack ç±»å‹ï¼Œè¾“å‡ºç‰©å“ï¼Œinput - array ç±»å‹ï¼ŒåŒ…å«è¾“å…¥ç‰©å“çš„äºŒç»´æ•°ç»„ï¼Œæ·»åŠ æœ‰åºåˆæˆRecipes.addShapeless(output, item); // output - ItemStack ç±»å‹ï¼Œè¾“å‡ºç‰©å“ï¼Œinput - array ç±»å‹ï¼ŒåŒ…å«è¾“å…¥ç‰©å“çš„ä¸€ç»´æ•°ç»„ï¼Œæ·»åŠ æ— åºåˆæˆ//ä¸¾ä¾‹ï¼š//ç§»é™¤å·¥ä¸šæ¨¡ç»„ä¸­é“œå—åˆæˆé…æ–¹ï¼ˆè¯¥å‡½æ•°åœ¨ç›®å‰ç‰ˆæœ¬çš„ICæš‚ä¸å¯ç§»é™¤åŸç‰ˆåˆæˆé…æ–¹ï¼‰Recipes.remove($(&quot;block:blockCopper&quot;));/* æ·»åŠ åŸºå²©çš„åˆæˆé…æ–¹ï¼Œæ‘†æ”¾æ–¹å¼å¦‚ä¸‹æ‰€ç¤º * ABA * BAB * ABA * å…¶ä¸­ A ä»£è¡¨é»‘æ›œçŸ³ï¼ŒB ä»£è¡¨çŸ³å¤´ */Recipes.addShaped($(&quot;block:bedrock*3&quot;), [[$(&quot;block:obsidian&quot;), $(&quot;block:stone&quot;), $(&quot;block:obsidian&quot;)], [$(&quot;block:stone&quot;), $(&quot;block:obsidian&quot;), $(&quot;block:stone&quot;)], [$(&quot;block:obsidian&quot;), $(&quot;block:stone&quot;), $(&quot;block:obsidian&quot;)]]);//ä½ å¯ä»¥åƒä¸‹é¢è¿™æ ·å†™æˆå¤šè¡Œä»¥ä¾¿é˜…è¯»Recipes.addShaped($(&quot;block:bedrock*3&quot;), [ [$(&quot;block:obsidian&quot;), $(&quot;block:stone&quot;), $(&quot;block:obsidian&quot;)], [$(&quot;block:stone&quot;), $(&quot;block:obsidian&quot;), $(&quot;block:stone&quot;)], [$(&quot;block:obsidian&quot;), $(&quot;block:stone&quot;), $(&quot;block:obsidian&quot;)]]);//å¯¹äºä¸éœ€è¦æ”¾ç‰©å“çš„æ ¼å­ï¼Œç•™ç©ºæˆ–è€…å¡«nullå³å¯/* æ·»åŠ ç”¨çŸ³å¤´åˆæˆçŸ³é•çš„åˆæˆé…æ–¹ï¼Œæ‘†æ”¾æ–¹å¼å¦‚ä¸‹æ‰€ç¤º * AAA * B * B * å…¶ä¸­ A ä»£è¡¨çŸ³å¤´ï¼ŒB ä»£è¡¨æœ¨æ£ *///å¦‚æœä½ æœ‰å¤Ÿå¼ºè¿«ç—‡å¯ä»¥å†™è¿™æ ·ï¼ˆè™½ç„¶å¯¹äºå¼ºè¿«ç—‡æˆ‘æ›´å»ºè®®å†™åˆ°ä¸€è¡Œï¼Œçœ¼ä¸è§å¿ƒä¸çƒ¦ï¼‰Recipes.addShaped($(&quot;item:stone_pickaxe&quot;), [ [$(&quot;block:stone&quot;), $(&quot;block:stone&quot;), $(&quot;block:stone&quot;)], [null , $(&quot;item:stick&quot;) , null ], [null , $(&quot;item:stick&quot;) , null ]]);//æ·»åŠ æœ‰ä¸è¢«æ¶ˆè€—ç‰©å“çš„åˆæˆ//ä½¿ç”¨é“é”­å’Œæµ·æ´‹ä¹‹å¿ƒåˆæˆä¸‰å‰æˆŸï¼Œå…¶ä¸­æµ·æ´‹ä¹‹å¿ƒå¯ä»¥é‡å¤ä½¿ç”¨Recipes.addShaped($(&quot;item:trident&quot;), [[$(&quot;item:iron_ingot&quot;), $(&quot;item:iron_ingot&quot;), $(&quot;item:iron_ingot&quot;)], [null, $(&quot;item:heart_of_the_sea&quot;).reuse(), null], [null, $(&quot;item:iron_ingot&quot;), null]]);//æ·»åŠ æ— åºåˆæˆä¸æœ‰åºåˆæˆçš„æ–¹å¼ååˆ†ç›¸åƒï¼Œè€Œä¸”åœ¨æ·»åŠ è¾“å…¥ç‰©å“æ—¶å¯ä»¥è®¾ç½®æ•°é‡ï¼ˆæœ‰åºåˆæˆåˆ™åªèƒ½è®¾ç½®è¾“å‡ºç‰©å“çš„æ•°é‡ï¼‰ï¼Œä½†è¦æ³¨æ„çš„æ˜¯è¾“å…¥ç‰©å“çš„æ€»æ•°ä¸èƒ½è¶…è¿‡9ä¸ª//æˆªæ­¢è‡³V1.1.0ç‰ˆæœ¬çš„CrTï¼Œæœ‰è®¾ç½®è¾“å…¥ç‰©å“æ•°é‡çš„é…æ–¹ä¼šæœ‰éƒ¨åˆ†ç‰©å“ä¸ä¼šæ¶ˆè€—çš„BUG//ä¸ºè˜‘è‡ç…²æ·»åŠ ä¸¤æ¡åˆæˆé…æ–¹ï¼Œä½¿å…¶åªéœ€è¦ä»»æ„ä¸¤ä¸ªè˜‘è‡å³å¯åˆæˆRecipes.addShapeless($(&quot;item:mushroom_stew&quot;), [$(&quot;block:brown_mushroom&quot;), $(&quot;block:brown_mushroom&quot;), $(&quot;item:bowl&quot;)]);Recipes.addShapeless($(&quot;item:mushroom_stew&quot;), [$(&quot;block:red_mushroom&quot;), $(&quot;block:brown_mushroom&quot;), $(&quot;item:bowl&quot;)]);//æ·»åŠ æ¶ˆè€—ç‰©å“è€ä¹…çš„é…æ–¹//ä½¿ç”¨æ¯’é©¬é“ƒè–¯åˆæˆé©¬é“ƒè–¯ï¼Œå¹¶æ¶ˆè€—å‰ªåˆ€1è€ä¹…å€¼//ç‰¹æ®Šå€¼-1ä»£è¡¨ä»»æ„ç‰¹æ®Šå€¼å‡å¯Recipes.addShapeless($(&quot;item:potato&quot;), [$(&quot;item:shears:-1&quot;).transformDamage(), $(&quot;item:poisonous_potato&quot;)]);//è‡ªå®šä¹‰åˆæˆäº‹ä»¶//ä½¿ç”¨æ°´æ¡¶ä¸çˆ†è£‚ç´«é¢‚æœåˆæˆç´«é¢‚æœï¼Œå¹¶è¿”è¿˜æ¡¶Recipes.addShapeless($(&quot;item:chorus_fruit&quot;), [$(&quot;item:chorus_fruit_popped&quot;), $(&quot;item:water_bucket&quot;).only(function (api, index, item, output) &#123; item.id = $(&quot;item:bucket&quot;).id;&#125;)]);//æœ¨æ¿ä¸å‰ªåˆ€åˆæˆéšæœº1-4æ ¹æœ¨æ£å¹¶æ¶ˆè€—å‰ªåˆ€ç›¸åº”çš„è€ä¹…å€¼Recipes.addShapeless($(&quot;item:stick&quot;), [$(&quot;block:planks&quot;), $(&quot;item:shears:-1&quot;).only(function (api, index, item, output) &#123; let count = Math.floor(Math.random() * 4) + 1; let max = $(&quot;item:shears&quot;).toItem().getMaxDamage(); item.data += count; if (item.data &gt;= max) &#123; count += max - item.data; item.id = item.data = item.count = 0; &#125; output.count = count;&#125;)]); æ¨¡ç»„è”åŠ¨å¦‚æœä½ æ˜¯æ¨¡ç»„å¼€å‘è€…ï¼Œä½ å¯ä»¥é€šè¿‡ModAPIè°ƒç”¨CrTæä¾›çš„æ–¹æ³•æ¥æ‹“å±•CrT 1234//CrTæœ‰ä»¥ä¸‹æ–¹æ³•å¯ä»¥é€šè¿‡ModAPIè°ƒç”¨addAPI(name, state); // name - string ç±»å‹ï¼ŒAPIåç§°ï¼Œstate - object ç±»å‹ï¼ŒAPIå¯¹è±¡ï¼ŒåƒCrTæ·»åŠ è‡ªå®šä¹‰APIä»¥åœ¨è„šæœ¬ä¸­ä½¿ç”¨require(name); // name - string ç±»å‹ï¼ŒAPIåç§°ï¼ŒåŒä¸Šæ–‡requirerequireGlobal(command); // command - string ç±»å‹ï¼Œè¦æ‰§è¡Œçš„ä»£ç ï¼Œåœ¨CrTçš„ä¸­æ‰§è¡Œä¸€æ®µä»£ç ï¼Œæ…ç”¨ å¥½äº†ï¼Œä½ å·²ç»å­¦ä¼šå¦‚ä½•ä½¿ç”¨CrTäº†ï¼Œå¿«å»è¯•ç€åˆ¶ä½œæ•´åˆåŒ…å§ï¼","categories":[],"tags":[]},{"title":"æ¨¡ç»„é›†","slug":"æ¨¡ç»„é›†","date":"2022-01-01T10:12:49.659Z","updated":"2022-01-01T12:56:17.977Z","comments":true,"path":"2022/01/01/æ¨¡ç»„é›†/","link":"","permalink":"https://weifeng233.github.io/2022/01/01/%E6%A8%A1%E7%BB%84%E9%9B%86/","excerpt":"","text":"æ¨¡ç»„é›†æ˜¯åœ¨2.2.1b85æ›´æ–°ä¸­åŠ å…¥çš„åŠŸèƒ½ã€‚ åŠŸèƒ½æ¦‚è¿°æ¨¡ç»„é›†å°†ä¸€äº›äº’ç›¸å…¼å®¹çš„æ¨¡ç»„æ•´åˆä¸ºä¸€ä¸ªæ•´ä½“ï¼Œé€šå¸¸åŒ…å«é™„åŠ ä»£ç æˆ–è€…æ¨¡ç»„ä»¥æé«˜æ¨¡ç»„é›†æˆåº¦å’Œæ¸¸æˆç©æ³•ä¸€è‡´æ€§ã€‚ åœ¨æ­¤æ›´æ–°ä¸­ï¼Œæ¨¡ç»„å°†æ— æ³•å®‰è£…åœ¨æ¨¡ç»„é›†ä¹‹å¤–ï¼Œå› æ­¤InnerCoreä¼šåˆ›å»ºä¸€ä¸ªé»˜è®¤æ¨¡ç»„é›†ï¼Œä½ å¯ä»¥åœ¨å…¶ä¹‹ä¸­æ‰¾åˆ°ä½ ä¹‹å‰å®‰è£…çš„æ‰€æœ‰æ¨¡ç»„å¹¶é€šè¿‡æ¨¡ç»„ç®¡ç†å™¨æ·»åŠ æ–°æ¨¡ç»„ã€‚ä½ å¯ä»¥åˆ°æ¨¡ç»„ç®¡ç†å™¨çš„æˆ‘çš„æ¨¡ç»„é›†ä¸­ä¸‹è½½ç°æˆçš„æ¨¡ç»„é›†ã€‚è¦åŠ è½½ä¸€ä¸ªæ¨¡ç»„é›†åªéœ€è¦ç‚¹å‡»æ¨¡ç»„é›†é¡µé¢ä¸Šçš„é€‰æ‹©æŒ‰é’®ã€‚ æ— è®ºä½•æ—¶éƒ½åªèƒ½åŠ è½½ä¸€ä¸ªæ¨¡ç»„é›†ã€‚æ¨¡ç»„é›†é»˜è®¤åˆ°å—æ›´æ”¹ä¿æŠ¤ï¼Œå³æ¨¡ç»„é›†å†…çš„æ¨¡ç»„ä¸ä¼šè¢«æ¨¡ç»„ç®¡ç†å™¨æ›´æ–°é™¤éæ¨¡ç»„é›†æœ‰æ›´æ–°ï¼Œä»¥åŠä½ ä¸èƒ½å‘æ¨¡ç»„é›†ç§»é™¤æˆ–æ·»åŠ æ¨¡ç»„ï¼Œå¦‚æœä½ å°è¯•è¿™æ ·åšä¼šå‡ºç°å¦‚ä¸‹è­¦å‘Šï¼š åªæœ‰å½“ä½ æ˜ç™½ä½ åœ¨åšä»€ä¹ˆæ—¶æ‰å…è®¸ä¿®æ”¹æ¨¡ç»„é›†ï¼Œå½“æ¨¡ç»„é›†è¢«ä¿®æ”¹ä¹‹åï¼Œæ¨¡ç»„é›†ä¸­çš„æ¨¡ç»„å°†å¼€å¯æ›´æ–°åŠŸèƒ½ï¼ŒåŒæ—¶æ¨¡ç»„é›†ä¼šå¤±å»æ›´æ–°åŠŸèƒ½ã€‚ åˆ›å»ºä½ è‡ªå·±çš„æ¨¡ç»„é›†ä½ å¯ä»¥åŸºäºç°æœ‰çš„æ¨¡ç»„é›†æˆ–é»˜è®¤æ¨¡ç»„é›†æ¥åˆ›å»ºä½ è‡ªå·±çš„æ¨¡ç»„é›†ã€‚ä½¿ç”¨æ¨¡ç»„é›†é¡µé¢çš„å…‹éš†é€‰é¡¹å³å¯å®Œæˆæ­¤å·¥ä½œï¼ˆåœ¨ç›®å‰ç‰ˆæœ¬ä¸­ï¼Œéƒ¨åˆ†è®¾å¤‡å¯èƒ½æ— æ³•å…‹éš†é»˜è®¤æ¨¡ç»„é›†ï¼Œä¸‹æ–‡ä¼šè®²å¦‚ä½•ä½¿ç”¨æ–‡ä»¶ç®¡ç†å™¨æ‰‹åŠ¨æ“ä½œï¼‰ ç”Ÿæˆçš„æ¨¡ç»„é›†ä¼šåœ¨å¯¹åº”çš„InnerCoreåŒ…çš„modpacksæ–‡ä»¶å¤¹å†…ã€‚æ¥ä¸‹æ¥ä½ å¯ä»¥ä½¿ç”¨æ¨¡ç»„ç®¡ç†å™¨æ¥å®‰è£…æ‰€éœ€çš„æ¨¡ç»„ï¼Œä¹Ÿå¯ä»¥å°†ä½ è‡ªå·±ç¼–å†™çš„æ¨¡ç»„æ·»åŠ åˆ°æ¨¡ç»„é›†çš„modsæ–‡ä»¶å¤¹ä¸­ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œä½ è¿˜å¯ä»¥æ·»åŠ æ¨¡ç»„é›†å›¾æ ‡pack_icon.pngï¼Œä»¥åŠå¿…é¡»åˆ›å»ºæ¨¡ç»„é›†æ¸…å•æ–‡ä»¶modpacks.jsonï¼Œå…¶ä¸­å¯åŒ…å«ä»¥ä¸‹å­—æ®µï¼š name - æ¨¡ç»„é›†çš„çŸ­åç§°ï¼Œå°†ä¼šä½œä¸ºå…¶ID displayedName - æ¨¡ç»„é›†çš„å±•ç¤ºåç§° versionName - æ¨¡ç»„é›†å½“å‰çš„ç‰ˆæœ¬åç§° versionCode - æ¨¡ç»„é›†å½“å‰çš„ç‰ˆæœ¬å· author - æ¨¡ç»„é›†çš„ä½œè€…åç§° description - æ¨¡ç»„é›†çš„ç®€ä»‹ ç¤ºä¾‹ï¼š 12345678&#123; &quot;name&quot;: &quot;coop-tech&quot;, &quot;displayedName&quot;: &quot;Cooperative Tech&quot;, &quot;versionName&quot;: &quot;1.01-betaâ€‹&quot;, &quot;versionCode&quot;: 2, &quot;author&quot;: &quot;zheka_smirnov&quot;, &quot;description&quot;: &quot;Simple small modpack, that contains few tech and utility mods and supports multiplayer.&quot;&#125; ä¸€æ—¦æ¨¡ç»„é›†æ„å»ºå®Œæˆï¼Œå¯ä»¥ä½¿ç”¨æ¨¡ç»„é›†ç•Œé¢å†…çš„å‹ç¼©æ–‡ä»¶é€‰é¡¹åˆ›å»ºä¸€ä¸ªå‹ç¼©å­˜æ¡£ä¿å­˜åœ¨å¯¹åº”InnerCoreåŒ…çš„modpacks-archiveæ–‡ä»¶å¤¹å†…ï¼Œä½ å¯ä»¥åœ¨æ¨¡ç»„ç®¡ç†å™¨çš„æ¨¡ç»„é›†é¡µé¢é‡è£…æ¨¡ç»„é›†çš„å‹ç¼©æ–‡æ¡£ã€‚ æ¨¡ç»„é…ç½®é¦–å…ˆï¼Œä½ åº”è¯¥çŸ¥é“æ¯ä¸ªICModéƒ½æœ‰ä¸€ä¸ªconfig.jsonæ–‡ä»¶ç”¨äºå­˜å‚¨çš„æ¨¡ç»„çš„é…ç½®ä¿¡æ¯ï¼Œåœ¨æ¨¡ç»„é›†ä¸­åº”å°†æ¨¡ç»„çš„å‹ç¼©æ–‡ä»¶ç»Ÿä¸€æ”¾åœ¨æ¨¡ç»„é›†çš„configæ–‡ä»¶å¤¹å†…ï¼Œå¹¶æŒ‰æ¨¡ç»„æ–‡ä»¶å¤¹å-config.jsonçš„æ ¼å¼å‘½åï¼ˆæ–‡ä»¶å¤¹åç§°ä¸­çš„ç©ºæ ¼éœ€è¦ä½¿ç”¨-ä»£æ›¿ï¼‰ï¼Œæ­¤å¤–ï¼Œä½ è¿˜å¯ä»¥åœ¨è¯¥æ–‡ä»¶å¤¹ä¸­åˆ›å»ºä¸€ä¸ª.keep-unchangedæ–‡ä»¶å¤¹ç”¨äºå­˜æ”¾ä¸å…è®¸ç©å®¶ä¿®æ”¹çš„é…ç½®ä¿¡æ¯ã€‚ æ³¨æ„ï¼šå¦‚æœä¸€ä¸ªæ¨¡ç»„çš„é…ç½®ä¿¡æ¯ä¸åœ¨configæ–‡ä»¶å¤¹å†…æ—¶InnerCoreä¼šè‡ªåŠ¨åˆ›å»ºä¸€ä¸ªä»…åŒ…å«enabledå­—æ®µçš„jsonæ–‡ä»¶ï¼Œæ­¤æ“ä½œå¯èƒ½ä¼šä½¿æ¨¡ç»„æ— æ³•è¯»å–åˆ°éœ€è¦çš„é…ç½®ä¿¡æ¯è€Œå¯¼è‡´æŠ¥é”™ã€‚","categories":[],"tags":[]},{"title":"ä½¿ç”¨JavaScriptå®ç°çš„MCBEå²è±å§†åŒºå—ç®—æ³•","slug":"ä½¿ç”¨JavaScriptå®ç°çš„MCBEå²è±å§†åŒºå—ç®—æ³•","date":"2021-08-29T15:11:08.237Z","updated":"2022-01-11T16:53:28.415Z","comments":true,"path":"2021/08/29/ä½¿ç”¨JavaScriptå®ç°çš„MCBEå²è±å§†åŒºå—ç®—æ³•/","link":"","permalink":"https://weifeng233.github.io/2021/08/29/%E4%BD%BF%E7%94%A8JavaScript%E5%AE%9E%E7%8E%B0%E7%9A%84MCBE%E5%8F%B2%E8%8E%B1%E5%A7%86%E5%8C%BA%E5%9D%97%E7%AE%97%E6%B3%95/","excerpt":"","text":"ç›´æ¥å°†origin0110ä½¿ç”¨Cçš„ä»£ç ç®€å•åœ°ç”¨JSå†™ä¸€éï¼Œåœ¨æ­¤è®°å½•ï¼š 2022/1/12ï¼šå‡å°‘ä¸å¿…è¦çš„è½¬æ— ç¬¦å·è¿ç®— 12345678910111213141516171819function getSeed(x, z) &#123; return x * 0x1f1f1f1f ^ z;&#125;function isSlimeChunk(s) &#123; let m = 1 + Math.imul(s ^ s &gt;&gt;&gt; 30, 0x6c078965); s = s &amp; 0x80000000 | m &amp; 0x7fffffff; for (let i = 2; i &lt; 398; i++) m = i + Math.imul(m ^ m &gt;&gt;&gt; 30, 0x6c078965); m ^= (s &gt;&gt;&gt; 1) ^ (s &amp; 1 ? 0x9908b0df : 0x0); m ^= m &gt;&gt;&gt; 11; m ^= m &lt;&lt; 0x7 &amp; 0x9d2c5680; m ^= m &lt;&lt; 0xf &amp; 0xefc60000; m ^= m &gt;&gt;&gt; 18; return !((m &gt;&gt;&gt; 0) % 10);&#125;","categories":[],"tags":[]},{"title":"UI PART2","slug":"UI-2","date":"2021-08-13T17:51:44.941Z","updated":"2021-08-29T15:18:35.562Z","comments":true,"path":"2021/08/14/UI-2/","link":"","permalink":"https://weifeng233.github.io/2021/08/14/UI-2/","excerpt":"","text":"æ³¨æ„ï¼šæœ¬æ•™ç¨‹ä»…ä¸ºç®€å•ä»‹ç»UIçš„çª—å£ï¼Œä¸ä¼šæ¶‰åŠè¯¦ç»†çš„å‡½æ•°ã€‚å¦‚æœæƒ³è¦äº†è§£æ›´å¤šè¯·é˜…è¯»å®˜æ–¹æ–‡æ¡£ã€‚ åœ¨ä¸ŠæœŸæ•™ç¨‹ä¸­æˆ‘ä»¬ç®€è¦ä»‹ç»äº†ICModçš„UIæ„æˆä¸åŸºæœ¬æ§ä»¶ï¼Œæ¥ä¸‹æ¥å°†è¯¦ç»†ä»‹ç»æ§ä»¶ç”¨æ³•ä»¥åŠå¦‚ä½•ç»„æˆä¸€ä¸ªâ€œç²¾ç¾â€çš„ç•Œé¢ã€‚ StandardWindowåœ¨æ­¤çº æ­£ä¸Šä¸€ç¯‡ä¸“æ çš„ä¸¥é‡é”™è¯¯ï¼šStandartWindowåœ¨ç°åœ¨ç‰ˆæœ¬çš„InnerCoreä¸­å·²ç»å¼ƒç”¨ï¼Œä½¿ç”¨StandardWindowæ›¿ä»£ã€‚ ä½ å¯ä»¥æ°¸è¿œç›¸ä¿¡StandardWindowã€‚ â€”Prosto Sostavil StandardWindowæ˜¯ä¸€ä¸ªç”±ä¸‰éƒ¨åˆ†ç»„æˆçš„WindowGroupï¼Œåˆ†åˆ«ä¸ºmain, inventoryå’Œheaderï¼Œå¯¹åº”å…³ç³»å¦‚ä¸‹å›¾ï¼š Standardæ ·å¼ä¸åŸç‰ˆçš„PocketUIç›¸ä¼¼ï¼Œé»˜è®¤è‡ªå¸¦ä¸€ä¸ªå±•ç¤ºç©å®¶èƒŒåŒ…çš„å¯æ»‘åŠ¨ç•Œé¢ä»¥åŠå¸¸è§„çš„å…³é—­ç•Œé¢æŒ‰é’®å’Œç•Œé¢åç§°ç­‰ï¼Œéå¸¸é€‚åˆç”¨ä½œä¸€èˆ¬çš„æ–¹å—å®ä½“çš„äº’åŠ¨ç•Œé¢ã€‚ åœ¨æ­¤ä½¿ç”¨å·¥ä¸šçš„ç«åŠ›å‘ç”µæœºç•Œé¢ä½œä¸ºç¤ºä¾‹ï¼š è¿™æ˜¯ä¸€ä¸ªç®€å•çš„ç•Œé¢ï¼Œä½†åŸºæœ¬ä¸ŠåŒ…å«äº†å¸¸ç”¨æ§ä»¶ï¼Œè®©æˆ‘ä»¬ç®€è¦åˆ†æä¸€ä¸‹å…¶ä»£ç ï¼š 123456789101112131415161718192021//æºç ä½¿ç”¨TypeScriptç¼–å†™ä¸”åˆ†ä¸åŒéƒ¨åˆ†åœ¨å¤šä¸ªæ–‡ä»¶ä¸­ï¼Œä¸ºæ–¹ä¾¿è®²è§£å–ä¸»è¦ä»£ç å¹¶ä½¿ç”¨JavaScripté‡å†™const GUI_SCALE = 3.2; //å£°æ˜GUI_SCALEå¸¸é‡ï¼Œä»¥ä¾¿ç»Ÿä¸€æ¨¡ç»„å†…å„ç•Œé¢new UI.StandardWindow(&#123; standard: &#123; header: &#123;text: &#123;text: Translation.translate(&quot;Generator&quot;)&#125;&#125;, //æ­¤å¤„ä½¿ç”¨Translateç±»å‡½æ•°ä»¥å®ç°å¤šè¯­è¨€ï¼Œè¯¦è§å®˜æ–¹æ–‡æ¡£ inventory: &#123;standard: true&#125;, background: &#123;standard: true&#125; &#125;, drawing: [//ä¸¤ä¸ªscaleå…ƒç´ å¯¹åº”çš„å½“å…¶ä¸ºç©ºæ—¶çš„è´´å›¾ &#123;type: &quot;bitmap&quot;, x: 530, y: 144, bitmap: &quot;energy_bar_background&quot;, scale: GUI_SCALE&#125;, &#123;type: &quot;bitmap&quot;, x: 450, y: 150, bitmap: &quot;fire_background&quot;, scale: GUI_SCALE&#125;, ], elements: &#123; &quot;energyScale&quot;: &#123;type: &quot;scale&quot;, x: 530 + GUI_SCALE * 4, y: 144, direction: 0, value: 0.5, bitmap: &quot;energy_bar_scale&quot;, scale: GUI_SCALE&#125;, //æ³¨æ„æ­¤å¤„xçš„å€¼æ¯”å¯¹åº”çš„bitmapåŠ äº†GUI_SCALE*4ï¼Œè¿™æ˜¯å› ä¸ºå®ƒçš„è´´å›¾ä¸¤ç«¯å„å°‘äº†4ä¸ªåƒç´ ï¼Œä»¥ä¾¿å®Œæ•´æ˜¾ç¤ºè¿›åº¦ &quot;burningScale&quot;: &#123;type: &quot;scale&quot;, x: 450, y: 150, direction: 1, value: 0.5, bitmap: &quot;fire_scale&quot;, scale: GUI_SCALE&#125;, &quot;slotEnergy&quot;: &#123;type: &quot;slot&quot;, x: 441, y: 75&#125;, &quot;slotFuel&quot;: &#123;type: &quot;slot&quot;, x: 441, y: 212&#125;, &quot;textInfo1&quot;: &#123;type: &quot;text&quot;, x: 642, y: 142, width: 300, height: 30, text: &quot;0/&quot;&#125;, &quot;textInfo2&quot;: &#123;type: &quot;text&quot;, x: 642, y: 172, width: 300, height: 30, text: &quot;10000&quot;&#125; &#125;&#125;); å¯ä»¥çœ‹å‡ºåœ¨StandardWindowä¸­ä½¿ç”¨çš„æ˜¯ç»å¯¹åæ ‡ï¼Œè€Œä¸”å¯ä¸è´´å›¾åƒç´ å¯¹åº”ï¼Œå› æ­¤åªéœ€è¦è€å¿ƒçš„æ…¢æ…¢è°ƒæ•´å°±èƒ½å¤Ÿå¾—åˆ°ä¸€ä¸ªä¸é”™çš„ç•Œé¢ã€‚ ä¸æ–¹å—å®ä½“äº’åŠ¨æ­¤éƒ¨åˆ†ä¸æ˜¯æœ¬æ•™ç¨‹çš„ä¸»è¦å†…å®¹ï¼Œå› æ­¤å°†ç®€è¦å¸¦è¿‡ã€‚ åœ¨ICä¸­ï¼Œæ³¨å†Œæ–¹å—å®ä½“çš„å‡½æ•°ä¸ºTileEntity.registerPrototype(blockID: number, customPrototype: TileEntityPrototype): voidï¼Œå‚æ•°åªæœ‰ä¸¤ä¸ªï¼šæ–¹å—IDå’Œæ–¹å—å®ä½“åŸå‹ã€‚ æ–¹å—å®ä½“åŸå‹æ˜¯ä¸€ä¸ªJSå¯¹è±¡ï¼ŒåŒ…å«æ–¹å—å®ä½“çš„æ•°æ®å’Œäº‹ä»¶ã€‚è¦å°†åˆ›å»ºçš„StandardWindowå¯¹è±¡ä¸æ–¹å—å®ä½“ç»‘å®šåˆ™éœ€è¦åœ¨æ–¹å—å®ä½“åŸå‹ä¸­è®¾ç½®getGuiScreenå‡½æ•°å¹¶è¿”å›ç•Œé¢å¯¹è±¡ã€‚è¿™æ ·ICä¼šè‡ªåŠ¨ä¸ºè¯¥ç•Œé¢å¯¹è±¡åˆ›å»ºç›¸åº”çš„å®¹å™¨å¯¹è±¡ï¼Œä½ å¯ä»¥åœ¨æ–¹å—å®ä½“åŸå‹çš„å‡½æ•°ä¸­ä½¿ç”¨this.containeræ¥è·å¾—å®¹å™¨å¯¹è±¡å¹¶ä½¿ç”¨å…¶æä¾›çš„æ–¹æ³•ä¸ç•Œé¢äº¤äº’ã€‚ æ›´è¿›ä¸€æ­¥StandardWindowçš„å¯ç©æ€§è¿œä¸æ­¢å¦‚æ­¤ï¼Œä½ å¯ä»¥è¯•ç€é™¤å»StandardWindowçš„é»˜è®¤æ§ä»¶ï¼Œå¹¶ä»0å¼€å§‹è‡ªå®šä¹‰ç•Œé¢ï¼Œæˆ–è€…åœ¨æ–¹å—å®ä½“åŸå‹çš„getGuiScreenæ–¹æ³•ä¸­ç¼–å†™é€»è¾‘ä»¥ä½¿åœ¨ä¸åŒçš„æƒ…å†µä¸‹æ‰“å¼€ä¸åŒçš„ç•Œé¢ã€‚ ç¤ºä¾‹ä¸ºæˆ‘å»å¹´3æœˆä»½åˆæ¬¡å°è¯•UIæ—¶æ‰€å†™çš„ä¼šæ ¹æ®MCè®¾ç½®çš„UIæ¡£æ¡ˆåˆ‡æ¢StandardWindowçš„æ–¹å—å®ä½“ï¼ˆPSï¼šå›¾äºŒçš„ç•Œé¢æ ‡é¢˜æœ‰åç§»Bugï¼Œåœ¨ä¹‹åçš„ç‰ˆæœ¬ä¸­å·²è¢«ä¿®å¤ï¼‰ã€‚æ•´ä¸ªç•Œé¢ä»å¼€å§‹æ„æ€åˆ°å®Œæˆå¤§æ¦‚ç”¨äº†5å¤©æ—¶é—´(å¤§éƒ¨åˆ†æ—¶é—´ç”¨åœ¨ç¼–å†™åº“ä¸Šï¼Œä½†å¦‚ä»Šå¾—ç›ŠäºWindowGroupï¼Œå¯ä»¥æ›´å¿«åœ°å®Œæˆè¯¥ä»»åŠ¡ã€‚ WindowWindowæ˜¯æœ€åŸºæœ¬çš„çª—å£ï¼Œç›¸è¾ƒäºStandardWindowï¼ŒWindowæ›´ä¸ºçµæ´»ï¼Œé€‚åˆç”¨ä½œå¼¹çª—æˆ–è€…HUDã€‚ åœ¨åˆ›å»ºä¸€ä¸ªWindowå¯¹è±¡çš„æ—¶å€™ï¼Œå¯ä»¥åƒStandardWindowé‚£æ ·ä¼ å…¥ä¸€ä¸ªåŒ…å«Drawingå’ŒElementsç­‰çš„å¯¹è±¡ã€‚ä½†èƒ½å¤Ÿçªå‡ºWindowç‰¹è‰²çš„æ˜¯locationå‚æ•°ï¼Œä½ å¯ä»¥è‡ªå®šä¹‰Windowçš„å¤§å°ï¼Œåœ¨å±å¹•ä¸Šçš„ä½ç½®ï¼Œå†…è¾¹è·å’Œå¯æ»‘åŠ¨çª—å£å¤§å°ï¼ˆPSï¼šWindowå†…çš„unitä¸ºæ­¤Windowå®½åº¦çš„åƒåˆ†ä¹‹ä¸€ï¼‰ã€‚ å€¼å¾—ä¸€æï¼Œå†…è¾¹è·paddingçš„ä¼šè¦†ç›–x|y|width|heightçš„æ•ˆæœã€‚ ä¸¾ä¸ªç®€å•çš„ç©ºç™½çª—å£ç•Œé¢çš„ä¾‹å­ï¼š 1234567891011121314151617181920212223//å®šä¹‰ä¸€äº›å¸¸é‡const GUI_SCALE = 5;const WIDTH = 1000;const HEIGHT = UI.getScreenHeight();//åˆ›å»ºçª—å£let testWindow = new UI.Window(&#123; location: &#123; //æ­¤å¤„è¿ç®—æ˜¯ä¸ºæ–¹ä¾¿å±…ä¸­ x: (WIDTH - 300) / 2, y: (HEIGHT - 225) / 2, width: 300, height: 225 &#125;, drawing: [ //è´´å›¾æ˜¯ä»æ‹†åŸç‰ˆåŒ…æ‰’çš„XD &#123;type: &quot;background&quot;, color: android.graphics.Color.TRANSPARENT&#125;, &#123;type: &quot;frame&quot;, bitmap: &quot;background_panel&quot;, width: 1000, height: 750, scale: GUI_SCALE&#125; ], elements: &#123; &quot;closeButton&quot;: &#123;type: &quot;closeButton&quot;, x: 904, y: 26, bitmap: &quot;close_button_default&quot;, bitmap2: &quot;close_button_pressed&quot;, scale: GUI_SCALE&#125; &#125;&#125;);//ä¸€äº›å¸¸è§„è®¾ç½®testWindow.setCloseOnBackPressed(true);testWindow.setBlockingBackground(true); æ•ˆæœå›¾ï¼š TabbedWindowTabbedWindowå¯ç”¨äºåˆ›å»ºæ ‡ç­¾å¼çª—å£ï¼Œå¦‚åŸç‰ˆçš„ç©å®¶èƒŒåŒ…ä¸€æ ·ï¼Œå…·æœ‰å¤šä¸ªå¯åˆ‡æ¢çš„æ ‡ç­¾é¡µã€‚ TabbedWindowå’ŒStandardWindowä¸€æ ·ï¼Œéƒ½ç»§æ‰¿è‡ªWindowGroupã€‚åœ¨åˆ›å»ºTabbedWindowå¯¹è±¡æ—¶ï¼Œæ‰€ä¼ å…¥çš„å‚æ•°ä¸Windowç›¸åŒï¼Œä¸ä¹‹ä¸åŒçš„æ˜¯TabbedWindowå¤šäº†ä¸€äº›å‡½æ•°ã€‚ ä½¿ç”¨new UI.TabbedWindow()åˆ›å»ºä¸€ä¸ªç©ºç™½çš„TabbedWindowï¼Œæ•ˆæœå¦‚ä¸‹ï¼ˆPSï¼šéƒ¨åˆ†å¼‚å½¢å±å¯èƒ½ä¼šè¢«é®æŒ¡éƒ¨åˆ†è¾¹ç•Œï¼‰ï¼š ç®€å•åœ°è¯´æ˜ä¸€ä¸‹è¿™ä¸ªçª—å£ï¼Œå·¦ä¸Šè§’çš„å…³é—­æŒ‰é’®æ˜¯ä¸€ä¸ªç´¢å¼•å€¼ä¸º0çš„FakeTabï¼ˆPSï¼šFakeTabæŒ‡æ²¡æœ‰å¯¹åº”æ ‡ç­¾é¡µçš„æ ‡ç­¾ï¼‰ï¼Œæ ‡ç­¾é¡µçš„ä¸Šé™ä¸º12ä¸ªï¼Œå³ç´¢å¼•å€¼çš„èŒƒå›´ä¸º0-11ï¼ˆå·¦ä¾§ä¸º0-5ï¼Œå³ä¾§ä¸º6-11ï¼‰ã€‚ è¦æ·»åŠ ä¸€ä¸ªæ ‡ç­¾é¡µå¯ä»¥ä½¿ç”¨setTab(index: number, tabOverlay: ElementSet, tabContent: WindowContent, isAlwaysSelected?: boolean): voidå‡½æ•°ï¼Œindexå³æ ‡ç­¾é¡µçš„ç´¢å¼•å€¼ï¼ŒtabOverlayæ˜¯æ ‡ç­¾çš„å…ƒç´ é›†ï¼ˆå¦‚å…³é—­æŒ‰é’®ï¼‰ï¼ŒtabContentå³ä¸ºæ ‡ç­¾é¡µå±•ç¤ºçš„çª—å£å†…å®¹ï¼Œæ ¼å¼ä¸ä¹‹å‰ä»‹ç»çš„åŸºæœ¬æ— å¼‚ã€‚ å› ä¸ºsetTabå‡½æ•°å¹¶ä¸è¿”å›åˆ›å»ºçš„Windowå¯¹è±¡ï¼Œæ‰€ä»¥ä½ éœ€è¦ç”¨åˆ°getWindowForTab(index: number): Windowæ¥å‡½æ•°è·å–å¯¹åº”ç´¢å¼•å€¼çš„Windowå®ä¾‹åŒ–å¯¹è±¡ï¼Œä»¥å®Œæˆå¯¹å…¶çš„åŠ¨æ€ä¿®æ”¹ã€‚ WindowGroupWindowGroupæ˜¯StandardWindowå’ŒTabbedWindowçš„çˆ¶ç±»ï¼Œå…¶æ–¹æ³•åŸºæœ¬ä¸Šéƒ½å¯ä»¥åœ¨StandardWindowå’ŒTabbedWindowä¸­ä½¿ç”¨ã€‚ WindowGroupè¯ç”Ÿçš„ç›®çš„æ˜¯ä¸ºäº†èƒ½å¤Ÿå°†å¤æ‚çš„ç•Œé¢æ¨¡å—åŒ–ï¼Œä»¥ä¾¿æé«˜ä»£ç çš„å¤ç”¨ç‡å¹¶é™ä½è°ƒè¯•éš¾åº¦ï¼Œä½¿å¼€å‘æ•ˆç‡æé«˜ï¼Œæœ€ä¸ºå…¸å‹çš„ä¾‹å­å°±æ˜¯ICä¸­çš„å·¥ä½œå°ç•Œé¢ï¼ˆPSï¼šæ­¤å¤„ä¸è°ˆå…¶äº¤äº’é€»è¾‘ï¼Œä»…è°ˆå…¶ç•Œé¢ï¼‰ã€‚ è¯¥ç•Œé¢ç”±ä¸‰éƒ¨åˆ†ç»„æˆï¼Œåˆ†åˆ«ä¸ºMainÂ·ï¼ŒSlotså’ŒGridï¼Œå¯¹åº”ä¸‹å›¾ä¸­çš„é’è‰²ï¼Œç²‰è‰²å’Œé»„è‰²éƒ¨åˆ†ï¼š é˜…è¯»workbench.jsä¸­å·¥ä½œå°ç•Œé¢éƒ¨åˆ†çš„ä»£ç ï¼Œå¯ä»¥çœ‹å‡ºè¯¥ä¸‰éƒ¨åˆ†éƒ½æ˜¯å…ˆå®šä¹‰WindowContentçš„JSONæè¿°ï¼Œç„¶åä¸€ä¸€åˆ›å»ºWindowå¯¹è±¡ï¼Œå¹¶ä½¿ç”¨addWindowInstance(name: string, window: Window): voidå‡½æ•°å°†Windowå¯¹è±¡æ·»åŠ åˆ°WindowGroupå¯¹è±¡å¹¶å£°æ˜å…¶å¯¹åº”çš„åç§°IDã€‚ä½ ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨addWindow(name: string, content: WindowContent): Windowå‡½æ•°å‘WindowGroupæ·»åŠ çª—å£ã€‚ è‡³æ­¤ï¼Œå…³äºUIç•Œé¢çš„å†…å®¹å°±åŸºæœ¬ä¸Šä»‹ç»å®Œæ¯•ï¼Œå½“ç„¶å…¨éƒ¨å†…å®¹ä¸æ­¢è¿™äº›ï¼Œä½ éœ€è¦è®¤çœŸåœ°æŸ¥é˜…å®˜æ–¹æ–‡æ¡£ä»¥åŠå»å­¦ä¹ ä»–äººçš„ä¼˜ç§€ä½œå“ã€‚å¦å¤–ï¼Œè™½ç„¶æœ¬æ•™ç¨‹å¯¹äºUIä¸å®¹å™¨çš„äº’åŠ¨åªæ˜¯ç®€å•åœ°å¸¦è¿‡ï¼Œä½†æ­¤éƒ¨åˆ†å†…å®¹æ˜¯ç›¸å½“é‡è¦çš„ï¼Œåº”å½“æ³¨é‡å­¦ä¹ ï¼ˆPSï¼šè°è®©ä½ ä»¬å½“æ—¶è¯„è®ºä¸æå®¹å™¨å’Œæ–¹å—å®ä½“å‘¢XDï¼‰ã€‚","categories":[],"tags":[]},{"title":"UI PART1","slug":"UI-1","date":"2021-06-26T06:57:07.355Z","updated":"2021-06-26T07:03:05.492Z","comments":true,"path":"2021/06/26/UI-1/","link":"","permalink":"https://weifeng233.github.io/2021/06/26/UI-1/","excerpt":"","text":"Try hard. -Zheka Smirnov æœ¬æ–‡çš„éƒ¨åˆ†åè¯ä¸æè¿°æˆ–è®¸ä¸åˆ«å¤„æœ‰å‡ºå…¥ä»¥è‡³äºé”™è¯¯ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºæŒ‡å‡º ç›¸è¾ƒäºåŸç‰ˆMCï¼ŒICçš„UIç³»ç»Ÿå¹¶ä¸æœ‰å¤šå¤æ‚ï¼Œå¯ç®€å•åœ°ç”¨ä¸‹å›¾æ¦‚æ‹¬ å°½ç®¡è¿™å¼ å›¾çœ‹ä¼¼è¿‡äºç®€ç•¥ï¼Œä½†äº‹å®çš„ç¡®å¦‚æ­¤ã€‚å¿«é€ŸæŒæ¡UIçš„åŸºæœ¬æ§ä»¶ç­‰å†…å®¹å¹¶ä¸å›°éš¾ï¼Œä½†éš¾ç‚¹æ˜¯å¦‚ä½•ç”¨å®ƒä»¬æ‹¼å‡‘å‡ºç¾è§‚ä¸”å®ç”¨çš„ç”¨æˆ·ç•Œé¢ PSï¼šæœ¬æ–‡ä¸ä¼šè®²åˆ°æ¯ä¸€ä¸ªæ§ä»¶åŠå…¶å‡½æ•°ï¼Œæ›´è¯¦ç»†çš„å†…å®¹å¯è§å®˜æ–¹æ–‡æ¡£ é¦–å…ˆåœ¨ICä¸­ï¼Œç”¨æˆ·ç•Œé¢çš„æ§ä»¶çš„å¤§å°å’Œå•ä½éƒ½æ˜¯ä½¿ç”¨åŒä¸€çš„unitå•ä½ï¼Œ1unit = çª—å£å®½åº¦/1000 UIèµ„æºUIæ‰€ä½¿ç”¨åˆ°çš„è´´å›¾å­˜æ”¾äºæ„ç­‘æ–‡ä»¶(build.config)æ‰€æŒ‡å®šçš„guiç±»å‹çš„èµ„æºæ–‡ä»¶å¤¹ï¼Œåœ¨ä½¿ç”¨æ—¶åªéœ€è¦è¾“å…¥æ–‡ä»¶åå³å¯(ä¸åŒ…å«åç¼€ä¸æ–‡ä»¶å¤¹) é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜æœ‰ï¼š color: é¢œè‰²ï¼Œå³Androidçš„Colorç±»ï¼Œå¯ä½¿ç”¨android.graphics.Color.rgb(r, g, b)ç­‰è‡ªå®šä¹‰é¢œè‰² font: å­—ä½“ï¼ŒåŒ…å«ä¸‰ä¸ªå±æ€§ï¼Œ{size: æ–‡æœ¬å¤§å°, color: æ–‡æœ¬é¢œè‰², shadow: æ–‡æœ¬é˜´å½±}ï¼Œå…¶ä¸­æ–‡æœ¬é˜´å½±ä¸ºèŒƒå›´[0, 1]çš„æµ®ç‚¹æ•° frame: è¾¹æ¡†ï¼Œä¸€èˆ¬ä½¿ç”¨å¤§å°ä¸º16x16çš„è´´å›¾ï¼Œåœ¨ä½¿ç”¨æ—¶ä¼šè¢«è‡ªåŠ¨æ‹‰ä¼¸è‡³æ‰€éœ€å¤§å° DrawingDrawingï¼Œé¡¾åæ€ä¹‰å°±æ˜¯åœ¨ç•Œé¢ä¸­è¿›è¡Œç»˜åˆ¶ï¼Œåœ¨UIçš„æè¿°å¯¹è±¡ä¸­Drawingä¸ºä¸€ä¸ªåŒ…å«ç»˜åˆ¶æŒ‡ä»¤çš„æ•°ç»„ æè¿°å¯¹è±¡ï¼šç”¨äºè®¾å®šUIä»¥åŠåœ¨UIæ‰“å¼€æ—¶å¯¹å…¶è¿›è¡ŒåŠ¨æ€ä¿®æ”¹ 123456//æ ¼å¼drawing: [ &#123;/*æŒ‡ä»¤1*/&#125;, &#123;/*æŒ‡ä»¤2*/&#125;, ...] å¸¸ç”¨æ ‡å‡†æŒ‡ä»¤å¦‚ä¸‹ï¼š 123456&#123;type: &quot;background&quot;, color: é¢œè‰²&#125; //å¡«å……èƒŒæ™¯é¢œè‰²&#123;type: &quot;bitmap&quot;, bitmap: è´´å›¾, x: Number, y: Number, width: Number, height: Number, scale: Number&#125; //ç»˜åˆ¶è´´å›¾ï¼Œscale - è´´å›¾åƒç´ å’Œunitçš„ç¼©æ”¾æ¯”ä¾‹ï¼Œé»˜è®¤1åƒç´ =1unit&#123;type: &quot;frame&quot;, x: Number, y: Number, width: Number, height: Number, bitmap: è´´å›¾, bg: é¢œè‰², scale: Number&#125; //ç»˜åˆ¶è¾¹æ¡†ï¼Œbg - è¾¹æ¡†èƒŒæ™¯é¢œè‰²&#123;type: &quot;text&quot;, text: String, x: Number, y: Number, font: å­—ä½“&#125; //ç»˜åˆ¶æ–‡æœ¬&#123;type: &quot;line&quot;, x1: Number, y1: Number, x2: Number, y2: Number, width: Number, height: Number, color: é¢œè‰²&#125; //ç»˜åˆ¶ç›´çº¿ï¼Œwidth - ç›´çº¿ç²—ç»†&#123;type: &quot;custom&quot;, onDraw: Function(canvas, scale)&#125; //è‡ªå®šä¹‰ç»˜åˆ¶ï¼ŒonDraw - åœ¨ç»˜åˆ¶æ—¶è°ƒç”¨çš„å‡½æ•°ï¼Œä¼ å‚åŒ…æ‹¬å½“å‰ç»˜åˆ¶çš„Canvaså¯¹è±¡å’Œscaleæ•°å€¼ï¼Œæ— è¿”å›å€¼ PSï¼šcustom drawingçš„canvasä¸ºAndroidçš„Canvasç±» ElementsElementsï¼ŒæŒ‡UIä¸­çš„æ§ä»¶ï¼Œä¸Drawingä¸åŒçš„æ˜¯Elementsåœ¨æè¿°å¯¹è±¡é‡Œä¸ºä¸€ä¸ªåŒ…å«å„æ§ä»¶çš„å¯¹è±¡ Elementsä¸­çš„æ¯ä¸€ä¸ªæ§ä»¶éƒ½æœ‰å…¶å”¯ä¸€ä¸”ç‹¬ç‰¹çš„åç§°ï¼Œå³æ¯ä¸€ä¸ªå¯¹è±¡éƒ½æœ‰å…¶å”¯ä¸€çš„å»º 123456//æ ¼å¼elements: &#123; &quot;åç§°1&quot;: &#123;/*å…ƒç´ 1*/&#125;, &quot;åç§°2&quot;: &#123;/*å…ƒç´ 2*/&#125;, ...&#125; æ¯ä¸€ä¸ªå…ƒç´ éƒ½æœ‰ä»¥ä¸‹åŸºæœ¬å±æ€§ï¼š 1234567&#123; type: &quot;type&quot;, //å…ƒç´ ç±»å‹ x: number, //xåæ ‡ y: number, //yåæ ‡ z: number, //zåæ ‡ï¼Œç”¨äºåŒºåˆ†æ§ä»¶å±‚æ¬¡é˜²æ­¢æ··ä¹±é‡å  clicker: Clickå¯¹è±¡ //æ§ä»¶ç‚¹å‡»å¯¹è±¡&#125; æ­¤å¤„æ§ä»¶ç‚¹å‡»å¯¹è±¡æŒ‡ä¸€ä¸ªåŒ…å«çŸ­æ—¶ç‚¹å‡»äº‹ä»¶å’Œé•¿æ—¶ç‚¹å‡»äº‹ä»¶å‡½æ•°çš„å¯¹è±¡ï¼š 12345678910&#123; onClick: function(position, container, tileEntity, window, canvas, scale) &#123; //container - ç•Œé¢æ‰“å¼€çš„å®¹å™¨ //tileEntity - å¦‚æœç•Œé¢æ˜¯ä¸ºæŸæ–¹å—å®ä½“æ‰“å¼€çš„ï¼Œå®ƒå°±ä¼šä¼ å‡ºå®ƒï¼Œå¦åˆ™ä¼ å‡ºnull &#125;, onLongClick: function(position, container, tileEntity, window, canvas, scale) &#123; //container - ç•Œé¢æ‰“å¼€çš„å®¹å™¨ //tileEntity - å¦‚æœç•Œé¢æ˜¯ä¸ºæŸæ–¹å—å®ä½“æ‰“å¼€çš„ï¼Œå®ƒå°±ä¼šä¼ å‡ºå®ƒï¼Œå¦åˆ™ä¼ å‡ºnull &#125;&#125; åŒæ ·åœ°ï¼Œå¸¸ç”¨å…ƒç´ å¦‚ä¸‹ï¼š 123456789&#123;type: &quot;slot&quot;, x: Number, y: Number, size: Number, visual: Boolean/Function(id, data, count), bitmap: è´´å›¾, clicker: Clickå¯¹è±¡&#125; //ç‰©å“æ ¼ï¼Œvisual - æ˜¯å¦å¯é€‰ä¸­&#123;type: &quot;invSlot&quot;, x: Number, y: Number, size: Number, index: Number, bitmap: è´´å›¾&#125; //èƒŒåŒ…ç‰©å“æ ¼ï¼Œindex - å¯¹åº”èƒŒåŒ…ç‰©å“æ ¼id&#123;type: &quot;button&quot;, x: Number, y: Number, bitmap: è´´å›¾, bitmap2: è´´å›¾, scale: Number, clicker: Clickå¯¹è±¡&#125; //æŒ‰é’®ï¼Œbitmap2 - æŒ‰ä¸‹æ—¶è´´å›¾ï¼Œbuttonçš„Clickå¯¹è±¡ä¸å…¶ä»–çš„ç¨æœ‰ä¸åŒï¼Œå…¶ç‚¹å‡»äº‹ä»¶å‡½æ•°çš„å‚æ•°ä¸º(container, tileEntity, position, window, canvas, scale)&#123;type: &quot;closeButton&quot;, x: Number, y: Number, global: Boolean, bitmap: è´´å›¾, bitmap2: è´´å›¾, scale: Number&#125; //å…³é—­çª—å£æŒ‰é’®ï¼Œglobal - ä¸ºçœŸæ—¶å°†å…³é—­çª—å£ç»„å†…æ‰€æœ‰çª—å£ï¼Œå¦åˆ™åªå…³é—­æ‰€åœ¨å•çª—å£ï¼Œè¯¦è§ä¸‹æ–‡&#123;type: &quot;scale&quot;, x: Number, y: Number, direction: Number, bitmap: è´´å›¾, scale: Number, invert: Number, overlay: è´´å›¾, overlayScale: Number, overlayOffset: &#123;x: Number, y: Number&#125;&#125; //åˆ»åº¦è¡¨æˆ–è¿›åº¦æ ï¼Œdirection - æœå‘ï¼Œè¯¦è§ä¸‹æ–‡ï¼Œinvert - æ˜¯å¦ç¿»è½¬è´´å›¾ï¼Œoverlay - é‡å åœ¨scaleä¸Šçš„è´´å›¾ï¼ŒScaleå’ŒOffsetåˆ†åˆ«ä¸ºå…¶ç¼©æ”¾æ¯”ä¾‹å’Œç›¸å¯¹scaleå…ƒç´ çš„ä½ç½®&#123;type: &quot;text&quot;, x: Number, y: Number, width: Number, height: Number, text: String, font: å­—ä½“&#125; //æ–‡æœ¬&#123;type: &quot;fps&quot;, interpolate: Boolean, period: Number, font: å­—ä½“, multiline: Boolean, format: Boolean, maxCharsPerLine: Number&#125;//FPSæ–‡æœ¬&#123;type: &quot;image&quot;, x: Number, y: Number, bitmap: è´´å›¾, scale: Number, overlay: è´´å›¾, overlayScale: Number, overlayOffset: &#123;x: Number, y: Number&#125;, clicker: Clickå¯¹è±¡&#125; //è´´å›¾&#123;type: &quot;custom&quot;, onSetup: Function(element: Element), onDraw: Function(element, canvas, scale), onTouchReleased: Function(element), onBindingUpdated: Function(element, name, value), onReset: Function(element), onRelease: Function(element), onContainerInit: Function(element, container, elementName)&#125;//è‡ªå®šä¹‰å…ƒç´ ï¼Œå„å‡½æ•°å‡æ— è¿”å›å€¼ é™¤ä»¥ä¸Šå…ƒç´ ä¹‹å¤–ï¼Œè¿˜æœ‰Scrollï¼ŒSwitchï¼ŒTabç­‰å…ƒç´ æœªè¢«æåŠï¼Œä½†ç”¨æ³•å¤§åŒå°å¼‚ï¼Œå»ºè®®è‡ªè¡ŒæŒ‰ç…§å®˜æ–¹æ–‡æ¡£è¿›è¡Œå°è¯•ï¼Œè¿™æ ·æ‰æ˜¯æœ€æœ‰æ•ˆç‡çš„å­¦ä¹ æ–¹æ³• directionå‚æ•°: 0 - æœå³1 - æœä¸Š2 - æœå·¦3 - æœä¸‹ åœ¨ç®€è¦ä»‹ç»å®ŒDrawingå’ŒElmentsåï¼Œåœ¨ä»‹ç»é‡å¤´æˆWindowä¹‹å‰å…ˆæ¥è¡¥å……ä¸€ç‚¹å…¶ä»–å†…å®¹ è‡ªå®šä¹‰å‚æ•°ç”¨äºä¿®æ”¹Windowçš„ä¸€äº›é»˜è®¤å‚æ•°ï¼Œå¦‚ä¸‹ï¼š 12345678params: &#123; slot: &quot;æ ¼å­è´´å›¾&quot;, invSlot: &quot;èƒŒåŒ…æ ¼å­è´´å›¾&quot;, frame: &quot;å¹³é¢è¾¹æ¡†è´´å›¾&quot;, selection: &quot;æ ¼å­é«˜äº®è´´å›¾&quot;, closeButton: &quot;å…³é—­æŒ‰é’®è´´å›¾&quot;, closeButton2: &quot;æŒ‰ä¸‹çš„å…³é—­æŒ‰é’®è´´å›¾&quot;,&#125; UI.getContext()è¯¥å‡½æ•°ç”¨äºè·å–Android UIçº¿ç¨‹çš„ä¸Šä¸‹æ–‡ï¼Œä»¥ä¾¿è°ƒç”¨Android APIæ¥æ“æ§ç•Œé¢æ§ä»¶ UI.getScreenHeight()è·å–ä»¥unitä¸ºå•ä½çš„å±å¹•é«˜åº¦ï¼Œä¸ä¹‹ç›¸åŒçš„è¿˜æœ‰UI.getScreenRelativeHeight() ElementSetå…ƒç´ é›†åˆ WindowLocationçª—å£ä½ç½®åŠå¤§å°ï¼Œä½¿ç”¨unitä½œä¸ºå•ä½ï¼Œè¯¦ç»†å‚æ•°è§å®˜æ–¹æ–‡æ¡£ Styleçª—å£é£æ ¼ï¼Œæœ‰CLASSICå’ŒDEFAULTä¸¤ç§ Slotï¼ŒFullSlotçª—å£ä¸­çš„ç‰©å“æ ¼å¯¹è±¡ï¼ŒSlotåŒ…å«ç‰©å“çš„idã€ç‰¹æ®Šå€¼ã€æ•°é‡å’Œé¢å¤–æ•°æ®ï¼ŒFullSlotåˆ™åœ¨å…¶åŸºç¡€ä¸Šæ·»åŠ äº†å¦‚dropã€setç­‰æ–¹æ³• Windowåœ¨å®˜æ–¹æ–‡æ¡£ä¸­ï¼Œçª—å£(Window)æœ‰å¦‚ä¸‹å‡ ä¸ªç±»ï¼š StandardWindow StandartWindow TabbedWindow Window WindowGroup åœ¨è¿™é‡Œå°†æš‚å…ˆç•¥è®²StandartWindowï¼ŒWindowå’ŒWindowGroup StandartWindowå®šä¹‰ä¸ºUI.StandartWindowç±»ï¼Œä»¥ä¸€ä¸ªæè¿°å¯¹è±¡å®šä¹‰ç•Œé¢ æè¿°å¯¹è±¡æ ¼å¼(æ‘˜è‡ªBigFishå’Œæ–¹æ³•æ”¾å¯’å‡ç¿»è¯‘çš„å®˜æ–¹Wikiç¬¬8-2èŠ‚)ï¼š 123456789101112131415161718192021222324252627282930&#123; standart: &#123;//è¿™ç§ç±»å‹çš„ç•Œé¢æ ‡å‡†å‚æ•°åœ¨è¿™é‡Œå†™å…¥ï¼Œå®ƒä»¬å…è®¸ä½ å¿«é€Ÿåœ°è®¾ç½®åŸºæœ¬çš„å…ƒç´ ï¼Œä¾‹å¦‚æ ‡é¢˜ã€èƒŒæ™¯å’ŒèƒŒåŒ… //å¦‚æœä½ æƒ³å®šä¹‰æ ‡å‡†çš„å…ƒç´ ï¼Œä½†æ˜¯åˆä¸æƒ³æ”¹å˜é»˜è®¤å€¼ï¼Œé‚£ä¹ˆå°±å•å†™ä¸Šå€¼ - standart: trueï¼Œä¾‹å¦‚inventory: &#123;standart: true&#125; header: &#123;//è®¾å®šä½ æ˜¯å¦éœ€è¦ä¸€ä¸ªæ ‡å¤´ï¼ŒåŒ…å«ä¸€ä¸ªæ ‡é¢˜å’Œå’Œä¸€ä¸ªå…³é—­æŒ‰é’® text: &#123;//å¿…éœ€çš„å‚æ•°ï¼Œå¦‚æœä½ å®šä¹‰äº†æ ‡å¤´ text: &quot;æ ‡é¢˜æ–‡æœ¬&quot;, //æ–‡æœ¬å†…å®¹ï¼Œå¿…éœ€çš„å‚æ•° &#125;, Font: &#123;...&#125;, //æ–‡æœ¬å­—ä½“ï¼Œå¦‚æœä½ æƒ³æ”¹å˜é»˜è®¤å€¼ï¼Œå°±è¯·å®šä¹‰å®ƒ color: é¢œè‰², //åªæœ‰å½“ä½ æƒ³æ”¹å˜æ ‡é¢˜é¢œè‰²çš„æ—¶å€™æ‰éœ€è¦ frame: &quot;è¾¹æ¡†æ–‡æœ¬&quot;, //åªæœ‰å½“ä½ æƒ³æ”¹å˜æ ‡å¤´è¾¹æ¡†çš„æ—¶å€™æ‰éœ€è¦ width: 80, //è¡¨å¤´çš„é«˜åº¦ï¼Œä»¥unitä¸ºå•ä½ hideButton: true, //å®šä¹‰å¹¶è®¾ç½®ä¸ºtrueåˆ™ç§»é™¤å…³é—­æŒ‰é’® &#125;, inventory: &#123;//è¦æƒ³å®šä¹‰æ ‡å‡†èƒŒåŒ…ï¼Œè¯·ä½¿ç”¨inventory: &#123;standart: true&#125; width: 300, //èƒŒåŒ…çª—å£çš„å®½åº¦ padding: 20, //èƒŒåŒ…çª—å£çš„å†…è¾¹è· &#125;, background: &#123;//è¦å®šä¹‰ä¸€ä¸ªé»˜è®¤èƒŒæ™¯ï¼Œè¯·ä½¿ç”¨background: &#123;standart: true&#125; color: é¢œè‰², //å¦‚æœä½ æƒ³æ”¹å˜èƒŒæ™¯çš„é¢œè‰²å°±å®šä¹‰å®ƒ bitmap: &quot;èƒŒæ™¯å›¾ç‰‡&quot;, //å¦‚æœä½ æƒ³æ·»åŠ ä¸€ä¸ªèƒŒæ™¯å›¾ç‰‡å°±å®šä¹‰å®ƒ frame: &quot;è¾¹æ¡†è´´å›¾&quot; //å¦‚æœä½ æƒ³æ·»åŠ ä¸€ä¸ªè¾¹æ¡†å°±å®šä¹‰å®ƒ &#125;, minHeight: 650, //å¦‚æœä»¥unitä¸ºå•ä½çš„çª—å£é«˜åº¦å°äºè¿™ä¸ªå‚æ•°çš„å€¼ï¼Œé‚£ä¹ˆçª—å£å°†è‡ªåŠ¨è½¬å˜ä¸ºæ»šåŠ¨çª—å£ï¼Œä»¥æ­¤æ¥ä¿è¯å®ƒçš„å†…éƒ¨å¤§å°çš„é«˜åº¦ä¸ºminHeight units &#125;, params: &#123; //è‡ªå®šä¹‰ï¼ˆæ”¹å˜é»˜è®¤æè´¨ï¼‰ &#125;, drawing: [/*èƒŒæ™¯æ¸²æŸ“æŒ‡ä»¤*/], elements: &#123;/*å…ƒç´ çš„æè¿°*/&#125;&#125; StandartWindowæ˜¯é€‚ç”¨æ€§æœ€é«˜çš„çª—å£ï¼Œåœ¨å¤šäººæ¸¸æˆä¸­è¡¨ç°ä¼˜äºWindowï¼Œä½†å°½ç®¡å¦‚æ­¤ç»å¯¹å¸ƒå±€ä»æ˜¯å…¶ä¸€å¤§ç¼ºç‚¹ï¼Œåœ¨å®é™…ä½¿ç”¨æ—¶éœ€è¦è€ƒè™‘åˆ°ä¸åŒçš„å±å¹•å°ºå¯¸ä¼šé€ æˆçš„æ§ä»¶åç§»ã€‚å› æ­¤ï¼Œå°½é‡å°†æ§ä»¶æ”¾ç½®åœ¨å±å¹•å†…éƒ¨åŒºåŸŸ Windowç›¸è¾ƒäºStandartWindowï¼ŒWindowçš„ä¼˜ç‚¹åœ¨äºå…¶çµæ´»æ€§ï¼Œä¸é»˜è®¤ä¸ºæ–¹å—äº’åŠ¨ç•Œé¢çš„StandartWindowä¸åŒï¼ŒWindowå¯ä»¥é€šè¿‡ä¿®æ”¹WindowLocationæ¥æ˜¾ç¤ºåœ¨æ¸¸æˆç•Œé¢ä¸Šçš„ä»»æ„ä½ç½®ï¼Œä¸”å¯ä»¥é€šè¿‡é€‚å½“ä¿®æ”¹paddingå€¼æ¥å°½å¯èƒ½é¿å…æ§ä»¶åç§»ã€‚ Windowé»˜è®¤æ²¡æœ‰å…³é—­æŒ‰é’®å’Œç©å®¶èƒŒåŒ…æ ï¼Œåœ¨ä½¿ç”¨æ—¶éœ€è¦æŒ‰éœ€è‡ªè¡Œæ·»åŠ  WindowGroupStandartWindowå’ŒWindowéƒ½æ˜¯å•ä¸ªçª—å£ï¼Œå¦‚æœéœ€è¦å¤æ‚çš„ç•Œé¢é‚£ä¹ˆç”¨å¤šä¸ªçª—å£ç»„åˆæ— ç–‘æ˜¯æœ€æœ€å¥½çš„é€‰æ‹©ï¼Œå°†ä¸€ä¸ªå¤æ‚çª—å£åˆ†ä¸ºå¤šä¸ªå°çª—å£ä¹Ÿå¯ä»¥æé«˜è°ƒè¯•æ•ˆç‡ã€‚ WindowGroupçš„ä¸»è¦ä½œç”¨å°±æ˜¯å°†å¤šä¸ªWindowæ•´åˆåœ¨ä¸€èµ·ï¼Œå°†å…¶ç»„åˆå¸ƒå±€åœ¨ä¸€èµ·ï¼Œä¾‹å¦‚ç°åœ¨çš„å·¥ä½œå°ç•Œé¢å°±æ˜¯ä¸€ä¸ªåŒ…å«3ä¸ªWindowçš„WindowGroup Hierarchic UIåº“HierarchicUIç”±Zhekaå¼€å‘ï¼Œç”¨äºä»¥jsonæ¥å®šä¹‰åˆ†å±‚å¼çš„UIï¼Œå¯ä»¥æ–¹ä¾¿çš„åˆ›å»ºç»å¯¹å¸ƒå±€å’Œçº¿æ€§å¸ƒå±€ï¼Œå±Šæ—¶jsonä¼šè¢«è§£æä¸ºWindowGroup æ­¤å¤–ï¼Œè¯¥åº“è¿˜å¯ä»¥å®šä¹‰è§†å›¾å¸ƒå±€å¹¶ä¸”å¯¹äºä¸€ä¸ªè§†å›¾å¯ä»¥çµæ´»åœ°åµŒå…¥åˆ°å…¶ä»–ç•Œé¢ï¼Œå¹¶ä¸”åŸºäºå®ƒåˆ›å»ºç»§æ‰¿å…¶å…¨éƒ¨å±æ€§çš„å­è§†å›¾ï¼Œæ— ç–‘è®©WindowGroupå±•ç¤ºç¾è§‚çš„å¤æ‚ç•Œé¢æ›´åŠ å®¹æ˜“ã€‚","categories":[],"tags":[]}],"categories":[],"tags":[]}